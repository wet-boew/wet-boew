function makeMeter(a){function b(b,c){return null!==a.getAttribute(b)?a.getAttribute(b):c?c:null}function c(b){var c,d=a.className.split(" ");if(0===d.length)return a.className=b,void 0;for(c in d)if(b===c)return;d.push(b),a.className=d.join(" ")}function d(b){for(var c=a.className.split(" "),d=c.length;d--;)if(c[d]===b){c.splice(d,1);break}a.className=c.join(" ")}function e(){for(var b=a;b.parent&&"form"!==b.parent.tagName.toLowerCase();)b=b.parent;return"form"===b.tagName.toLowerCase()?b:null}function f(){var b,c,d=a.id,e=[];if(null===d||null===this.form)return null;b=this.form.getElementsByTagName("label");for(c in b)c["for"]===d&&e.push(c);return e.length>0?e:null}var g,h;this.min=parseFloat(null!==b("min")?b("min"):0),this.max=parseFloat(null!==b("max")?b("max"):0),this.high=parseFloat(b("high")),this.low=parseFloat(b("low")),this.optimum=parseFloat(b("optimum")),this.value=null!==b("value")?parseFloat(b("value")):a.textContent?a.textContent:a.innerText,a.textContent?a.textContent="":a.innerText&&(a.innerText=""),this.title=null!==b("title")?b("title"):this.value,this.form=e(),this.labels=f(),this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max),null!==this.low&&this.low<this.min&&(this.low=this.min),null!==this.high&&this.high>this.max&&(this.high=this.max),g=0===a.children.length?document.createElement("div"):a.children[0],h=a.offsetWidth,h*=(this.value-this.min)/(this.max-this.min),g.style.width=Math.ceil(h)+"px",this.high&&this.value>=this.high?c("meterValueTooHigh"):this.low&&this.value<=this.low?c("meterValueTooLow"):(d("meterValueTooHigh"),d("meterValueTooLow")),this.value>=this.max?c("meterIsMaxed"):d("meterIsMaxed"),a.title=this.title,0===a.children.length&&a.appendChild(g)}document.createElement("meter");for(var meters=document.getElementsByTagName("meter"),i=meters.length;i--;)makeMeter(meters[i]);