/*!
 * Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * www.tbs.gc.ca/ws-nw/wet-boew/terms / www.sct.gc.ca/ws-nw/wet-boew/conditions
 */
(function(d){var a,b;a=(typeof window.pe!=="undefined"&&window.pe!==null)?window.pe:{fn:{}};b={language:(d("html").attr("lang").length>0?d("html").attr("lang"):"en"),touchscreen:"ontouchstart" in document.documentElement,theme:"",suffix:d('body script[src*="/pe-ap-min.js"]').length>0?"-min":"",header:d("#wb-head"),main:d("#wb-main"),secnav:d("#wb-sec"),footer:d("#wb-foot"),urlquery:"",html5:(function(){var e=false,f=/\s+(X?HTML)\s+([\d\.]+)\s*([^\/]+)*\//gi;if(typeof document.namespaces!=="undefined"){e=(document.all[0].nodeType===8)?f.test(document.all[0].nodeValue):false}else{e=(document.doctype!==null)?f.test(document.doctype.publicId):false}return(e)?false:true}()),svg:(d('<svg xmlns="http://www.w3.org/2000/svg" />').get(0).ownerSVGElement!==undefined),ie:d.browser.msie?d.browser.version:0,_init:function(){var m,j,l,i,g,k,f,h,e=false;d("html").removeClass("no-js").addClass(a.theme+((a.touchscreen)?" touchscreen":""));a.urlquery=a.url(document.location).params;l=a.main.find("a[href*='#']");g=l.filter(":not([href^='#'])");i=l.filter("[href^='#']");if(a.mobilecheck()){a.mobile=true;d("body > div").attr("data-role","page").addClass("ui-page-active");d(document).on("mobileinit",function(){d.extend(d.mobile,{ajaxEnabled:false,pushStateEnabled:false,autoInitializePage:(e?true:false)})});g.each(function(){k=d(this);f=a.url(k.attr("href"));if((k.attr("data-replace-hash")===undefined&&(f.hash.length>0&&window.location.hostname===f.host))||(k.attr("data-replace-hash")!==undefined&&k.attr("data-replace-hash")===true)){k.attr("href",f.removehash()+(f.params.length>0?"&amp;":"?")+"hashtarget="+f.hash)}});d(document).on("pageinit",function(){i.off("click vclick").on("click vclick",function(){k=d(d(this).attr("href"));k.filter(":not(a, button, input, textarea, select)").attr("tabindex","-1");if(k.length>0){d.mobile.silentScroll(a.focus(k).offset().top)}});if(a.urlquery.hashtarget!==undefined){h=a.main.find("#"+a.urlquery.hashtarget);h.filter(":not(a, button, input, textarea, select)").attr("tabindex","-1");if(h.length>0){setTimeout(function(){d.mobile.silentScroll(a.focus(h).offset().top)},0)}}});a.add.css([a.add.themecsslocation+"jquery.mobile"+a.suffix+".css"]);a.add._load([a.add.liblocation+"jquery.mobile/jquery.mobile.min.js"])}else{i.on("click vclick",function(){k=d(d(this).attr("href"));k.filter(":not(a, button, input, textarea, select)").attr("tabindex","-1");if(k.length>0){a.focus(k)}});if(window.location.hash.length>0){k=d(window.location.hash);k.filter(":not(a, button, input, textarea, select)").attr("tabindex","-1");if(k.length>0){a.focus(k)}}}d.when.apply(d,d.map(d("*[data-ajax-replace], *[data-ajax-append]"),function(r){j=d(r);var q=false,n;if(j.attr("data-ajax-replace")!==undefined){q=true;n=j.attr("data-ajax-replace")}else{if(j.attr("data-ajax-append")!==undefined){n=j.attr("data-ajax-append")}}return d.get(n,function(o){if(q){j.empty()}j.append(d(o))},"html")})).always(function(){d(document).on("languageloaded",function(){if(wet_boew_theme!==null){wet_boew_theme.init();if(a.mobile===true){d(document).on("mobileviewloaded",function(){if(d.mobile!==undefined){d.mobile.initializePage()}else{e=true}});wet_boew_theme.mobileview()}}else{if(a.mobile===true){if(d.mobile!==undefined){d.mobile.initializePage()}else{e=true}}}a.dance()});a.add.language(a.language)});a.polyfills()},depends:{_ind:[],is:function(e){return -1!==d.inArray(e,a.depends._ind)},put:function(e){a.depends._ind[a.depends._ind.length]=e},on:(function(){d(document).on("wet-boew-dependency-loaded",function(){var e,f;for(e=0,f=a.depends.on.length;e<f;e+=1){a.depends.on[e](e)}});return[]}())},mobile:false,mobilecheck:function(){return(window.innerWidth<768&&!(a.ie>0&&a.ie<9))},pagecontainer:function(){return d("#wb-body-sec-sup,#wb-body-sec,#wb-body").add("body").eq(0)},parameter:function(e,f){return(a.html5)?f.data(e):f.attr("class").replace("/.*"+e+"-([a-z0-9_]+).*/i","$1")},resize:function(e){ResizeEvents.initialise();ResizeEvents.eventElement.bind("x-text-resize x-zoom-resize x-window-resize",function(){e()});return},url:function(f){var e;e=document.createElement("a");e.href=f;return{source:e.href,protocol:e.protocol.replace(":",""),host:e.hostname,port:e.port==="0"?"80":e.port,query:e.search,params:(function(){var j,i,k,h,l,g;i={};h=e.search.replace(/^\?/,"").split("&");for(l=0,g=h.length;l<g;l+=1){j=h[l];if(j){k=j.split("=");i[k[0]]=k[1]}}return i}()),file:e.pathname.match(/\/([^\/?#]+)$/i)?e.pathname.match(/\/([^\/?#]+)$/i)[1]:"",hash:e.hash.replace("#",""),path:e.pathname.replace(/^([^\/])/,"/$1"),relative:e.href.match(/tps?:\/\/[^\/]+(.+)/)?e.href.match(/tps?:\/\/[^\/]+(.+)/)[1]:"",segments:e.pathname.replace(/^\//,"").split("/"),removehash:function(){return this.source.replace(/#([A-Za-z0-9-_=&]+)/,"")}}},_execute:function(f,g){if(f!==undefined){var e=(typeof f._exec!=="undefined")?f._exec:f.exec;if(typeof f.depends!=="undefined"){a.add.js(f.depends,function(){e(g)})}else{e(g)}}return},cssenabled:function(){return d("link").get(0).disabled},limit:function(f){var e;e=d(f).attr("class").match(/\blimit-\d+/);if(!e){return 0}return Number(e[0].replace(/limit-/i,""))},focus:function(e){setTimeout(function(){return(typeof e.jquery!=="undefined"?e.focus():d(e).focus())},0);return e},string:{ify:(function(){return{link:function(e){return e.replace(/[a-z]+:\/\/[a-z0-9-_]+\.[a-z0-9-_@:~%&\?\+#\/.=]+[^:\.,\)\s*$]/ig,function(f){return'<a href="'+f+'">'+((f.length>25)?f.substr(0,24)+"...":f)+"</a>"})},at:function(e){return e.replace(/(^|[^\w]+)\@([a-zA-Z0-9_]{1,15}(\/[a-zA-Z0-9-_]+)*)/g,function(f,h,g){return h+'@<a href="http://twitter.com/'+g+'">'+g+"</a>"})},hash:function(e){return e.replace(/(^|[^&\w'"]+)\#([a-zA-Z0-9_]+)/g,function(f,h,g){return h+'#<a href="http://search.twitter.com/search?q=%23'+g+'">'+g+"</a>"})},clean:function(e){return this.hash(this.at(this.link(e)))}}}()),pad:function(f,e){var g;g=String(f);while(g.length<e){g="0"+g}return g}},date:{convert:function(e){if(e.constructor===Date){return e}if(e.constructor===Array){return new Date(e[0],e[1],e[2])}if(e.constructor===Number){return new Date(e)}if(e.constructor===String){return new Date(e)}if(typeof e==="object"){return new Date(e.year,e.month,e.date)}return NaN},compare:function(f,e){if(isFinite(f=this.convert(f).valueOf())&&isFinite(e=this.convert(e).valueOf())){return(f>e)-(f<e)}return NaN},in_range:function(f,g,e){if(isFinite(f=this.convert(f).valueOf())&&isFinite(g=this.convert(g).valueOf())&&isFinite(e=this.convert(e).valueOf())){return g<=f&&f<=e}return NaN},to_iso_format:function(g,f){var e;e=this.convert(g);if(f){return e.getFullYear()+"-"+a.string.pad(e.getMonth()+1,2,"0")+"-"+a.string.pad(e.getDate(),2,"0")+" "+a.string.pad(e.getHours(),2,"0")+":"+a.string.pad(e.getMinutes(),2,"0")}return e.getFullYear()+"-"+a.string.pad(e.getMonth()+1,2,"0")+"-"+a.string.pad(e.getDate(),2,"0")}},menu:{navcurrent:function(e,m,f){var o,l,q,j,g=a.url(window.location.href).removehash(),n=[],h=[],k;e=(typeof e.jquery!=="undefined"?e:d(e));m=d((typeof m.jquery!=="undefined"?m:d(m)).find("a").get().reverse());f=(typeof f==="undefined")?"nav-current":f;m.each(function(i){n[i]=d(this).attr("href");h[i]=d(this).text()});d(e.find("a").get().reverse()).each(function(){o=d(this);l=o.attr("href");q=o.text();k=(l===g);for(j=0;!k&&j<n.length;j+=1){if(n[j]!=="#"&&(n[j]===l||h[j]===q)){k=true;break}}if(k){o.addClass(f);return false}});return(k?o:d())},buildmobile:function(e,r,j,f,q){var g=d('<div data-role="controlgroup"></div>'),i=(typeof e.jquery!=="undefined"?e:d(e)).find("> div, > ul, h"+r),k,h,n,m,l=(f!==undefined?f:false),o=(q!==undefined?q:false);if(i.first().is("ul")){g.append(d('<ul data-role="listview" data-theme="'+j+'"></ul>').append(i.first().children("li")))}else{i.each(function(s){var t=d(this);if(t.is("h"+r)){n=t.children("a");h=d('<div data-role="collapsible"'+(o||n.hasClass("nav-current")?' data-collapsed="false"':"")+"><h"+r+">"+t.text()+"</h"+r+"></div>");if(l){t=t.parent().find("a").eq(1).closest("ul, div, h"+r+1).first();k=t}else{k=t.next()}if(k.is("ul")){if(!l){k.append(d("<li></li>").append(t.children("a").html(a.dic.get("%all")+" - "+n.html())))}m=k.find("li ul");m.each(function(u){var v=d(this);n=v.prev("a");if((r+1+u)<7){v.attr("data-role","listview").attr("data-theme",j).wrap('<div data-role="collapsible"'+(o||n.hasClass("nav-current")?' data-collapsed="false"':"")+"></div>");v.parent().prepend("<h"+(r+1+u)+">"+n.html()+"</h"+(r+1+u)+">");v.append('<li><a href="'+n.attr("href")+'">'+a.dic.get("%all")+" - "+n.html()+"</a></li>");n.remove()}else{v.attr("data-role","listview").attr("data-theme",j)}});h.append(d('<ul data-role="listview" data-theme="'+j+'"></ul>').append(k.children("li")));h.find("ul").wrap('<div data-role="controlgroup">'+(m.length>0?'<div data-role="collapsible-set" data-theme="'+j+'"></div>':"")+"</div>")}else{h.append(a.menu.buildmobile(t.parent(),r+1,j,false,o));if(!l){h.find('div[data-role="collapsible-set"]').eq(0).append(t.children("a").html(a.dic.get("%all")+" - "+n.html()).attr("data-role","button").attr("data-theme",j).attr("data-icon","arrow-r").attr("data-iconpos","right"))}}g.append(h)}else{if(t.is("div")){g.append(t.children("a").attr("data-role","button").attr("data-theme",j).attr("data-icon","arrow-r").attr("data-iconpos","right"))}}});g.children().wrapAll('<div data-role="collapsible-set" data-theme="'+j+'"></div>')}return g},expandcollapsemobile:function(i,e,g,f){var h=d((typeof i.jquery!=="undefined"?i:d(i))).find(e);if(f){h.parents('div[data-role="collapsible"]').attr("data-collapsed",g)}else{h.closest('div[data-role="collapsible"]').attr("data-collapsed",g)}},correctmobile:function(e){d((typeof e.jquery!=="undefined"?e:d(e))).find(".ui-collapsible-set").each(function(){var f=d(this);if(f.find("> ul .ui-collapsible").length>0){f=f.children("ul")}f.children().each(function(){var h=d(this),g=h.is("a")?h:h.find("a").first();if(h.prev().length>0){g.removeClass("ui-corner-top")}else{g.addClass("ui-corner-top")}if(h.next().length>0){g.removeClass("ui-corner-bottom")}else{g.addClass("ui-corner-bottom")}})})}},polyfills:function(){var f=a.add.liblocation,e=(function(k){var i=k.createElement("details"),h,g,j;if(typeof i.open==="undefined"){return false}g=k.body||(function(){var l=k.documentElement;h=true;return l.insertBefore(k.createElement("body"),l.firstElementChild||l.firstChild)}());i.innerHTML="<summary>a</summary>b";i.style.display="block";g.appendChild(i);j=i.offsetHeight;i.open=true;j=j!==i.offsetHeight;g.removeChild(i);if(h){g.parentNode.removeChild(g)}return j}(document));if(!window.localStorage){a.add._load(f+"polyfills/localstorage"+a.suffix+".js")}if(typeof document.createElement("progress").position==="undefined"){a.add._load(f+"polyfills/progress"+a.suffix+".js");d("progress").addClass("polyfill")}if(!e){a.add._load(f+"polyfills/detailssummary"+a.suffix+".js");d("details").addClass("polyfill")}},add:(function(){return{head:document.head||document.getElementsByTagName("head"),liblocation:(function(){var e=d('body script[src*="/pe-ap"]').attr("src");return e.substr(0,e.lastIndexOf("/")+1)}()),themecsslocation:(function(){var e=d('head link[rel="stylesheet"][href*="'+wet_boew_theme.themename()+'"]');return e.length>0?e.attr("href").substr(0,e.attr("href").lastIndexOf("/")+1):"theme-not-found/"}()),staged:[],_load:function(g,f){var e=a.add.head,h=(f!==undefined?f:"wet-boew-dependency-loaded");if(d.inArray(g,this.staged)>-1){return this}setTimeout(function(){if(typeof e.item!=="undefined"){if(!e[0]){setTimeout(arguments.callee,25);return}e=e[0]}var i=document.createElement("script"),j=false;a.add.set(i,"async","async");i.onload=i.onreadystatechange=function(){if((i.readyState&&i.readyState!=="complete"&&i.readyState!=="loaded")||j){return false}i.onload=i.onreadystatechange=null;j=true;a.depends.put(g);d(document).trigger({type:h,js:g})};i.src=g;if((a.ie>0&&a.ie<9)||!e.insertBefore){d(i).appendTo(d(e)).delay(100)}else{e.insertBefore(i,e.firstChild)}},0);this.staged[this.staged.length]=g;return this},set:function(g,e,f){g.setAttribute(e,f);return this},css:function(g){var f=a.add.head,e=document.createElement("link");a.add.set(e,"rel","stylesheet").set(e,"href",g);if((a.ie>0&&a.ie<10)||!f.insertBefore){d(e).appendTo(d(f)).attr("href",g)}else{f.insertBefore(e,f.firstChild)}return this},depends:function(g){var f=a.add.liblocation,e=d.map(g,function(h){return(/^http(s)?/i.test(h))?h:f+"dependencies/"+h+a.suffix+".js"});return e},language:function(f){var e=a.add.liblocation+"i18n/"+f+a.suffix+".js";a.add._load(e)},js:function(g,f){var e;g=a.add.depends(g);for(e=0;e<g.length;e+=1){if(!a.depends.is(g[e])){a.add._load(g[e])}}a.depends.on[a.depends.on.length]=function(h){var i=true;for(e=0;e<g.length;e+=1){if(!a.depends.is(g[e])){i=false}}if(i){a.depends.on[h]=function(){};f()}};d(document).trigger("wet-boew-dependency-loaded");return this},meta:function(f,g){var e;e=document.createElement("meta");a.add.set(e,"name",f).set(e,"content",g);a.add.head.appendChild(e);return this}}}()),dance:function(){var e,f=(typeof wet_boew_properties!=="undefined"&&wet_boew_properties!==null)?wet_boew_properties:false;d('[class^="wet-boew-"]').each(function(){var h=d(this),j=h.attr("class").split(" "),g;for(g=0;g<j.length;g+=1){if(j[g].indexOf("wet-boew-")===0){j[g]=j[g].substr(9).toLowerCase();if(typeof a.fn[j[g]]!=="undefined"){a._execute(a.fn[j[g]],h)}}}});if(f){for(e=0;e<f.globals.length;e+=1){a._execute(a.fn[f.globals[e]],document)}}window.onresize=function(){if(a.mobile!==a.mobilecheck()){window.location.href=a.url(window.location.href).removehash()}}}};window.pe=d.extend(true,a,b);return window.pe}(jQuery))._init();(function(b){var a=window.pe||{fn:{}};a.fn.archived={type:"plugin",_exec:function(e){if(pe.mobile){return}var d=b('<div class="archived" role="toolbar"><a class="archived-top-page" href="#archived" role="link">'+pe.dic.get("%archived-page")+"</a></div>");b(window).on("scroll",function(){if(b(this).scrollTop()>10){d.fadeIn("normal").attr("aria-hidden","false")}else{d.fadeOut("normal").attr("aria-hidden","true")}});b(document).on("focusin",function(g){var f=b(g.target);if(d.attr("aria-hidden")==="false"&&(f.offset().top+f.outerHeight())<=(d.offset().top+d.outerHeight())){b(window).scrollTop(b(window).scrollTop()-d.outerHeight())}});if(b(window).scrollTop()<10||b(window).scrollTop()==="undefined"){d.fadeOut("normal").attr("aria-hidden","true")}else{d.fadeIn("normal").attr("aria-hidden","false")}pe.pagecontainer().append(d)}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.charts={type:"plugin",depends:["excanvas","flot"],_exec:function(j){var e,i,h,g,f,d;e=b(j);f=e.find(".chart-canvas");if(!f.hasClass("fixed-size")){f.height(Math.round(f.width()/1.61663))}d=b(j).find("table").eq(0);h=[];i=g=[];d.find("thead td, thead th").each(function(){return i.push(b(this).text())});d.find("tbody tr").each(function(){var k;k={label:"",data:[]};k.label=b(this).find("th").eq(0).text();b(this).find("td").each(function(l){return k.data.push([i[l+1],b(this).text()])});return h.push(k)});b.plot(f,h,{xaxis:{tickDecimals:0}})}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.css3ie={type:"plugin",depends:(pe.ie>0&&pe.ie<9?["pie","resize"]:[]),_exec:function(k){if(pe.mobile||!(pe.ie>0&&pe.ie<9)){return}var m=b(".rounded, .pie-enhance"),h=false,l=b("#wb-core"),e=l.children("#wb-core-in"),j=l.css("margin-bottom"),i,d,g,f;g=function(){m.each(function(){PIE.attach(this)});return true};f=function(){m.each(function(){PIE.detach(this)});return false};if(window.PIE){m.filter(function(){return b(this).css("position")==="static"}).css("position","relative");if(pe.ie===7){i=document.body;d=i.getBoundingClientRect();if((d.left-d.right)/i.offsetWidth===-1){h=g()}else{l.css("margin-bottom",(e.offset().top+e.height())-(l.offset().top+l.height()))}}else{if(pe.ie===8){h=g()}else{h=g()}}pe.resize(function(){if(pe.ie===7){var n=document.body,o=n.getBoundingClientRect();if((o.left-o.right)/n.offsetWidth!==-1){h=f(m);l.css("margin-bottom",(e.offset().top+e.height())-(l.offset().top+l.height()))}else{if(!h){g()}l.css("margin-bottom",j)}}})}return k}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.deselectradio={type:"plugin",depends:[],_exec:function(e){var d=b("input:radio").attr("role","radio").attr("aria-checked","false");d.filter(":checked").attr("aria-checked","true");d.closest("fieldset").attr("role","radiogroup");d.on("click vclick",function(){var f=b(this);if(f.attr("aria-checked")==="true"){f.prop("checked",false).attr("aria-checked","false")}else{f.closest("fieldset").find("input:radio").prop("checked",false).attr("aria-checked","false");f.prop("checked",true).attr("aria-checked","true")}});return e}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.equalize={type:"plugin",depends:(pe.mobile?[]:["equalheights","resize"]),_exec:function(d){if(pe.mobile){return}b(".equalize").children().css("min-height","").parent().equalHeights(true);pe.resize(function(){b(".equalize").children().css("min-height","").parent().equalHeights(true)});return d}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.feedback={type:"plugin",depends:[],_exec:function(k){var e=k.find("#feedback"),j=k.find("#web"),i=j.find("#access"),d=j.find("#mobile"),l=j.find("#computer"),n=k.find("#contact-coord"),o=n.find("#contact1"),m=n.find("#contact2"),h=n.find("#info"),g=document.referrer,f=pe.url(document.location).params,q;e.attr("aria-controls","web").on("keyup click load",function(r){q=(r.type==="load");if(!q&&b(this).val()==="web"){j.attr("aria-hidden","false").show("slow")}else{j.attr("aria-hidden","true").hide((q?"":"slow"))}});if(f.submit===undefined&&f.feedback!==undefined){e.find('option[value="'+f.feedback+'"]').attr("selected","selected")}e.trigger("load");i.attr("aria-controls","mobile computer").on("keyup click load",function(r){q=(r.type==="load");if(!q&&i.val()==="mobile"){d.attr("aria-hidden","false").show("slow");l.attr("aria-hidden","true").hide("slow")}else{l.attr("aria-hidden","false").show((q?"":"slow"));d.attr("aria-hidden","true").hide((q?"":"slow"))}}).trigger("load");o.on("keyup click load",function(r){q=(r.type==="load");if(!q&&b(this).val()==="yes"){h.attr("aria-hidden","false").show("slow")}else{if(q||((b(this).val()==="no"||b(this).val()===null)&&(m.val()==="no"||m.val()===null))){h.attr("aria-hidden","true").hide((q?"":"slow"))}}}).trigger("click");m.on("keyup click load",function(r){q=(r.type==="load");if(!q&&b(this).val()==="yes"){h.attr("aria-hidden","false").show("slow")}else{if(q||((b(this).val()==="no"||b(this).val()===null)&&(o.val()==="no"||o.val()===null))){h.attr("aria-hidden","true").hide((q?"":"slow"))}}}).trigger("load");j.find("#page").attr("value",g);k.find("input[type=reset]").on("click",function(){e.trigger("load");i.trigger("load");o.trigger("load");m.trigger("load")});return k}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.formvalid={type:"plugin",depends:["validate","validateAdditional","metadata"],_exec:function(j){var g=j.find("form"),d=false,i=g.find("[required]").attr("aria-required","true"),f="errors-"+(g.attr("id")===undefined?"default":g.attr("id")),e;if(pe.language!=="en"){pe.add._load(pe.add.liblocation+"i18n/formvalid/messages_"+pe.language+pe.suffix+".js")}if(pe.language==="de"||pe.language==="nl"||pe.language==="pt"){pe.add._load(pe.add.liblocation+"i18n/formvalid/methods_"+pe.language+pe.suffix+".js")}i.attr("aria-required","true");g.find("label").each(function(){var k=b(this);k.html(k.html()+" ")});function h(o,m,n){var k=o.attr("class"),q=(k!==undefined?k.search(/validate\s?:\s?\{/):-1),l;if(q>-1){if(k.search("/"+m+"\\s?:/")===-1){l=k.substring(q,k.indexOf("{",q)+1);o.attr("class",k.replace(l,l+m+":"+n+", "))}}else{o.addClass("{validate:{"+m+":"+n+"}}")}return}g.find("input[pattern]").removeAttr("pattern");if(pe.ie>0&&pe.ie<9){i.removeAttr("required").each(function(){h(b(this),"required","true")});g.find('input[type="date"]').each(function(){var m=b(this),k=m.wrap("<div/>").parent(),l=b(k.html().replace("type="+m.attr("type"),"type=text"));k.replaceWith(l)})}if(pe.mobile){g.attr("data-ajax","false").find("input:checkbox").closest("fieldset").attr("data-role","controlgroup")}e=g.validate({meta:"validate",focusInvalid:false,errorElement:"strong",errorPlacement:function(k,l){k.appendTo(g.find('label[for="'+b(l).attr("id")+'"]'))},showErrors:function(n,o){this.defaultShowErrors();var q=g.find("strong.error:not(:hidden)"),m=g.find("input.error, select.error, textarea.error"),l=g.find("#"+f),k;g.find('[aria-invalid="true"]').removeAttr("aria-invalid");if(q.length>0){if(l.length===0){l=b('<div id="'+f+'" class="errorContainer" role="alert" tabindex="-1"/>').prependTo(g)}else{l.empty()}k=b("<ul></ul>");m.attr("aria-invalid","true");q.each(function(s){var u=b(this),t='<span class="prefix">'+pe.dic.get("%error")+"&#160;"+(s+1)+pe.dic.get("%colon")+" </span>",r=u.closest("label");u.find("span.prefix").detach();k.append('<li><a href="#'+r.attr("for")+'">'+t+r.find(".field-name").html()+" - "+u.html()+"</a></li>");u.prepend('<span class="prefix">'+pe.dic.get("%error")+"&#160;"+(s+1)+pe.dic.get("%colon")+" </span>")});l.append(b("<p>"+pe.dic.get("%form-not-submitted")+q.length+(q.length!==1?pe.dic.get("%errors-found"):pe.dic.get("%error-found"))+"</p>"));l.append(k);if(d){pe.focus(l)}if(pe.ie===0||pe.ie>7){g.find(".errorContainer a").on("click vclick",function(){var r=pe.focus(b(b(this).attr("href"))).prev().offset().top;if(pe.mobile){b.mobile.silentScroll(r)}else{b(document).scrollTop(r)}return false})}d=false}else{l.detach()}},invalidHandler:function(l,k){d=true}});g.find("input[type=reset]").on("click",function(){e.resetForm();var k=g.find("#"+f);if(k.length>0){k.empty()}g.find('[aria-invalid="true"]').removeAttr("aria-invalid");g.find("#"+f)});return j}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.langselect={type:"plugin",_exec:function(d){d.on("click",function(){var e=window.location.toString();if((e.search(/_f\.htm/)>-1)||(e.search(/-fra\./)>-1)){e=e.replace(/_f\./,"_e.");e=e.replace(/-fra\./,"-eng.")}else{e=e.replace(/_e\./,"_f.");e=e.replace(/-eng\./,"-fra.")}if(e.search(/lang=eng/)>-1){e=e.replace(/lang=eng/,"lang=fra")}else{e=e.replace(/lang=fra/,"lang=eng")}window.location=e;return false})}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.lightbox={type:"plugin",depends:["colorbox","metadata"],groupindex:0,_exec:function(k){var h,e,i,g,d,j,f=false;h={transition:"elastic",loop:true,current:pe.dic.get("%lb-current"),previous:pe.dic.get("%lb-prev"),next:pe.dic.get("%lb-next"),close:pe.dic.get("%close"),xhrError:pe.dic.get("%lb-xhr-error"),imgError:pe.dic.get("%lb-img-error"),maxWidth:"100%",maxHeight:"100%",slideshowStart:pe.dic.get("%start")+" "+pe.dic.get("%lb-slideshow"),slideshowStop:pe.dic.get("%stop")+" "+pe.dic.get("%lb-slideshow"),slideshow:false,slideshowAuto:false,onComplete:function(){if(!f){f=true;pe.focus(j)}},onClosed:function(){f=false}};i={transition:(k.hasClass("transition-fade")?"fade":(k.hasClass("transition-none")?"none":undefined)),loop:k.hasClass("loop-none")?false:undefined,slideshow:k.hasClass("slideshow")?true:undefined,slideshowAuto:k.hasClass("slideshow-auto")?true:undefined};b.metadata.setType("attr","data-wet-boew");if(typeof wet_boew_lightbox!=="undefined"&&wet_boew_lightbox!==null){b.extend(h,wet_boew_lightbox,i,k.metadata())}else{b.extend(h,i,k.metadata())}g=k.find(".lb-image, .lb-ajax, .lb-gallery, .lb-hidden-gallery, .lb-gallery-inline, .lb-hidden-gallery-inline").on("vclick",function(){b.colorbox.launch(this)});g.filter(".lb-image, .lb-ajax").attr("aria-haspopup","true").colorbox(h);d=g.filter(".lb-inline").attr("aria-haspopup","true");if(d.length>0){e=h;b.extend(e,{inline:"true"});d.colorbox(e)}e=h;g.filter(".lb-gallery, .lb-hidden-gallery").each(function(){b.extend(e,{rel:"group"+(pe.fn.lightbox.groupindex+=1)});b(this).find("a").attr("aria-haspopup","true").colorbox(e)});e=h;g.filter(".lb-gallery-inline, .lb-hidden-gallery-inline").each(function(){b.extend(e,{inline:"true",rel:"group"+(pe.fn.lightbox.groupindex+=1)});b(this).find("a").attr("aria-haspopup","true").colorbox(e)});j=b("body").find("#colorbox #cboxContent").attr("tabindex","0").attr("role","dialog").attr("aria-labelledby","cboxTitle cboxCurrent");j.find("#cboxNext, #cboxPrevious, #cboxClose").attr("tabindex","0").attr("role","button").attr("aria-controls","#cboxContent");j.on("keydown",function(m){var l=b(m.target);if(!(m.ctrlKey||m.altKey||m.metaKey)){if(m.keyCode===9){if((m.shiftKey&&l.attr("id")==="cboxContent")||(!m.shiftKey&&l.attr("id")==="cboxClose")){b.colorbox.close();return false}}else{if(m.keyCode===13||m.keyCode===32){if(l.attr("id")==="cboxContent"||l.attr("id")==="cboxNext"){b.colorbox.next();return false}else{if(l.attr("id")==="cboxPrevious"){b.colorbox.prev();return false}else{if(l.attr("id")==="cboxClose"){b.colorbox.close();return false}}}}}}})}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.mathlib={type:"plugin",support:(function(){var d=false,e,g,f;if(document.createElementNS){e="http://www.w3.org/1998/Math/MathML";g=document.createElement("div");g.style.position="absolute";g.style.color="#fff";f=g.appendChild(document.createElementNS(e,"math")).appendChild(document.createElementNS(e,"mfrac"));f.appendChild(document.createElementNS(e,"mi")).appendChild(document.createTextNode("xx"));f.appendChild(document.createElementNS(e,"mi")).appendChild(document.createTextNode("yy"));document.body.appendChild(g);d=g.offsetHeight>g.offsetWidth;g.style.display="none"}return d}()),_exec:function(d){if(pe.fn.mathlib.support){return}pe.add._load("http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML")}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.menubar={type:"plugin",depends:(a.mobile?[]:["resize","equalheights","hoverintent","outside"]),_exec:function(i){if(pe.mobile){return}var d,h,k=i,l,j,g,e,f;f=function(o){var n,m;n=b(o).closest("li");g();m=n.find(".mb-sm");m.attr("aria-expanded","true").attr("aria-hidden","false").toggleClass("mb-sm mb-sm-open");if((Math.floor(m.offset().left+m.width())-Math.floor(h.offset().left+h.width()))>=-1){m.css("right","0px")}n.addClass("mb-active");return};j=function(o){var n,m;n=b(o);m=n.closest("li").find(".mb-sm-open");if(pe.cssenabled){m.find("a").attr("tabindex","0")}n.trigger("item-next");return};e=function(o){var n,m;n=b(o).closest("li");m=n.find(".mb-sm-open");m.attr("aria-expanded","false").attr("aria-hidden","true").toggleClass("mb-sm mb-sm-open").css("right","auto");if(pe.cssenabled){m.find("a").attr("tabindex","-1")}n.removeClass("mb-active");return};g=function(){d.find(".mb-sm-open").each(function(){var m;m=b(this).closest("li");return e(m)});return};l=function(){var n,m;m=d.children("li:last");n=(m.offset().top+m.outerHeight())-k.offset().top;return k.css("min-height",n)};h=k.children("div");d=h.children("ul");k.attr("role","application");d.attr("role","menubar").find("a").attr("role","menuitem");pe.resize(l);k.find(".mb-sm").on("click vclick",function(m){if(m.stopPropagation){m.stopPropagation()}else{m.cancelBubble=true}}).parent().find("> :header a").on("click vclick",function(m){if(b(this).closest("li").hasClass("mb-active")){e(this)}else{f(this)}return false});k.on("keydown focusin section-next section-previous item-next item-previous close","li",function(u){var r,x=b(u.target),t=k.find(".mb-active"),w,s,v,n,q,o,m;w=b.map(/\bknav-(\d+)-(\d+)-(\d+)/.exec(x.attr("class")),function(y){return parseInt(y,10)});if(u.type==="keydown"){if(!(u.ctrlKey||u.altKey||u.metaKey)){switch(u.keyCode){case 13:if(w[2]===0&&w[3]===0){j(u.target);return false}break;case 27:x.trigger("close");return false;case 32:if(w[2]===0&&w[3]===0){j(u.target)}else{window.location=x.attr("href")}return false;case 37:x.trigger("section-previous");return false;case 38:if(w[2]===0&&w[3]===0){j(u.target)}else{x.trigger("item-previous")}return false;case 39:x.trigger("section-next");return false;case 40:if(w[2]===0&&w[3]===0){j(u.target)}else{x.trigger("item-next")}return false;default:if((u.keyCode>47&&u.keyCode<58)||(u.keyCode>64&&u.keyCode<91)){s=String.fromCharCode(u.keyCode).toLowerCase();v=(w[2]!==0||w[3]!==0);n=x.text();q=t.find(".mb-sm-open a").filter(function(){return(b(this).text().substring(0,1).toLowerCase()===s||(v&&b(this).text()===n))});if(q.length>0){if(v){q.each(function(y){if(b(this).text()===n){o=y;return false}});if(o<(q.length-1)){pe.focus(q.eq(o+1));return false}}pe.focus(q.eq(0))}return false}}}}else{if(u.type==="close"){pe.focus(t.find(".knav-"+w[1]+"-0-0"));setTimeout(function(){return g()},5)}else{if(u.type==="section-previous"){m=!!w[2]<<1|!!w[3];switch(m){case 0:case 1:r=k.find(".knav-"+(w[1]-1)+"-0-0");if(r.length>0){pe.focus(r)}else{pe.focus(k.find("ul.mb-menu > li:last").find("a:eq(0)"))}break;case 2:case 3:r=t.find(".knav-"+(w[1])+"-"+(w[2]-1)+"-0");if(r.length>0&&w[2]>1){pe.focus(r)}else{r=k.find(".knav-"+(w[1]-1)+"-0-0");if(r.length>0){pe.focus(r)}else{pe.focus(k.find("ul.mb-menu > li:last").find("a:eq(0)"))}}break}}else{if(u.type==="section-next"){m=!!w[2]<<1|!!w[3];switch(m){case 0:case 1:r=k.find(".knav-"+(w[1]+1)+"-0-0");if(r.length>0){pe.focus(r)}else{pe.focus(k.find(".knav-0-0-0"))}break;case 2:case 3:r=t.find(".knav-"+(w[1])+"-"+(w[2]+1)+"-0");if(r.length>0){pe.focus(r)}else{r=k.find(".knav-"+(w[1]+1)+"-0-0");if(r.length>0){pe.focus(r)}else{pe.focus(k.find(".knav-0-0-0"))}}break}}else{if(u.type==="item-next"){r=t.find(".knav-"+w[1]+"-"+(w[2])+"-"+(w[3]+1));if(r.length>0){pe.focus(r)}else{r=t.find(".knav-"+w[1]+"-"+(w[2]+1)+"-0");if(r.length>0){pe.focus(r)}else{pe.focus(t.find(".knav-"+w[1]+"-1-0, .knav-"+w[1]+"-0-1,"))}}}else{if(u.type==="item-previous"){r=((w[2]>0||w[3]>1)?t.find(".knav-"+w[1]+"-"+(w[2])+"-"+(w[3]-1)):"");if((w[2]>0||w[3]>1)&&r.length>0){pe.focus(r)}else{r=((w[2]>1||w[3]>0)?t.find("[class*='knav-"+w[1]+"-"+(w[2]-1)+"-']").last():"");if((w[2]>1||w[3]>0)&&r.length>0){pe.focus(r)}else{pe.focus(t.find("[class*='knav-']").last())}}}else{if(u.type==="focusin"&&w[2]===0&&w[3]===0){g();if(x.find(".expandicon").length>0){f(u.target)}}}}}}}}});b(document).on("click touchstart",function(){k.trigger("focusoutside")});k.on("focusoutside",function(){return g()});k.find("ul.mb-menu > li").find("a:eq(0)").each(function(n,q){var o,m;m=b(q);m.addClass("knav-"+n+"-0-0");o=m.closest("li").find(".mb-sm");if(o.size()>0){m.attr("aria-haspopup","true").addClass("mb-has-sm").wrapInner('<span class="expandicon"><span class="sublink"></span></span>');o.attr("role","menu").attr("aria-expanded","false").attr("aria-hidden","true").find(":has(:header) ul").attr("role","menu");m.append('<span class="wb-invisible">'+(pe.dic.get("%sub-menu-help"))+"</span>");m.closest("li").hoverIntent({over:function(){return f(this)},out:function(){return e(this)},timeout:500});o.find("h3 a, h4 a").each(function(r){b(this).addClass("knav-"+n+"-"+(r+1)+"-0");b(this).parent().next("ul").find("a").each(function(s){b(this).addClass("knav-"+n+"-"+(r+1)+"-"+(s+1));return});return});o.find("> ul a, > div > ul a").each(function(r){b(this).addClass("knav-"+n+"-0-"+(r+1))})}});if(pe.cssenabled){k.find(".mb-sm a").attr("tabindex","-1")}l();return k}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.multimedia={type:"plugin",get_image:function(){return false},_exec:function(q){var e,m=false,f=q.children("audio, video").eq(0),g,l=true,d,o="video/mp4",k="audio/mpeg",n=a.add.liblocation+"bin/multimedia.swf",j,h,s,r,i;if(q.attr("id")!==undefined){e=q.attr("id")}else{e="wet-boew-mediaplayer"+q.index();q.attr("id",e)}if(f.attr("id")!==undefined){g=f.attr("id")}else{g=e+"-media";f.attr("id",g)}if(f.get(0).currentSrc!==""&&f.get(0).currentSrc!==undefined){m=true}else{r="id="+q.attr("id");if(l&&f.is("video")&&f.find('source[type="'+o+'"]')){j="video";h=f.width()>0?f.width():f.attr("width");s=f.height()>0?f.height():f.attr("height");r+="&height="+f.height()+"&width="+f.width()+"&posterimg="+escape(a.url(f.attr("poster")).source)+"&media="+a.url(f.find('source[type="'+o+'"]').attr("src")).source;m=true}else{if(l&&f.is("audio")&&f.find('source[type="'+k+'"]')){j="audio";h=0;s=0;r+="&media="+a.url(f.find('source[type="'+k+'"]').attr("src")).source;m=true}else{m=false}}if(m){d=b('<object id="'+g+'" width="'+h+'" height="'+s+'" class="'+j+'" type="application/x-shockwave-flash" data="'+n+'" tabindex="-1"><param name="movie" value="'+n+'"/><param name="flashvars" value="'+r+'"/><param name="allowScriptAccess" value="always"/><param name="bgcolor" value="#000000"/><param name="wmode" value="opaque"/>');f.before(d);f.remove();f=d}}if(m){b.extend(q.get(0),{object:f.get(0)},a.fn.multimedia._intf);f.after(a.fn.multimedia._get_ui(g).width((f.width()>0?f.width():f.attr("width"))));b(window).bind("resize",function(){f.next().width(f.width())});q.on("click",function(y){var u=b(y.target),v,x,w;if(u.hasClass("playpause")||y.target===this.object){if(this.getPaused()===true){this.play()}else{this.pause()}}if(u.hasClass("cc")){this.setCaptionsVisible(!this.getCaptionsVisible())}if(u.hasClass("mute")){this.setMuted(!this.getMuted())}if(u.is("progress")){x=(y.pageX-u.offset().left)/u.width();this.setCurrentTime(this.getDuration()*x)}if(u.hasClass("rewind")||u.hasClass("fastforward")){w=this.getDuration()*0.05;if(u.hasClass("rewind")){w*=-1}this.setCurrentTime(this.getCurrentTime()+w)}});q.on("keypress",function(w){var u=b(this),t=0;if((w.which===32||w.which===13)&&w.target===this.object){u.find(".wet-boew-button.playpause").click();return false}if(w.keyCode===37){u.find(".wet-boew-button.rewind").click();return false}if(w.keyCode===39){u.find(".wet-boew-button.fastforward").click();return false}if(w.keyCode===38){t=Math.round(this.getVolume()*10)/10+0.1;t=t<1?t:1;this.setVolume(t);return false}if(w.keyCode===40){t=Math.round(this.getVolume()*10)/10-0.1;t=t>0?t:0;this.setVolume(t);return false}return true});i=f.is("object")?f.children(":first-child"):f;i.on("loadeddata progress timeupdate seeked canplay play volumechange pause ended captionsloaded captionsloadfailed captionsshown captionshidden",b.proxy(function(w){var u=b(this),v,t;switch(w.type){case"play":u.find(".playpause img").attr({alt:a.dic.get("%pause"),src:""});break;case"pause":case"ended":u.find(".playpause img").attr({alt:a.dic.get("%play"),src:a.fn.multimedia.images.play});break;case"volumechange":if(this.getMuted()){u.find(".mute img").attr({alt:a.dic.get("%mute","disable"),src:""})}else{u.find(".mute img").attr({alt:a.dic.get("%mute","enable"),src:""})}break;case"captionsvisiblechange":if(this.getCaptionsVisible()){u.find(".cc img").attr({alt:a.dic.get("%closed-captions","disable"),src:""})}else{u.find(".cc img").attr({alt:a.dic.get("%closed-captions","enable"),src:""})}break;case"timeupdate":v=this.getCurrentTime()/this.getDuration();t=u.find(".wet-boew-multimedia-timeline progress");t.stop();if(this.getSeeking()){t.attr("value",v)}else{t.animate({value:v},150,"linear")}break;case"progress":break;case"captionsloaded":b(w.target).captions(u.find(".wet-boew-multimedia-captionsarea"),w.captions);break;case"captionsloadfailed":u.find(".wet-boew-mediaplayer-captionsarea").empty().append("<p>"+a.dict.captionserror+"</p>");break}},q.get(0)))}return q},_get_ui:function(h){var f=b('<div class="wet-boew-multimedia-controls">'),e=b('<div class="wet-boew-multimedia-controls-start">'),g=b('<div class="wet-boew-multimedia-timeline" tabindex="0"><progress value="0" />'),d=b('<div class="wet-boew-multimedia-controls-end">');e.append(b("<button>").attr({type:"button","class":"rewind","aria-controls":h}).append('<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g transform="rotate(-180 10 10)"><path transform="translate(-4,0)" d="m17.023165,10.250381l-11.447638,-7.424991l0.115218,14.349777l11.33242,-6.924786z" fill="#000000"/><path transform="translate(3,0)" d="m17.023165,10.250381l-11.447638,-7.424991l0.115218,14.349777l11.33242,-6.924786z" fill="#000000"/></g></svg>'));e.append(b("<button>").attr({type:"button","class":"playpause","aria-controls":h}).append('<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g><path d="m17.023165,10.250381l-11.447638,-7.424991l0.115218,14.349777l11.33242,-6.924786z" fill="#000000"/></g></svg>'));e.append(b("<button>").attr({type:"button","class":"fastforward","aria-controls":h}).append('<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g><path transform="translate(-4,0)" d="m17.023165,10.250381l-11.447638,-7.424991l0.115218,14.349777l11.33242,-6.924786z" fill="#000000"/><path transform="translate(3,0)" d="m17.023165,10.250381l-11.447638,-7.424991l0.115218,14.349777l11.33242,-6.924786z" fill="#000000"/></g></svg>'));d.append(b("<button>").attr({type:"button","class":"cc","aria-controls":h}).append('<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g><text font-weight="bold" xml:space="preserve" text-anchor="middle" font-family="Sans-serif" font-size="14" id="svg_1" y="14.079744" x="10.214848" stroke-width="0" fill="#000000">cc</text></g></svg>'));d.append(b("<button>").attr({type:"button","class":"mute","aria-controls":h}).append('<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g><rect height="8.070175" width="12.440169" y="5.998068" x="3.776589" fill="#000000"/><path transform="rotate(-180, 13.3815, 16.8807)" d="m10.539844,19.720558l0,-5.679615l5.679601,5.679615l-5.679601,0z" fill="#000000"/><path transform="rotate(-90, 13.3805, 3.20703)" d="m10.540461,6.047394l0,-5.679615l5.679605,5.679615l-5.679605,0z" fill="#000000"/></g></svg>'));f.append(e).append(d).append(g);return f},_intf:{play:function(){this.object.play()},pause:function(){this.object.pause()},getPaused:function(){return(typeof this.object.paused!=="function"?this.object.paused:this.object.paused())},getPlayed:function(){return(typeof this.object.played!=="function"?this.object.played:this.object.played())},getEnded:function(){return(typeof this.object.ended!=="function"?this.object.ended:this.object.ended())},getSeeking:function(){return(typeof this.object.seeking!=="function"?this.object.seeking:this.object.seeking())},getDuration:function(){return(typeof this.object.duration!=="function"?this.object.duration:this.object.duration())},getBuffered:function(){return(typeof this.object.buffered!=="function"?(this.object.buffered.length>0?this.object.buffered.end(0):0):this.object.buffered())},getCurrentTime:function(){return(typeof this.object.currentTime!=="function"?this.object.currentTime:this.object.currentTime())},setCurrentTime:function(d){if(typeof this.object.currentTime!=="function"){this.object.currentTime=d}else{this.object.setCurrentTime(d)}},getCaptionsVisible:function(){return b(this).parent().find(".wet-boew-mediaplayer-captionsarea").is(":visible")},setCaptionsVisible:function(d){if(d){b(this).parent().find(".wet-boew-mediaplayer-captionsarea").show();b(this.object).trigger("captionsshown")}else{b(this).parent().find(".wet-boew-mediaplayer-captionsarea").hide();b(this.object).trigger("captionshidden")}},getMuted:function(){return(typeof this.object.muted!=="function"?this.object.muted:this.object.muted())},setMuted:function(d){if(typeof this.object.muted!=="function"){this.object.muted=d}else{this.object.setMuted(d)}},getVolume:function(){return(typeof this.object.volume!=="function"?this.object.volume:this.object.volume())},setVolume:function(d){if(typeof this.object.volume!=="function"){this.object.volume=d}else{this.object.setVolume(d)}}}};a.triggermediaevent=function(f,d){var e=b("#"+f).find("object :first-child").trigger(d)};window.pe=a;return a}(jQuery));(function(a){a.fn.captions=function(d,b){$video=a(this);var e=function(h,i,g){$area=a(h);$area.empty();for(c=0;c<g.length;c++){var f=g[c];if(i>=f.begin&&i<=f.end){$area.append(a("<div>"+f.text+"</div>"))}}};$video.on("timeupdate",{area:d,captions:b},function(f){if(f.data.captions===undefined){a(f.target).off("timeupdate")}e(f.data.area,this.currentTime,f.data.captions)})}})(jQuery);(function(a){a.fn.loadcaptions=function(b){$video=a(this);var d=function(o){if(o!==undefined){if(o.substring(o.length-1)=="s"){return parseFloat(o.substring(0,o.length-1))}else{var r=o.split(":").reverse();var q=0;for(p=0;p<r.length;p++){var n=(p==0)?parseFloat(r[p]):parseInt(r[p]);q+=n*Math.pow(60,p)}return q}}return -1};var f=function(q){var o=".wet-boew-tt";var r=q.find(o);var n=[];r.each(function(){var u=a(this).clone();u.find(o).detach();var w=-1;var t=-1;if(u.attr("data-begin")!==undefined){t=d(u.attr("data-begin"));end=u.attr("data-end")!==undefined?d(u.attr("data-end")):d(u.attr("data-dur"))+t}else{var s;if(u.attr("data")){s=u.attr("data")}else{var v=u.attr("class");s=v.substring(v.indexOf("{"))}s=s.replace(/(begin|dur|end)/gi,'"$1"').replace(/'/g,'"');s=a.parseJSON(s);t=d(s.begin);end=s.end!==undefined?d(s.end):d(s.dur)+t}n[n.length]={text:u.html(),begin:t,end:end}});return n};var e=function(q){var o="[begin]";var r=q.find(o);var n=[];r.each(function(){var u=a(this).clone();u.find(o).detach();var t=d(u.attr("begin"));var s=u.attr("end")!==undefined?d(u.attr("end")):d(u.attr("dur"))+t;n[n.length]={text:u.html(),begin:t,end:s}});return n};var m="captionsloaded";var l="captionsloadfailed";var g=function(o){var n={type:m,captions:f(o)};$video.trigger(n)};var j=function(n){a.ajax({url:n,context:$video,crossDomain:true,dataType:"html",success:function(s,o,q){var r={type:m};if(s.indexOf("<html")>-1){r.captions=f(a(s))}else{r.captions=e(a(s))}a(this).trigger(r)},error:function(q,r,o){a(this).trigger({type:l,error:o})}})};if(b!==undefined){var h=PE.url();var i=PE.url(b);if(i.absolute.replace("#"+i.anchor,"")==h.absolute.replace("#"+h.anchor,"")){var k=a("#"+i.anchor);if(k.length>0){g(k);return}a(this).trigger({type:l,error:new Error("Object with id '"+i.anchor+"' not found")});return}else{j(i.absolute);return}}a(this).trigger({type:l,error:new Error("Caption source is missing")})}})(jQuery);var pe=PE;PE.load("multimedia/wet-boew.captions.js");PE.load("multimedia/wet-boew.loadcaptions.js");PE.load("jquery.template.js");PE.triggermediaevent=function(e,a,d){var b=$("#"+e).find("object :first-child").trigger(a)};Utils.addCSSSupportFile(Utils.getSupportPath()+"/multimedia/themes/default/style.css");(function(b){var a={dictionary:{play:(PE.language==="eng")?"Play ":"Démarrer ",pause:"Pause ",closewindow:(PE.language==="eng")?"Close":"Fermer",rewind:(PE.language==="eng")?"Rewind ":"Reculer ",fastforward:(PE.language==="eng")?"Fast forward ":"Avancer ",mute_on:(PE.language==="eng")?"Unmute":"Désactiver le mode muet",mute_off:(PE.language==="eng")?"Mute":"Activer le mode muet",closedcaptions_on:(PE.language==="eng")?"Hide Closed captioning ":"Masquer le sous-titrage ",closedcaptions_off:(PE.language==="eng")?"Show Closed captioning":"Afficher le sous-titrage ",audiodescription_on:(PE.language==="eng")?"Disable Audio Description ":"Désactiver l'audiodescription ",audiodescription_off:(PE.language==="eng")?"Enable Audio Description":"Activer l'audiodescription ",novideo:(PE.language==="eng")?"Your browser does not appear to have the capabilities to play this video, please download the video below":"Votre navigateur ne semble pas avoir les capacité nécessaires pour lire cette vidéo, s'il vous plaît télécharger la vidéo ci-dessous",position:(PE.language==="eng")?"Current Position: ":"Position actuelle : ",duration:(PE.language==="eng")?"Total Time: ":"Temps total : ",buffered:(PE.language==="eng")?"Buffered: ":"Mis en mémoire-tampon : ",captionserror:(PE.language==="eng")?"Error loading captions":"Erreur dans le chargement des sous-titres"},icons:{background:Utils.getSupportPath()+"/multimedia/themes/default/images/background-toolbar.png",play:Utils.getSupportPath()+"/multimedia/themes/default/images/play-control.png",pause:Utils.getSupportPath()+"/multimedia/themes/default/images/pause-control.png",rewind:Utils.getSupportPath()+"/multimedia/themes/default/images/rewind-control.png",fastforward:Utils.getSupportPath()+"/multimedia/themes/default/images/fastforward-control.png",closedcaptions_off:Utils.getSupportPath()+"/multimedia/themes/default/images/cc-off-control.png",closedcaptions_on:Utils.getSupportPath()+"/multimedia/themes/default/images/cc-on-control.png",audiodescription_off:Utils.getSupportPath()+"/multimedia/themes/default/images/descriptive-off-control.png",audiodescription_on:Utils.getSupportPath()+"/multimedia/themes/default/images/descriptive-on-control.png",mute_on:Utils.getSupportPath()+"/multimedia/themes/default/images/mute-control.png",mute_off:Utils.getSupportPath()+"/multimedia/themes/default/images/sound-control.png"},intf:{play:function(){this.object.play()},pause:function(){this.object.pause()},getPaused:function(){return(typeof(this.object.paused)!=="function"?this.object.paused:this.object.paused())},getPlayed:function(){return(typeof(this.object.played)!=="function"?this.object.played:this.object.played())},getEnded:function(){return(typeof(this.object.ended)!=="function"?this.object.ended:this.object.ended())},getSeeking:function(){return(typeof(this.object.seeking)!=="function"?this.object.seeking:this.object.seeking())},getDuration:function(){return(typeof(this.object.duration)!=="function"?this.object.duration:this.object.duration())},getBuffered:function(){return(typeof(this.object.buffered)!=="function"?(this.object.buffered.length>0?this.object.buffered.end(0):0):this.object.buffered())},getCurrentTime:function(){return(typeof(this.object.currentTime)!=="function"?this.object.currentTime:this.object.currentTime())},setCurrentTime:function(d){this.object.pause!==undefined?this.object.currentTime=d:this.object.setCurrentTime(d)},getCaptionsVisible:function(){return b(this).parent().find(".wet-boew-mediaplayer-captionsarea").is(":visible")},setCaptionsVisible:function(d){if(d){b(this).parent().find(".wet-boew-mediaplayer-captionsarea").show();b(this.object).trigger("captionsshown")}else{b(this).parent().find(".wet-boew-mediaplayer-captionsarea").hide();b(this.object).trigger("captionshidden")}},getMuted:function(){return(typeof(this.object.muted)!=="function"?this.object.muted:this.object.muted())},setMuted:function(d){this.object.muted!==undefined?this.object.muted=d:this.object.setMuted(d)},getVolume:function(){return(typeof(this.object.volume)!=="function"?this.object.volume:this.object.volume())},setVolume:function(d){this.object.volume!==undefined?this.object.volume=d:this.object.setVolume(d)}}};b.fn.mediaPlayer=function(k){$media=this;$wrapper=$media.wrap('<div class="wet-boew-mediaplayer" />').parent();var e;if($wrapper.attr("id")!==undefined){e=$wrapper.attr("id")}else{e="wet-boew-mediaplayer"+k;$wrapper.attr("id",e)}var n={captions:$media.find('track[kind="captions"]').attr("src"),captionstype:$media.find('track[kind="captions"]').attr("data-type")};var l=true;if($media.get(0).currentSrc==""||$media.get(0).currentSrc==undefined){flash=true;var m="video/mp4";var j="audio/mpeg";var q=false;var d=b('<object type="application/x-shockwave-flash" data="'+Utils.getSupportPath()+'/multimedia/mp-jm.swf" tabindex="-1"></object>');var g=b('<param name="flashvars" value="id='+$wrapper.attr("id")+'"/>');d.append(g);if(flash&&$media.is("video")&&$media.find('source[type="'+m+'"]')){d.addClass("video");d.attr("width",$media.width()).attr("height",$media.height());d.append('<param value="always" name="allowScriptAccess"><param value="#000000" name="bgcolor"><param value="opaque" name="wmode">');g.attr("value",g.attr("value")+"&height="+$media.height()+"&width="+$media.width()+"&posterimg="+escape($media.attr("poster"))+"&media="+PE.url($media.find('source[type="'+m+'"]').attr("src")).absolute);q=true}else{if(flash&&$media.is("audio")&&$media.find('source[type="'+j+'"]')){d.addClass("audio");g.attr("value",g.attr("value")+"&media="+PE.url($media.find('source[type="'+j+'"]').attr("src")).absolute);d.append(g);q=true}else{l=false}}if(q){$media.before(d);$media.remove();$media=d}}if(l){var o="\n<!-- Autogenerated code by mediaplayer plugin -->\n\n";o+='<div class="wet-boew-toolbar"><div class="wet-boew-controls-start"><button type="button" id="${jsId}RewindButton" class="wet-boew-button rewind" title="${dictionary.rewind}" aria-controls="${jsId}"><img src="${icons.rewind}" alt="${dictionary.rewind}" /></button><button type="button" id="${jsId}PlayStopButton" class="wet-boew-button playpause" title="${dictionary.play}" aria-controls="${jsId}"><img src="${icons.play}" alt="${dictionary.play}" /></button><button type="button" id="${jsId}FastForwardButton" class="wet-boew-button fastforward" title="${dictionary.fastforward}" aria-controls="${jsId}"><img src="${icons.fastforward}" alt="${dictionary.fastforward}" /></button></div><div class="wet-boew-controls-middle"><div class="wet-boew-mediaplayer-timeline" tabindex="0"><div class="outer"><div class="inner"></div></div></div></div><div class="wet-boew-controls-end"><button type="button" id="${jsId}CaptionOnOffButton" class="wet-boew-button cc" title="${dictionary.closedcaptions_off}" aria-controls="${jsId}"><img src="${icons.closedcaptions_off}" alt="${dictionary.closedcaptions_off}" /></button><button type="button" id="${jsId}MuteUnmuteButton" class="wet-boew-button ui-button-last mute" title="${dictionary.mute_off}" aria-controls="${jsId}"><img src="${icons.mute_off}" alt="${dictionary.mute_off}" /></button></div></div>';o=o+"\n\n<!-- End of Autogenerated code by mediaplayer plugin -->\n";b.template("mpmarkup",o);var r=b.extend({id:e},a);var f=b.tmpl("mpmarkup",r);$wrapper.append(f);f.find(".wet-boew-mediaplayer-timeline").css("margin-left",f.find(".wet-boew-controls-start").width()+5).css("margin-right",f.find(".wet-boew-controls-end").width()+5);if($media.is("video, .video")){var i=b('<div class="wet-boew-mediaplayer-captionsarea" style="display:none"></div>');$media.loadcaptions(n.captions);$media.after(i)}b.extend($wrapper.get(0),{object:$media.get(0)},a.intf);$wrapper.on("click",function(x){$target=b(x.target);if($target.hasClass("playpause")||x.target==this.object){if(this.getPaused()===true){this.play()}else{this.pause()}}if($target.hasClass("cc")){this.setCaptionsVisible(!this.getCaptionsVisible())}if($target.hasClass("mute")){this.setMuted(!this.getMuted())}if($target.hasClass("wet-boew-mediaplayer-timeline")||$target.parent().is(".wet-boew-mediaplayer-timeline")){var u=b(this).find(".wet-boew-mediaplayer-timeline");var w=(x.pageX-u.offset().left)/u.width();this.setCurrentTime(this.getDuration()*w)}if($target.hasClass("rewind")||$target.hasClass("fastforward")){var v=this.getDuration()*0.05;if($target.hasClass("rewind")){v*=-1}this.setCurrentTime(this.getCurrentTime()+v)}});$wrapper.on("keypress",function(t){$target=b(t.target);$w=b(this);if((t.which==32||t.which==13)&&t.target==this.object){$w.find(".wet-boew-button.playpause").click();return false}if(t.keyCode==37){$w.find(".wet-boew-button.rewind").click();return false}if(t.keyCode==39){$w.find(".wet-boew-button.fastforward").click();return false}if(t.keyCode==38){var s=Math.round(this.getVolume()*10)/10+0.1;s=s<1?s:1;this.setVolume(s);return false}if(t.keyCode==40){var s=Math.round(this.getVolume()*10)/10-0.1;s=s>0?s:0;this.setVolume(s);return false}});var h=$media.is("object")?$media.children(":first-child"):$media;h.on("loadeddata progress timeupdate seeked canplay play volumechange pause ended captionsloaded captionsloadfailed captionsshown captionshidden",b.proxy(function(u){$w=b(this);switch(u.type){case"play":var t=$w.find(".wet-boew-button.playpause").attr("title",a.dictionary.pause);t.children("img").attr("alt",a.dictionary.pause).attr("src",a.icons.pause);break;case"pause":var t=$w.find(".wet-boew-button.playpause").attr("title",a.dictionary.play);t.children("img").attr("alt",a.dictionary.play).attr("src",a.icons.play);break;case"volumechange":if(this.getMuted()||this.getVolume()===0){var t=$w.find(".wet-boew-button.mute").attr("title",a.dictionary.mute_on);t.children("img").attr("alt",a.dictionary.mute_on).attr("src",a.icons.mute_on)}else{var t=$w.find(".wet-boew-button.mute").attr("title",a.dictionary.mute_off);t.children("img").attr("alt",a.dictionary.mute_off).attr("src",a.icons.mute_off)}break;case"timeupdate":var s=Math.round(this.getCurrentTime()/this.getDuration()*10000)/100+"%";var v=$w.find(".wet-boew-mediaplayer-timeline").children("div").stop();if(this.getSeeking()){v.css("width",s)}else{v.animate({width:s},150,"linear")}break;case"progress":break;case"captionsloaded":b(u.target).captions($w.find(".wet-boew-mediaplayer-captionsarea"),u.captions);break;case"captionsloadfailed":$w.find(".wet-boew-mediaplayer-captionsarea").empty().append("<p>"+a.dictionary.captionserror+"</p>");break;case"captionsshown":var t=$w.find(".wet-boew-button.cc").attr("title",a.dictionary.closedcaptions_on);t.children("img").attr("alt",a.dictionary.closedcaptions_on).attr("src",a.icons.closedcaptions_on);break;case"captionshidden":var t=$w.find(".wet-boew-button.cc").attr("title",a.dictionary.closedcaptions_off);t.children("img").attr("alt",a.dictionary.closedcaptions_off).attr("src",a.icons.closedcaptions_off);break}},$wrapper.get(0)))}return $media};b(document).ready(function(){b("audio, video").each(function(d){b(this).mediaPlayer(d)})})})(jQuery);(function(b){var a=window.pe||{fn:{}};a.fn.share={type:"plugin",depends:["metadata","bookmark","outside"],_exec:function(m){var e,n,d,j,o,l,f,k,g,i,h;e={url:"",sourceTag:"",title:"",description:"",sites:[],compact:false,hint:pe.dic.get("%share-text")+pe.dic.get("%share-hint"),popup:true,popupText:pe.dic.get("%share-text"),hideText:(pe.dic.get("%hide")+" - "),addFavorite:false,favoriteText:pe.dic.get("%favourite"),addEmail:false,emailText:pe.dic.get("%email"),emailSubject:pe.dic.get("%share-email-subject"),emailBody:pe.dic.get("%share-email-body"),manualBookmark:pe.dic.get("%share-manual"),addShowAll:false,showAllText:pe.dic.get("%share-showall"),showAllTitle:pe.dic.get("%share-showall-title"),addAnalytics:false,analyticsName:"/share/{r}/{s}"};n={compact:m.hasClass("compact")?true:undefined,popup:m.hasClass("popup-none")?false:undefined,addFavorite:m.hasClass("favourite")?true:undefined,addEmail:m.hasClass("email")?true:undefined,addShowAll:m.hasClass("showall")?true:undefined,addAnalytics:m.hasClass("analytics")?true:undefined};b.metadata.setType("attr","data-wet-boew");if(typeof wet_boew_share!=="undefined"&&wet_boew_share!==null){b.extend(e,wet_boew_share,n,m.metadata())}else{b.extend(e,n,m.metadata())}m.bookmark(e);if(e.popup&&pe.cssenabled){m.attr("role","application");d=m.find(".bookmark_popup").attr("id","bookmark_popup").attr("aria-hidden","true").attr("role","menu").prepend('<p class="popup_title">'+e.popupText+"</p>");o=d.find("li").attr("role","presentation").find("a").attr("role","menuitem");j=m.find(".bookmark_popup_text").off("click vclick keydown");j.attr("role","button").attr("aria-controls","bookmark_popup").attr("aria-pressed","false").on("click vclick keydown",function(q){if(q.type==="keydown"&&(!(q.ctrlKey||q.altKey||q.metaKey))){switch(q.keyCode){case 13:d.trigger("open");return false;case 32:d.trigger("open");return false;case 38:d.trigger("open");return false;case 40:d.trigger("open");return false}}else{if(d.attr("aria-hidden")==="true"){d.trigger("open")}else{d.trigger("close")}return false}});d.on("keydown focusoutside open close closenofocus",function(q){if(q.type==="keydown"){if(!(q.ctrlKey||q.altKey||q.metaKey)){switch(q.keyCode){case 27:d.trigger("close");return false;case 37:l=b(q.target).closest("li").prev().find("a");if(l.length===0){l=o}pe.focus(l.last());return false;case 38:f=b(q.target).offset().left;l=b(q.target).closest("li").prevAll().find("a").filter(function(){return(b(this).offset().left===f)});if(l.length>0){pe.focus(l.first())}else{l=o.filter(function(){return(b(this).offset().left<f)});if(l.length>0){pe.focus(l.last())}else{f=o.last().offset().left;l=o.filter(function(){return(b(this).offset().left>f)});if(l.length>0){pe.focus(l.last())}else{pe.focus(o.last())}}}return false;case 39:l=b(q.target).closest("li").next().find("a");if(l.length===0){l=o}pe.focus(l.first());return false;case 40:f=b(q.target).offset().left;l=b(q.target).closest("li").nextAll().find("a").filter(function(){return(b(this).offset().left===f)});if(l.length>0){pe.focus(l.first())}else{l=o.filter(function(){return(b(this).offset().left>f)});if(l.length>0){pe.focus(l.first())}else{pe.focus(o.first())}}return false;default:if((q.keyCode>47&&q.keyCode<58)||(q.keyCode>64&&q.keyCode<91)){k=String.fromCharCode(q.keyCode).toLowerCase();g=b(q.target).text();i=o.filter(function(){return(b(this).text().substring(1,2).toLowerCase()===k||b(this).text()===g)});if(i.length>0){if(b(q.target).hasClass("bookmark_popup_text")){pe.focus(i.eq(0))}else{i.each(function(r){if(b(this).text()===g){h=r;return false}});if(h<(i.length-1)){pe.focus(i.eq(h+1));return false}pe.focus(i.eq(0))}}return false}}}}else{if(q.type==="focusoutside"){d.trigger("closenofocus")}else{if(q.type==="open"){j.attr("aria-pressed","true").text(e.hideText+e.popupText);d.attr("aria-hidden","false").show();pe.focus(d.show().find("li a").first())}else{if(q.type==="close"||q.type==="closenofocus"){j.attr("aria-pressed","false").text(e.popupText);d.attr("aria-hidden","true").hide();if(q.type==="close"){pe.focus(j.first())}}}}}});b(document).on("click touchstart",function(q){if(d.attr("aria-hidden")==="false"&&!b(q.target).is(d)&&!b(q.target).is(j)&&b(q.target).closest(d).length===0){d.trigger("close")}})}else{m.addClass("popup-none")}return m}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.slideout={type:"plugin",depends:["resize"],opened:false,_exec:function(i){var v=10,u=pe.dic.get("%hide")+'<span class="wb-invisible">'+pe.dic.get("%table-contents")+"</span>",s=2,r={path:pe.add.liblocation+"images/slideout/"+pe.dic.get("%show-image"),height:147,width:30,alt:pe.dic.get("%show-toc")+pe.dic.get("%table-contents")},k={path:pe.add.liblocation+"images/slideout/"+pe.dic.get("%hide-image"),height:147,width:30,alt:pe.dic.get("%hide")+pe.dic.get("%table-contents")},t=false,n,j=true,d=true,m,o,e,q=0,h,l,f,g;g=b('<div style="display: none;">').appendTo("body");if(g.css("display")!=="none"){return}g.remove();h=i.wrap('<div id="slideoutWrapper" role="application" />').parent();i.wrap('<div id="slideoutInnerWrapper" />');i.attr("role","menu").find("li").attr("role","presentation");if(j){i.find('a[href="'+window.location.href+'"]').replaceWith('<span class="so-active">'+b(this).text()+"</span>")}f=i.find("a").attr("role","menuitem");n=function(){if(!t){var w=b("#wb-core-in").offset().left;if(w<=v){w=0}h.css("top",b("#wb-core-in").offset().top);h.css("right",w)}};m=function(){o.off("click vclick");e.off("click vclick");if(!t){var w=h.position();if(pe.ie===0||document.documentMode!==undefined){h.removeClass("slideoutWrapper").addClass("slideoutWrapperRel").css({top:w.top-b("#wb-core-in").offset().top,right:v-10})}i.show();pe.focus(f.eq(0))}t=!t;h.animate({width:parseInt(h.css("width"),10)===(r.width+s)?i.outerWidth()+(r.width+s):(r.width+s)+"px"},function(){if(!t){i.hide();h.find("#slideoutInnerWrapper").css("width",k.width);if(pe.ie===0||document.documentMode!==undefined){h.addClass("slideoutWrapper");h.removeClass("slideoutWrapperRel");h.css("width",(r.width+s)+"px").css("top",b("#wb-core-in").offset().top);n()}}else{if(pe.ie===7&&document.documentMode===undefined){i.find("ul").html(i.find("ul").html())}}o.on("click vclick",m);e.on("click vclick",m)});if(t){h.find("#slideoutToggle a img").attr({src:k.path,title:k.alt,alt:k.alt});h.find("#slideoutToggle a").attr("aria-pressed","true");i.attr("aria-hidden","false");h.find("#slideoutInnerWrapper").css("width","")}else{h.find("#slideoutToggle a img").attr({src:r.path,title:r.alt,alt:r.alt});h.find("#slideoutToggle a").attr("aria-pressed","false");i.attr("aria-hidden","true")}return false};l=function(C){var B=b(C.target),A=B.is('[role="menuitem"]'),w,D,z,x,y;if(A){f.each(function(E){if(b(this).is(B)){w=E;return false}})}if(!(C.ctrlKey||C.altKey||C.metaKey)){switch(C.keyCode){case 9:if(t&&((C.shiftKey&&B.is(o))||(!C.shiftKey&&B.is(e)))){o.trigger("click");pe.focus(o);return false}break;case 13:B.trigger("click");if(B.is(e)){pe.focus(o)}return false;case 27:if(t){m();pe.focus(o);return false}break;case 32:B.trigger("click");if(B.is(e)){pe.focus(o)}return false;case 38:if(!A){if(t){pe.focus(f.eq(f.length-1))}else{o.trigger("click")}}else{if(w===0){pe.focus(f.eq(f.length-1))}else{pe.focus(f.eq(w-1))}}return false;case 40:if(!A){if(t){pe.focus(f.eq(0))}else{o.trigger("click")}}else{if(w===f.length-1){pe.focus(f.eq(0))}else{pe.focus(f.eq(w+1))}}return false;default:if((C.keyCode>47&&C.keyCode<58)||(C.keyCode>64&&C.keyCode<91)){D=String.fromCharCode(C.keyCode).toLowerCase();z=b(C.target).text();y=i.find("a").filter(function(){return(b(this).text().substring(0,1).toLowerCase()===D||b(this).text()===z)});if(y.length>0){y.each(function(E){if(b(this).text()===z){x=E;return false}});if(x<(y.length-1)){pe.focus(y.eq(x+1));return false}pe.focus(y.eq(0))}return false}}}else{if(C.metaKey&&C.keycode===9){if(B.is(o)){o.trigger("click");return false}}}};f.on("click vclick",function(){m(i)});h.on("keydown",l);i.on("keydown",l);b(document).on("click touchstart",function(w){if(t&&!b(w.target).is(i)&&!b(w.target).is(h)&&b(w.target).closest(i).length===0){m()}});i.append('<a href="#" id="slideoutClose">'+u+"</a>");e=i.find("#slideoutClose");h.find("#slideoutInnerWrapper").css("padding",(s/2)+"px").prepend('<div id="slideoutToggle" class="slideoutToggle"><a id="toggleLink" role="button" aria-pressed="false" aria-controls="slideout" href="#" onclick="return false;"><img width="'+r.width+'px" height="'+r.height+'px" src="'+r.path+'" alt="'+r.alt+'" title="'+r.alt+'" /></a></div>');o=h.find("#toggleLink");h.find("#slideoutToggle").css({width:r.width,height:r.height});i.addClass("tabbedSlideout");q=i.outerHeight();h.css("width",(r.width+s)+"px").css("top",b("#wb-core-in").offset().top);i.hide().attr("aria-hidden","true");h.find("#slideoutInnerWrapper").css("width",k.width);if(pe.ie>0&&pe.ie<8&&document.documentMode===undefined){d=false}if(d){h.addClass("slideoutWrapper");pe.resize(n);n()}else{h.addClass("so-ie7");h.addClass("slideoutWrapperRel").css({right:v-10,top:"0"})}o.on("click vclick",m);e.on("click vclick",m);if(pe.ie===7){b("html").css("overflowY","auto")}}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.tabbedinterface={type:"plugin",depends:(pe.mobile?[]:["metadata","easytabs","equalheights"]),mobile:function(h){var g=h.find(".tabs > li"),e=h.find(".tabs-panel > div"),d=b('<div data-role="collapsible-set" data-content-theme="b" data-theme="b"/>'),j,i=(h.hasClass("tabs-style-4")||h.hasClass("tabs-style-5")),k,l,f=false;h.removeClass();if(i){k=h.closest("section").find(":header:first");l=(k.length>0?(parseInt(k.prop("tagName").substr(1),10)+1):3)}e.each(function(m){j=b('<div data-role="collapsible"/>');if(i){j.append("<h"+l+">"+g.eq(m).children("a").html()+"</h"+l+">"+b(this).html())}else{j.append(b(this).find(":header:first").parent().html())}if(g.eq(m).hasClass("default")){j.attr("data-collapsed","false");f=true}d.append(j)});if(!f){d.children().eq(0).attr("data-collapsed","false")}g.remove();h.empty().append(d);return h},_exec:function(n){if(pe.mobile){return a.fn.tabbedinterface.mobile(n).trigger("create")}var k,z=n.find(".tabs"),e=z.find("a:not(.tabs-toggle)"),d=n.find(".tabs-panel"),o=d.children(),i,w,q,s,r,l,A,B,m,x,t,y,h,j,f,g,u,v,C="-link";s={panelActiveClass:"active",tabActiveClass:"active",defaultTab:"li:first-child",autoHeight:true,cycle:false,carousel:false,autoPlay:false,animate:false,animationSpeed:"normal",updateHash:false};r={defaultTab:((n.find(".default").length)?".default":undefined),autoHeight:n.hasClass("auto-height-none")?false:undefined,cycle:(n.hasClass("cycle-slow")?8000:(n.hasClass("cycle-fast")?2000:(n.hasClass("cycle")?6000:undefined))),carousel:n.hasClass("style-carousel")?true:undefined,autoPlay:n.hasClass("auto-play")?true:undefined,animate:(n.hasClass("animate")||n.hasClass("animate-slow")||n.hasClass("animate-fast"))?true:undefined,animationSpeed:(n.hasClass("animate-slow")?"slow":(n.hasClass("animate-fast")?"fast":undefined))};b.metadata.setType("attr","data-wet-boew");if(typeof wet_boew_tabbedinterface!=="undefined"&&wet_boew_tabbedinterface!==null){b.extend(s,wet_boew_tabbedinterface,r,n.metadata())}else{b.extend(s,r,n.metadata())}z.attr("role","tablist").children("li").attr("role","presentation");e.attr("role","tab").attr("aria-selected","false").each(function(){var E=b(this),D=E.attr("href").substring(1);E.attr("aria-controls",D).attr("id",D+C)});d.attr("id",o.eq(0).attr("id")+"-parent");o.attr("tabindex","-1").attr("role","tabpanel").attr("aria-hidden","true").each(function(){var D=b(this);if(pe.ie>0){D.attr("aria-labelledby",D.attr("id")+C)}});k=(z.find(".default").length>0?z.find(".default"):z.find("li:first-child"));e.on("keydown",function(E){var D=b(E.target);if(E.keyCode===13||E.keyCode===32){if(E.stopPropagation){E.stopImmediatePropagation()}else{E.cancelBubble=true}E.preventDefault();if(!D.is(e.filter("."+s.tabActiveClass))){B(D,e,o,s,false)}else{pe.focus(o.filter(D.attr("href")))}}else{if(E.keyCode===37||E.keyCode===38){B(A(e),e,o,s,false);E.preventDefault()}else{if(E.keyCode===39||E.keyCode===40){B(l(e),e,o,s,false);E.preventDefault()}}}});k.children("a").each(function(){b(this).attr("aria-selected","true");return b("#"+b(this).attr("href").substring(1)).attr("aria-hidden","false")});l=function(D){var E=D.filter("."+s.tabActiveClass).parent().next(":not(.tabs-toggle)");return(E.length===0?D.first():E.children())};A=function(D){var E=D.filter("."+s.tabActiveClass).parent().prev();return(E.length===0?D.last():E.children())};B=function(E,D,I,H,G){var F;I.stop(true,true);if(H.animate){I.filter("."+H.panelActiveClass).removeClass(H.panelActiveClass).attr("aria-hidden","true").fadeOut(H.animationSpeed,function(){return I.filter("#"+E.attr("href").substr(1)).fadeIn(H.animationSpeed,function(){return b(this).addClass(H.panelActiveClass).attr("aria-hidden","false")})})}else{I.removeClass(H.panelActiveClass).attr("aria-hidden","true").hide();I.filter("#"+E.attr("href").substr(1)).show().addClass(H.panelActiveClass).attr("aria-hidden","false")}D.parent().removeClass(H.tabActiveClass).children().removeClass(H.tabActiveClass).filter("a").attr("aria-selected","false");E.parent().addClass(H.tabActiveClass).children().addClass(H.tabActiveClass).filter("a").attr("aria-selected","true");F=E.parent().siblings(".tabs-toggle");if(!G&&(F.length===0||F.data("state")==="stopped")){return pe.focus(E)}};y=function(){if(w.data("state")==="stopped"){B(l(e),e,o,s,true);q(e,o,s);i.removeClass(m["class"]).addClass(x["class"]).html(x.text+'<span class="wb-invisible">'+x["hidden-text"]+"</span>").attr("aria-pressed",true);return b(".wb-invisible",i).text(x["hidden-text"])}if(w.data("state")==="started"){return t()}};if(s.autoHeight&&!n.hasClass("tabs-style-4")&&!n.hasClass("tabs-style-5")){o.show();b(".tabs-panel",n).equalHeights(true)}n.easytabs(b.extend({},s,{cycle:false}));if(s.cycle){q=function(D,G,F){var E,H;E=D.filter(function(){return b(this).is("."+F.tabActiveClass)});d.attr("aria-live","polite");H=E.siblings(".tabs-roller");n.find(".tabs-toggle").data("state","started");return H.show().animate({width:E.parent().width()},F.cycle-200,"linear",function(){b(this).width(0).hide();B(l(D),D,G,F,true);return n.data("interval",setTimeout(function(){return q(D,G,F)},0))})};t=function(){clearTimeout(n.data("interval"));d.attr("aria-live","off");n.find(".tabs-roller").width(0).hide().stop();n.find(".tabs-toggle").data("state","stopped");i.removeClass(x["class"]).addClass(m["class"]).html(m.text+'<span class="wb-invisible">'+m["hidden-text"]+"</span>").attr("aria-pressed",false);return b(".wb-invisible",i).text(m["hidden-text"])};d.attr("role","marquee").attr("aria-live","off");h=b('<li class="tabs-toggle">');u={"class":"tabs-prev",text:"&nbsp;&nbsp;&nbsp;","hidden-text":pe.dic.get("%previous")};f=b('<a class="'+u["class"]+'" href="javascript:;" role="button" aria-controls="'+d.attr("id")+'">'+u.text+'<span class="wb-invisible">'+u["hidden-text"]+"</span></a>");z.append(h.append(f));f.on("click",function(){B(A(e),e,o,s,true)});j=b("<li class='tabs-toggle'>");v={"class":"tabs-next",text:"&nbsp;&nbsp;&nbsp;","hidden-text":pe.dic.get("%next")};g=b('<a class="'+v["class"]+'" href="javascript:;" role="button" aria-controls="'+d.attr("id")+'">'+v.text+'<span class="wb-invisible">'+v["hidden-text"]+"</span></a>");z.append(j.append(g));g.on("click",function(){B(l(e),e,o,s,true)});w=b('<li class="tabs-toggle">');x={"class":"tabs-stop",text:pe.dic.get("%pause"),"hidden-text":pe.dic.get("%tab-rotation","disable")};m={"class":"tabs-start",text:pe.dic.get("%play"),"hidden-text":pe.dic.get("%tab-rotation","enable")};i=b('<a class="'+x["class"]+'" href="javascript:;" role="button" aria-pressed="true" aria-controls="'+d.attr("id")+'">'+x.text+'<span class="wb-invisible">'+x["hidden-text"]+"</span></a>");z.append(w.append(i));w.click(y).on("keydown",function(D){if(D.keyCode===32){y();return D.preventDefault()}});z.find("li a").not(w.find("a")).click(function(){return t()});e.each(function(){var D;D=b('<div class="tabs-roller">').hide().click(function(){return b(this).siblings("a").click()}).hover(function(){return b(this).css("cursor","text")});if(pe.ie>0&&pe.ie<8){b(".tabs-style-2 .tabs, .tabs-style-2 .tabs li").css("filter","")}return b(this).parent().append(D)});q(e,o,s);if(!s.autoPlay){t()}}n.find('a[href^="#"]').each(function(){var D,E;E=b(this).attr("href");if(E.length>1){D=b(E,o);if(D.length){return b(this).click(function(H){var F,G;F=D.parents('[role="tabpanel"]:hidden');if(F){H.preventDefault();G=F.attr("id");F.parent().siblings(".tabs").find('a[href="#'+G+'"]').trigger("click");return D.get(0).scrollIntoView(true)}})}}});return n.attr("class",n.attr("class").replace(/\bwidget-style-/,"style-"))}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.texthighlight={type:"plugin",_exec:function(e){function d(h,k){var f,j,g;h=h.replace(/^\s+|\s+$/g,"");h=h.replace(/\|+/g,"");f=h.split("+");if(f.length>0){h="";for(g=0;g<f.length;g+=1){h+=f[g]+" "}h=h.replace(/^\s+|\s+$|\"|\(|\)/g,"")}h=h.replace(/\s+/g,"|");h=decodeURIComponent(h);h="(?=([^>]*<))([\\s'])?("+h+")(?!>)";j=k.html().replace(new RegExp(h,"gi"),function(n,m,l,i){return(typeof l==="undefined"?"":l)+'<span class="texthighlight"><mark>'+i+"</mark></span>"});k.html(j);return null}if(pe.urlquery.texthighlight!==undefined){d(pe.urlquery.texthighlight,e)}return this}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.toolbar={scope:"plugin",_exec:function(e){var d=b('<div class="wet-boew-toolbar" role="toolbar"><ul><li class="toolbar-top-page"> <a href="#wb-tphp" role="link">'+pe.dic.get("%top-of-page")+"</a> </li></ul></div>");b("#wb-body-sec-sup, #wb-body-sec, #wb-body").add("body").first().append(d);d.hide();b(window).bind("scroll",function(){if(b(this).scrollTop()>10){d.fadeIn("normal").attr("aria-hidden","false")}else{d.fadeOut("normal").attr("aria-hidden","true")}});if(b(window).scrollTop()<10||b(window).scrollTop()==="undefined"){d.fadeOut("normal").attr("aria-hidden","true")}else{d.fadeIn("normal").attr("aria-hidden","false")}}};window.pe=b.extend(true,window.pe,a);return window.pe}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.webwidget={type:"plugin",twitter:{_parse_entries:function(e,f,k){var j,h,d,g;j=(f>0&&f<e.length?f:e.length);g=e.sort(function(l,i){return pe.date.compare(i.created_at.replace("+0000 ","")+" GMT",l.created_at.replace("+0000 ","")+" GMT")});d='<ul class="widget-content">';h=0;while(h<j){d+='<li><a class="float-left" href="http://www.twitter.com/';d+=g[h].user.name+"/status/"+g[h].user.id+'"><img class="widget-avatar" src="'+g[h].user.profile_image_url+'" alt="'+g[h].user.name+'" /></a> ';d+=pe.string.ify.clean(g[h].text);d+=' <span class="widget-datestamp-accent">'+pe.dic.ago(g[h].created_at)+"</span></li>";h+=1}d+="</ul>";return k.replaceWith(d)},_json_request:function(d){if(d.toLowerCase().indexOf("!/search/")>-1){return d.replace("http://","https://").replace(/https:\/\/twitter.com\/#!\/search\/(.+$)/,function(h,g,f,e){return"http://search.twitter.com/search.json?q="+encodeURI(decodeURI(g))})}return d.replace("http://","https://").replace(/https:\/\/twitter.com\/#!\/(.+$)/i,function(h,g,f,e){return"http://twitter.com/status/user_timeline/"+encodeURI(decodeURI(g))+".json?callback=?"})},exec:function(k,f,l){var d,h,j,g,e;j=k.length-1;d=[];g=this._parse_entries;h=k.length-1;e=[];while(h>=0){b.getJSON(this._json_request(k[h]),function(m){var i;i=0;while(i<m.length){d.push(m[i]);i+=1}if(!j){g(d,f,l)}j-=1;return j});e.push(h-=1)}return e}},weather:{_parse_entries:function(e,f,g){var d;d='<ul class="widget-content">';d+='<li><a href="'+e[1].link+'">'+e[1].title+'</a><span class="widget-datestamp">['+pe.date.to_iso_format(e[1].publishedDate,true)+"]</span></li>";d+="</ul>";return g.replaceWith(d)},exec:function(k,f,l){var d,h,j,g,e;j=k.length-1;d=[];g=this._parse_entries;h=k.length-1;e=[];while(h>=0){b.getJSON(this._json_request(k[h]),function(m){var i;i=0;while(i<m.responseData.feed.entries.length){d.push(m.responseData.feed.entries[i]);i+=1}if(!j){g(d,f,l)}j-=1;return j});e.push(h-=1)}return e},_json_request:function(e,d){var f;e=e.replace(/^.*?\.gc\.ca\/([a-z]+).+\/(.*?)_[a-z]+_([ef])\.html/i,"http://www.weatheroffice.gc.ca/rss/$1/$2_$3.xml");f="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+encodeURI(decodeURI(e));if(d>0){f+="&num="+d}return f}},rss:{_parse_entries:function(e,f,k){var j,h,d,g;j=(f>0&&f<e.length?f:e.length);g=e.sort(function(l,i){return pe.date.compare(i.publishedDate,l.publishedDate)});d='<ul class="widget-content">';h=0;while(h<j){d+='<li><a href="'+g[h].link+'">'+g[h].title+'</a><span class="widget-datestamp">['+pe.date.to_iso_format(g[h].publishedDate,true)+"]</span></li>";h+=1}d+="</ul>";return k.replaceWith(d)},exec:function(k,f,l){var d,h,j,g,e;j=k.length-1;d=[];g=this._parse_entries;h=k.length-1;e=[];while(h>=0){b.getJSON(this._json_request(k[h]),function(m){var i;i=0;while(i<m.responseData.feed.entries.length){d.push(m.responseData.feed.entries[i]);i+=1}if(!j){g(d,f,l)}j-=1;return j});e.push(h-=1)}return e},_json_request:function(e,d){var f;f="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+encodeURI(decodeURI(e));if(d>0){f+="&num="+d}return f}},_exec:function(i,h){var g,e,d,f;g=b(i);f=pe.limit(g);d=g.find("a").map(function(){var j;j=b(this).attr("href");if(!h&&/twitter.com/i.test(j)){h="twitter"}if(!h&&/weatheroffice.gc.ca/i.test(j)){h="weather"}if(!h){h="rss"}return b(this).attr("href")});e=b('<ul class="widget-content"><li class="widget-state-loading"><img src="'+pe.add.liblocation+'/images/webfeeds/ajax-loader.gif" alt="'+pe.dic.get("%loading")+'" /></li></ul>');g.find(".widget-content").replaceWith(e);b.extend({},a.fn.webwidget[h]).exec(d,f,e);return}};window.pe=a;return window.pe}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.zebra={type:"plugin",_exec:function(g){var d,e,f;if(g.is("table")){d=(g.children("tr").add(g.children("tbody").children("tr"))).filter(function(){return b(this).children("td").length>0});d.filter(":odd").addClass("table-even");d.filter(":even").addClass("table-odd");d.on("hover focusin focusout",function(h){h.stopPropagation();b(this).toggleClass("table-hover")})}else{e=g.children("li");f=(g.parents("li").length+1)%2;e.filter(":odd").addClass(f===0?"list-odd":"list-even");e.filter(":even").addClass(f===1?"list-odd":"list-even");e.on("mouseover mouseout focusin focusout",function(h){h.stopPropagation();b(this).toggleClass("list-hover")})}}};window.pe=a;return a}(jQuery));