/*!
 * Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * www.tbs.gc.ca/ws-nw/wet-boew/terms / www.sct.gc.ca/ws-nw/wet-boew/conditions
 */
(function(d){var a,b;a=(typeof window.pe!=="undefined"&&window.pe!==null)?window.pe:{fn:{}};b={language:(d("html").attr("lang")?(d("html").attr("lang").indexOf("en")===0?"eng":"fra"):d("meta[name='dc.language'], meta[name='dcterms.language']").attr("content")),touchscreen:"ontouchstart" in document.documentElement,theme:"theme-gcwu-fegc",suffix:"",header:d("#wb-head"),menubar:d(".wet-boew-menubar"),leftcol:d("#wb-sec"),footer:d("#wb-foot"),html5:(function(){var e=false,f=/\s+(X?HTML)\s+([\d\.]+)\s*([^\/]+)*\//gi;if(typeof document.namespaces!=="undefined"){e=(document.all[0].nodeType===8)?f.test(document.all[0].nodeValue):false}else{e=(document.doctype!==null)?f.test(document.doctype.publicId):false}return(e)?false:true}()),ie:d.browser.msie?d.browser.version:0,_init:function(){var j,l,t,e,k,f,h,s,n,m,r,i,g,q,o;d("html").removeClass("no-js").addClass(a.theme+((a.touchscreen)?" touchscreen":""));r=a.url(document.getElementById("progressive").src).file;a.suffix=r.substr(r.length-7)==="-min.js"?"-min":"";if(a.mobilecheck()){a.mobile=true;d("body > div").attr("data-role","page")}d.when.apply(d,d.map(d("*[data-ajax-replace], *[data-ajax-append]"),function(w){o=d(w);var v=false,u;if(o.attr("data-ajax-replace")!==undefined){v=true;u=o.attr("data-ajax-replace")}else{if(o.attr("data-ajax-append")!==undefined){u=o.attr("data-ajax-append")}}return d.get(u,function(x){if(v){o.empty()}o.append(d(x))},"html")})).always(function(){d(document).bind("languageloaded",function(){a.dance()});a.add.language(a.language);if(a.mobile===true){if(a.menubar.length>0){j='<div data-role="page" id="jqmobile-wet-boew-menubar"><div data-role="header">';l=a.header.find("#gcwu-psnb > :header");j+="<h1>"+l.html()+"</h1></div>";j+='<div data-role="content" data-inset="true"><nav role="navigation">';t=a.header.find("#gcwu-bc");if(t.length>0){j+='<div id="jqm-mb-location-text">'+t.html()+"</div>";t.remove()}else{j+='<div id="jqm-mb-location-text"></div>'}if(a.leftcol.length>0){e="<h2>"+a.leftcol.find(":header").eq(0).html()+"</h2>";e+='<div data-role="collapsible-set">';e+=a.leftcol.find(".wb-sec-def").html().replace(/<section>/gi,'<div data-role="collapsible">').replace(/<\/section>/gi,"</div>");e=e.replace(/<h(.*?)>\s*<a/gmi,'<h$1><a class="ui-link" data-icon="arrow-r" data-theme="b"');e=e.replace(/<ul(.*?)>/gi,'<ul data-role="listview"$1>').replace(/<\/ul>/gi,"</ul>");e=e.replace(/<div class=\"top-level\"/gmi,'<div data-role="button" data-icon="arrow-r" class="top-level"');e+="</div>";j+=e;a.leftcol.remove()}j+="<h2>"+l.html()+"</h2>";j+='<div data-role="collapsible-set">';a.menubar.find("ul.mb-menu").clone().each(function(){d(this).find("div[class^=span]").each(function(){d(this).replaceWith(d(this).html())});d(this).find(".mb-sm").each(function(){d(this).html('<div data-role="collapsible-set">'+d(this).html()+"</div)")});d(this).children().children("div:first-child,h2,h3,h4,section").each(function(){var u=d(this);if(u.is("section")){u=u.children("h2,h3,h4").eq(0)}u.html(u.text());if(u.is("div")){j+='<div data-role="button" data-icon="arrow-r" data-corners="false" class="top-level'+(u.parent().is("li:first-child")?" ui-corner-top":((u.parent().is("li:last-child")?" ui-corner-bottom":"")))+'" data-theme="a">'+d(this).html()+"</div>"}else{u.parent().find("ul").attr("data-role","listview");u.parent().find(".mb-sm div > a,.mb-sm h2,.mb-sm h3,.mb-sm h4").each(function(){var v=d(this),w=v.parent();if(w.is("div")){w.html(w.text());w.attr("data-role","button").attr("data-icon","arrow-r").attr("data-corners","false").attr("data-theme","a").addClass("top-level"+(u.parent().is("li:first-child")?" ui-corner-top":((u.parent().is("li:last-child")?" ui-corner-bottom":""))))}else{if(w.is("section")){v.html(v.text());w.wrap('<div data-role="collapsible" data-theme="a">');w.parent().html(w.html())}}});j+='<div data-role="collapsible" data-theme="a">'+u.parent().html()+"</div>"}})});j+="</nav></div>";j+="</div></div>";a.pagecontainer().append(j);l.wrapInner('<a href="#jqmobile-wet-boew-menubar" data-rel="dialog"></a>')}k=a.header.find("#gcwu-srchbx");if(k.length>0){f=d('<div data-role="page" id="jqmobile-wet-boew-search"></div>');f.append(d('<div data-role="header"><h1>'+k.find(":header").text()+"</h1></div>")).append(d('<div data-role="content"></div>').append(k.find("form").clone()));a.pagecontainer().append(f);k.find(":header").wrapInner('<a href="#jqmobile-wet-boew-search" data-rel="dialog"></a>');h=d("<ul></ul>").hide().append('<li><a data-rel="dialog" data-theme="b"  data-icon="grid" href="'+l.find("a").attr("href")+'">'+l.find("a").text()+"</a></li>").append('<li><a data-rel="dialog" data-theme="b" data-icon="search" href="'+k.find(":header a").attr("href")+'">'+k.find(":header a").text()+"</a></li>");a.header.find("#gcwu-title").after(d('<div data-role="navbar" data-iconpos="right"></div>').append(h))}i=d("#gcwu-lang");if(i.length>0){s=i.find("a").attr("data-theme","a");g=d('<div data-role="navbar"><ul></ul></div>');m=g.children();s.each(function(){m.append(d("<li/>").append(this))});i.find("#gcwu-ef-lang").replaceWith(g.children().end());i.find("#gcwu-other-lang").remove()}if(a.footer.find("#gcwu-sft").length>0){s=a.footer.find("#gcwu-sft-in #gcwu-tctr a, #gcwu-sft-in .gcwu-col-head a").attr("data-theme","b");n=d('<div data-role="navbar"><ul></ul></div>');m=n.children();s.each(function(){m.append(d("<li/>").append(this))});a.footer.find("#gcwu-sft-in").replaceWith(n.children().end());a.footer.find("#gcwu-gcft").parent().remove()}else{if(a.footer.find("#gcwu-tc").length>0){s=a.footer.find("#gcwu-tc a").attr("data-theme","b");n=d('<div data-role="navbar"><ul></ul></div>');m=n.children();s.each(function(){m.append(d("<li/>").append(this))});a.footer.find("#gcwu-tc").replaceWith(n.children().end())}}a.footer.find("footer").append(d("#gcwu-wmms").detach());d(document).on("mobileinit",function(){d.mobile.ajaxEnabled=false;d.mobile.pushStateEnabled=false;if(a.menubar.length>0){a.header.find("#gcwu-psnb").parent().remove()}if(k.length>0){k.parent().remove();h.show()}});d(document).on("pageinit",function(){})}});a.polyfills()},depends:{_ind:[],is:function(e){return -1!==d.inArray(e,a.depends._ind)},put:function(e){a.depends._ind[a.depends._ind.length]=e},on:(function(){d(document).on("wet-boew-dependency-loaded",function(){var e,f;for(e=0,f=a.depends.on.length;e<f;e+=1){a.depends.on[e](e)}});return[]}())},mobile:false,mobilecheck:function(){return(window.innerWidth<768&&!(a.ie>0&&a.ie<9))},pagecontainer:function(){return d("#wb-body-sec-sup,#wb-body-sec,#wb-body").add("body").eq(0)},parameter:function(e,f){return(a.html5)?f.data(e):f.attr("class").replace("/.*"+e+"-([a-z0-9_]+).*/i","$1")},resize:function(e){ResizeEvents.initialise();ResizeEvents.eventElement.bind("x-text-resize x-zoom-resize x-window-resize",function(){e()});return},url:function(f){var e;e=document.createElement("a");e.href=f;return{source:e.href,protocol:e.protocol.replace(":",""),host:e.hostname,port:e.port==="0"?"80":e.port,query:e.search,params:(function(){var j,i,k,h,l,g;i={};h=e.search.replace(/^\?/,"").split("&");for(l=0,g=h.length;l<g;l+=1){j=h[l];if(j){k=j.split("=");i[k[0]]=k[1]}}return i}()),file:e.pathname.match(/\/([^\/?#]+)$/i)?e.pathname.match(/\/([^\/?#]+)$/i)[1]:"",hash:e.hash.replace("#",""),path:e.pathname.replace(/^([^\/])/,"/$1"),relative:e.href.match(/tps?:\/\/[^\/]+(.+)/)?e.href.match(/tps?:\/\/[^\/]+(.+)/)[1]:"",segments:e.pathname.replace(/^\//,"").split("/"),removehash:function(){return this.source.replace(/#([A-Za-z0-9-_=&]+)/,"")}}},_execute:function(f,g){var e=(typeof f._exec!=="undefined")?f._exec:f.exec;if(typeof f.depends!=="undefined"){a.add.js(f.depends,function(){e(g)})}else{e(g)}return},cssenabled:function(){return d("link").get(0).disabled},limit:function(f){var e;e=d(f).attr("class").match(/\blimit-\d+/);if(!e){return 0}return Number(e[0].replace(/limit-/i,""))},focus:function(e){setTimeout(function(){return(typeof e.jquery!=="undefined"?e.focus():d(e).focus())},0);return e},string:{ify:(function(){return{link:function(e){return e.replace(/[a-z]+:\/\/[a-z0-9-_]+\.[a-z0-9-_@:~%&\?\+#\/.=]+[^:\.,\)\s*$]/ig,function(f){return'<a href="'+f+'">'+((f.length>25)?f.substr(0,24)+"...":f)+"</a>"})},at:function(e){return e.replace(/(^|[^\w]+)\@([a-zA-Z0-9_]{1,15}(\/[a-zA-Z0-9-_]+)*)/g,function(f,h,g){return h+'@<a href="http://twitter.com/'+g+'">'+g+"</a>"})},hash:function(e){return e.replace(/(^|[^&\w'"]+)\#([a-zA-Z0-9_]+)/g,function(f,h,g){return h+'#<a href="http://search.twitter.com/search?q=%23'+g+'">'+g+"</a>"})},clean:function(e){return this.hash(this.at(this.link(e)))}}}()),pad:function(f,e){var g;g=String(f);while(g.length<e){g="0"+g}return g}},date:{convert:function(e){if(e.constructor===Date){return e}if(e.constructor===Array){return new Date(e[0],e[1],e[2])}if(e.constructor===Number){return new Date(e)}if(e.constructor===String){return new Date(e)}if(typeof e==="object"){return new Date(e.year,e.month,e.date)}return NaN},compare:function(f,e){if(isFinite(f=this.convert(f).valueOf())&&isFinite(e=this.convert(e).valueOf())){return(f>e)-(f<e)}return NaN},in_range:function(f,g,e){if(isFinite(f=this.convert(f).valueOf())&&isFinite(g=this.convert(g).valueOf())&&isFinite(e=this.convert(e).valueOf())){return g<=f&&f<=e}return NaN},to_iso_format:function(g,f){var e;e=this.convert(g);if(f){return e.getFullYear()+"-"+a.string.pad(e.getMonth()+1,2,"0")+"-"+a.string.pad(e.getDate(),2,"0")+" "+a.string.pad(e.getHours(),2,"0")+":"+a.string.pad(e.getMinutes(),2,"0")}return e.getFullYear()+"-"+a.string.pad(e.getMonth()+1,2,"0")+"-"+a.string.pad(e.getDate(),2,"0")}},polyfills:function(){var f=a.add.liblocation,e=(function(k){var i=k.createElement("details"),h,g,j;if(typeof i.open==="undefined"){return false}g=k.body||(function(){var l=k.documentElement;h=true;return l.insertBefore(k.createElement("body"),l.firstElementChild||l.firstChild)}());i.innerHTML="<summary>a</summary>b";i.style.display="block";g.appendChild(i);j=i.offsetHeight;i.open=true;j=j!==i.offsetHeight;g.removeChild(i);if(h){g.parentNode.removeChild(g)}return j}(document));if(!window.localStorage){a.add._load(f+"polyfills/localstorage"+a.suffix+".js")}if(typeof document.createElement("progress").position==="undefined"){a.add._load(f+"polyfills/progress"+a.suffix+".js")}if(!e){a.add._load(f+"polyfills/detailsummary"+a.suffix+".js")}},add:(function(){return{head:document.head||document.getElementsByTagName("head"),liblocation:(function(){var e=document.getElementById("progressive").src;return e.substr(0,e.lastIndexOf("/")+1)}()),themecsslocation:(function(){var e=document.getElementById("wb-theme").href;return e.substr(0,e.lastIndexOf("/")+1)}()),staged:[],_load:function(f){var e=a.add.head;if(d.inArray(f,this.staged)>-1){return this}setTimeout(function(){if(typeof e.item!=="undefined"){if(!e[0]){setTimeout(arguments.callee,25);return}e=e[0]}var g=document.createElement("script"),h=false;a.add.set(g,"async",true);g.onload=g.onreadystatechange=function(){if((g.readyState&&g.readyState!=="complete"&&g.readyState!=="loaded")||h){return false}g.onload=g.onreadystatechange=null;h=true;a.depends.put(f);d(document).trigger({type:"wet-boew-dependency-loaded",js:f})};g.src=f;if((a.ie>0&&a.ie<9)||!e.insertBefore){d(g).appendTo(d(e))}else{e.insertBefore(g,e.firstChild)}},0);this.staged[this.staged.length]=f;return this},set:function(g,e,f){g.setAttribute(e,f);return this},css:function(g){var f=a.add.head,e=document.createElement("link");a.add.set(e,"rel","stylesheet").set(e,"href",g);if((a.ie>0&&a.ie<10)||!f.insertBefore){d(e).appendTo(d(f)).attr("href",g)}else{f.insertBefore(e,f.firstChild)}return this},depends:function(g){var f=a.add.liblocation,e=d.map(g,function(h){return(/^http(s)?/i.test(h))?h:f+"dependencies/"+h+a.suffix+".js"});return e},language:function(f){var e=a.add.liblocation+"i18n/"+f.substring(0,2)+a.suffix+".js";a.add._load(e)},js:function(g,f){var e;g=a.add.depends(g);for(e=0;e<g.length;e+=1){if(!a.depends.is(g[e])){a.add._load(g[e])}}a.depends.on[a.depends.on.length]=function(h){var i=true;for(e=0;e<g.length;e+=1){if(!a.depends.is(g[e])){i=false}}if(i){a.depends.on[h]=function(){};f()}};d(document).trigger("wet-boew-dependency-loaded");return this},meta:function(f,g){var e;e=document.createElement("meta");a.add.set(e,"name",f).set(e,"content",g);a.add.head.appendChild(e);return this}}}()),dance:function(){var f,e=":not(a[href], input, button, textarea)",g=(typeof wet_boew_properties!=="undefined"&&wet_boew_properties!==null)?wet_boew_properties:false;d('[class^="wet-boew-"]').each(function(){var i,h;h=d(this);i=h.attr("class").replace(/^wet-boew-(\S*).*/i,"$1".toLowerCase());if(typeof a.fn[i]!=="undefined"){a._execute(a.fn[i],h)}});if(g){for(f=0;f<g.globals.length;f+=1){a._execute(a.fn[g.globals[f]],document)}}if(a.mobile){d("#wb-main a[href^='#']").click(function(){d("#"+d(this).attr("href").slice(1)+e).attr("tabindex","-1").focus()});a.add.css([a.add.themecsslocation+"jquery.mobile-min.css"]);a.add._load([a.add.liblocation+"../js/jquery.mobile/jquery.mobile.min.js"])}else{d("#wb-skip a").click(function(){d("#"+d(this).attr("href").slice(1)+e).attr("tabindex","-1").focus()})}window.onresize=function(){if(a.mobile!==a.mobilecheck()){window.location.href=a.url(window.location.href).removehash()}}}};window.pe=d.extend(true,a,b);return window.pe}(jQuery))._init();(function(b){var a=window.pe||{fn:{}};a.fn.archived={type:"plugin",_exec:function(e){if(pe.mobile){return}var d=b('<div class="archived" role="toolbar"><a class="archived-top-page" href="#archived" role="link">'+pe.dic.get("%archived-page")+"</a></div>");b(window).on("scroll",function(){if(b(this).scrollTop()>10){d.fadeIn("normal").attr("aria-hidden","false")}else{d.fadeOut("normal").attr("aria-hidden","true")}});if(b(window).scrollTop()<10||b(window).scrollTop()==="undefined"){d.fadeOut("normal").attr("aria-hidden","true")}else{d.fadeIn("normal").attr("aria-hidden","false")}pe.pagecontainer().append(d)}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.charts={type:"plugin",depends:["excanvas","flot"],_exec:function(j){var e,i,h,g,f,d;e=b(j);f=e.find(".chart-canvas");if(!f.hasClass("fixed-size")){f.height(Math.round(f.width()/1.61663))}d=b(j).find("table").eq(0);h=[];i=g=[];d.find("thead td, thead th").each(function(){return i.push(b(this).text())});d.find("tbody tr").each(function(){var k;k={label:"",data:[]};k.label=b(this).find("th").eq(0).text();b(this).find("td").each(function(l){return k.data.push([i[l+1],b(this).text()])});return h.push(k)});b.plot(f,h,{xaxis:{tickDecimals:0}})}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.mathlib={type:"plugin",support:(function(){var d=false,e,g,f;if(document.createElementNS){e="http://www.w3.org/1998/Math/MathML";g=document.createElement("div");g.style.position="absolute";g.style.color="#fff";f=g.appendChild(document.createElementNS(e,"math")).appendChild(document.createElementNS(e,"mfrac"));f.appendChild(document.createElementNS(e,"mi")).appendChild(document.createTextNode("xx"));f.appendChild(document.createElementNS(e,"mi")).appendChild(document.createTextNode("yy"));document.body.appendChild(g);d=g.offsetHeight>g.offsetWidth;g.style.display="none"}return d}()),_exec:function(d){if(pe.fn.mathlib.support){return}pe.add._load("http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML")}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.menubar={type:"plugin",depends:["resize","equalheights","hoverintent","outside"],_exec:function(l){var n,e,k,r,q,m,s,o,h,d,g,j,f;q=b(l);f=function(u){var t,i;t=b(u).closest("li");h();i=t.find(".mb-sm");i.attr("aria-expanded","true").attr("aria-hidden","false").toggleClass("mb-sm mb-sm-open");if((Math.floor(i.offset().left+i.width())-Math.floor(k.offset().left+k.width()))>=-1){i.css("right","0px")}t.addClass("mb-active");return};o=function(u){var t,i;f(u);t=b(u);i=t.closest("li").find(".mb-sm-open");pe.focus(i.find("a[href]:first"));return};d=function(u){var t,i;t=b(u).closest("li");i=t.find(".mb-sm-open");i.attr("aria-expanded","false").attr("aria-hidden","true").toggleClass("mb-sm mb-sm-open").css("right","auto");t.removeClass("mb-active");return};h=function(){e.find(".mb-sm-open").each(function(){var i;i=b(this).closest("li");return d(i)});return};s=function(){var t,i;i=e.children("li:last");t=(i.offset().top+i.outerHeight())-q.offset().top;return q.css("min-height",t)};k=q.children("div");e=k.children("ul");q.attr("role","application");e.attr("role","menubar");pe.resize(s);q.find(".mb-sm").parent().find("> :header a").on("click",function(i){if(b(this).closest("li").hasClass("mb-active")){d(this)}else{f(this)}return false});q.on("keydown focus section-next section-previous item-next item-previous close","li",function(y){var w,B,A,x,z,t,v,u,i;B=b(y.target);A=b.map(/\bknav-(\d+)-(\d+)-(\d+)/.exec(B.attr("class")),function(C){return parseInt(C,10)});if(y.type==="keydown"){if(!(y.ctrlKey||y.altKey||y.metaKey)){switch(y.keyCode){case 13:if(A[2]===0&&A[3]===0){B.trigger("item-next");return false}break;case 27:B.trigger("close");return false;case 32:if(A[2]===0&&A[3]===0){B.trigger("item-next")}else{window.location=B.attr("href")}return false;case 37:B.trigger("section-previous");return false;case 38:B.trigger("item-previous");return false;case 39:B.trigger("section-next");return false;case 40:B.trigger("item-next");return false;default:if((y.keyCode>47&&y.keyCode<58)||(y.keyCode>64&&y.keyCode<91)){x=String.fromCharCode(y.keyCode).toLowerCase();z=(A[2]!==0||A[3]!==0);t=B.text();v=e.find(".mb-sm-open a").filter(function(C){return(b(this).text().substring(0,1).toLowerCase()===x||(z&&b(this).text()===t))});if(v.length>0){if(z){v.each(function(C){if(b(this).text()===t){u=C;return false}});if(u<(v.length-1)){pe.focus(v.eq(u+1));return false}}pe.focus(v.eq(0))}return false}}}}else{if(y.type==="close"){pe.focus(q.find(".knav-"+A[1]+"-0-0"));setTimeout(function(){return h()},5)}else{if(y.type==="section-previous"){i=!!A[2]<<1|!!A[3];switch(i){case 0:case 1:w=q.find(".knav-"+(A[1]-1)+"-0-0");if(w.length>0){pe.focus(w)}else{pe.focus(q.find("ul.mb-menu > li:last").find("a:eq(0)"))}break;case 2:case 3:w=q.find(".knav-"+(A[1])+"-"+(A[2]-1)+"-0");if(w.length>0&&A[2]>1){pe.focus(w)}else{w=q.find(".knav-"+(A[1]-1)+"-0-0");if(w.length>0){pe.focus(w)}else{pe.focus(q.find("ul.mb-menu > li:last").find("a:eq(0)"))}}break}}else{if(y.type==="section-next"){i=!!A[2]<<1|!!A[3];switch(i){case 0:case 1:w=q.find(".knav-"+(A[1]+1)+"-0-0");if(w.length>0){pe.focus(w)}else{pe.focus(q.find(".knav-0-0-0"))}break;case 2:case 3:w=q.find(".knav-"+(A[1])+"-"+(A[2]+1)+"-0");if(w.length>0){pe.focus(w)}else{w=q.find(".knav-"+(A[1]+1)+"-0-0");if(w.length>0){pe.focus(w)}else{pe.focus(q.find(".knav-0-0-0"))}}break}}else{if(y.type==="item-next"){w=q.find(".knav-"+A[1]+"-"+(A[2])+"-"+(A[3]+1));if(w.length>0){pe.focus(w)}else{w=q.find(".knav-"+A[1]+"-"+(A[2]+1)+"-0");if(w.length>0){pe.focus(w)}else{pe.focus(q.find(".knav-"+A[1]+"-0-0"))}}}else{if(y.type==="item-previous"){w=q.find(".knav-"+A[1]+"-"+(A[2])+"-"+(A[3]-1));if(w.length>0){pe.focus(w)}else{w=q.find(".knav-"+A[1]+"-"+(A[2]-1)+"-0");if(w.length>0){pe.focus(w)}else{pe.focus(q.find(".knav-"+A[1]+"-0-0"))}}}else{if(y.type==="focusin"&&A[2]===0&&A[3]===0){h();if(B.find(".expandicon").length>0){f(y.target)}return}}}}}}}});b(document).on("click",function(){q.trigger("focusoutside")});q.on("focusoutside",function(){return h()});q.find("ul.mb-menu > li").find("a:eq(0)").each(function(t,v){var u,i;i=b(v);i.addClass("knav-"+t+"-0-0");u=i.closest("li").find(".mb-sm");if(u.size()>0){i.attr("aria-haspopup","true").addClass("mb-has-sm").wrapInner('<span class="expandicon"><span class="sublink"></span></span>');u.attr("role","menu").attr("aria-expanded","false").attr("aria-hidden","true").find(":has(:header) ul").attr("role","menu");i.append('<span class="wb-invisible">'+(pe.dic.get("%sub-menu-help"))+"</span>");i.closest("li").hoverIntent(function(){return f(this)},function(){return d(this)});u.find("h4 a").each(function(w){b(this).addClass("knav-"+t+"-"+(w+1)+"-0");b(this).parent().next("ul").find("a").each(function(x){b(this).addClass("knav-"+t+"-"+(w+1)+"-"+(x+1));return});return});u.find("ul").not(function(){return(b(this).prev("h4").length?true:false)}).find("a").each(function(w){b(this).addClass("knav-"+t+"-0-"+(w+1))})}});if(pe.cssenabled){e.find("a").attr("role","menuitem").attr("tabindex","-1").filter(".knav-0-0-0").attr("tabindex","0")}m=b("#gcwu-bc, #cn-bcrumb");if(m.size()>0&&!q.hasClass("page-match-off")){r=e.children("li").find('a[href="'+window.location.pathname+'"]');if(r.size()>0){r.eq(0).addClass("nav-current")}else{j=false;n=m.find('li a:not([href^="#"])');if(n.size()>0){g=0;while(g<=n.size()){r=e.children("li").find('a[href="'+n.eq(g).attr("href")+'"]');if(r.size()>0){r.eq(0).addClass("nav-current");j=true;break}g+=1}}if(!j){r=e.children("li").find('a:contains("'+m.find("li:last-child").text()+'")');if(r.size()>0){r.eq(0).addClass("nav-current")}}}}s();return q}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.multimedia={type:"plugin",_exec:function(m){var e,k=false,f=m.children("audio, video").eq(0),g;var e;if(m.attr("id")!==undefined){e=m.attr("id")}else{e="wet-boew-mediaplayer"+m.index();m.attr("id",e)}if(f.attr("id")!==undefined){g=f.attr("id")}else{g=e+"-media";f.attr("id",g)}if(f.get(0).currentSrc!==""&&f.get(0).currentSrc!==undefined){k=true}else{flash=true;var l="video/mp4";var j="audio/mpeg";var d=b('<object id="'+g+'" type="application/x-shockwave-flash" data="'+a.add.liblocation+'bin/multimedia.swf" tabindex="-1"></object>');var h=b('<param name="flashvars" value="id='+m.attr("id")+'"/>');d.append(h);if(flash&&f.is("video")&&f.find('source[type="'+l+'"]')){d.addClass("video");d.attr("width",f.width()).attr("height",f.height());d.append('<param value="always" name="allowScriptAccess"><param value="#000000" name="bgcolor"><param value="opaque" name="wmode">');h.attr("value",h.attr("value")+"&height="+f.height()+"&width="+f.width()+"&posterimg="+escape(a.url(f.attr("poster")).source)+"&media="+a.url(f.find('source[type="'+l+'"]').attr("src")).source);k=true}else{if(flash&&f.is("audio")&&f.find('source[type="'+j+'"]')){d.addClass("audio");h.attr("value",h.attr("value")+"&media="+a.url(f.find('source[type="'+j+'"]').attr("src")).source);d.append(h);k=true}else{k=false}}if(k){f.before(d);f.remove();f=d}}if(k){b.extend(m.get(0),{object:f.get(0)},a.fn.multimedia._intf);f.after(a.fn.multimedia._get_ui(g));m.on("click",function(r){$target=b(r.target);if($target.hasClass("playpause")||r.target==this.object){if(this.getPaused()===true){this.play()}else{this.pause()}}if($target.hasClass("cc")){this.setCaptionsVisible(!this.getCaptionsVisible())}if($target.hasClass("mute")){this.setMuted(!this.getMuted())}if($target.hasClass("wet-boew-mediaplayer-timeline")||$target.parent().is(".wet-boew-mediaplayer-timeline")){var n=b(this).find(".wet-boew-mediaplayer-timeline");var q=(r.pageX-n.offset().left)/n.width();this.setCurrentTime(this.getDuration()*q)}if($target.hasClass("rewind")||$target.hasClass("fastforward")){var o=this.getDuration()*0.05;if($target.hasClass("rewind")){o*=-1}this.setCurrentTime(this.getCurrentTime()+o)}});m.on("keypress",function(o){$target=b(o.target);$w=b(this);if((o.which==32||o.which==13)&&o.target==this.object){$w.find(".wet-boew-button.playpause").click();return false}if(o.keyCode==37){$w.find(".wet-boew-button.rewind").click();return false}if(o.keyCode==39){$w.find(".wet-boew-button.fastforward").click();return false}if(o.keyCode==38){var n=Math.round(this.getVolume()*10)/10+0.1;n=n<1?n:1;this.setVolume(n);return false}if(o.keyCode==40){var n=Math.round(this.getVolume()*10)/10-0.1;n=n>0?n:0;this.setVolume(n);return false}});var i=f.is("object")?f.children(":first-child"):f;i.on("loadeddata progress timeupdate seeked canplay play volumechange pause ended captionsloaded captionsloadfailed captionsshown captionshidden",b.proxy(function(q){$w=b(this);switch(q.type){case"play":$w.find(".playpause img").attr({alt:a.dic.get("%stop"),src:""});break;case"pause":$w.find(".playpause img").attr({alt:a.dic.get("%play"),src:""});break;case"volumechange":if(this.getMuted()||this.getVolume()===0){$w.find(".mute img").attr({alt:a.dic.get("%mute","disable"),src:""})}else{$w.find(".mute img").attr({alt:a.dic.get("%mute","enable"),src:""})}break;case"captionsvisiblechange":if(this.getCaptionsVisible()){$w.find(".cc img").attr({alt:a.dic.get("%closed-captions","disable"),src:""})}else{$w.find(".cc img").attr({alt:a.dic.get("%closed-captions","enable"),src:""})}break;case"timeupdate":var n=Math.round(this.getCurrentTime()/this.getDuration()*10000)/100+"%";var r=$w.find(".wet-boew-mediaplayer-timeline").children("div").stop();if(this.getSeeking()){r.css("width",n)}else{r.animate({width:n},150,"linear")}break;case"progress":break;case"captionsloaded":b(q.target).captions($w.find(".wet-boew-mediaplayer-captionsarea"),q.captions);break;case"captionsloadfailed":$w.find(".wet-boew-mediaplayer-captionsarea").empty().append("<p>"+player.dictionary.captionserror+"</p>");break}},m.get(0)))}return m},_get_ui:function(h){var f=b('<div class="wet-boew-mediaplayer-controls">');var e=b('<div class="wet-boew-mediaplayer-controls-start">');var g=b('<div class="wet-boew-mediaplayer-timeline" tabindex="0"><div class="outer"><div class="inner">');var d=b('<div class="wet-boew-mediaplayer-controls-end">');e.append(b("<button>").attr({type:"button","class":"rewind","aria-controls":h}).append(b("<img>").attr({src:"",alt:a.dic.get("%rewind")})));e.append(b("<button>").attr({type:"button","class":"playpause","aria-controls":h}).append(b("<img>").attr({src:"",alt:a.dic.get("%play")})));e.append(b("<button>").attr({type:"button","class":"fastforward","aria-controls":h}).append(b("<img>").attr({src:"",alt:a.dic.get("%fast-forward")})));d.append(b("<button>").attr({type:"button","class":"cc","aria-controls":h}).append(b("<img>").attr({src:"",alt:a.dic.get("%closed-caption","enable")})));d.append(b("<button>").attr({type:"button","class":"mute","aria-controls":h}).append(b("<img>").attr({src:"",alt:a.dic.get("%mute","enable")})));f.append(e).append(g).append(d);return f},_intf:{play:function(){this.object.play()},pause:function(){this.object.pause()},getPaused:function(){return(typeof(this.object.paused)!=="function"?this.object.paused:this.object.paused())},getPlayed:function(){return(typeof(this.object.played)!=="function"?this.object.played:this.object.played())},getEnded:function(){return(typeof(this.object.ended)!=="function"?this.object.ended:this.object.ended())},getSeeking:function(){return(typeof(this.object.seeking)!=="function"?this.object.seeking:this.object.seeking())},getDuration:function(){return(typeof(this.object.duration)!=="function"?this.object.duration:this.object.duration())},getBuffered:function(){return(typeof(this.object.buffered)!=="function"?(this.object.buffered.length>0?this.object.buffered.end(0):0):this.object.buffered())},getCurrentTime:function(){return(typeof(this.object.currentTime)!=="function"?this.object.currentTime:this.object.currentTime())},setCurrentTime:function(d){this.object.pause!==undefined?this.object.currentTime=d:this.object.setCurrentTime(d)},getCaptionsVisible:function(){return b(this).parent().find(".wet-boew-mediaplayer-captionsarea").is(":visible")},setCaptionsVisible:function(d){if(d){b(this).parent().find(".wet-boew-mediaplayer-captionsarea").show();b(this.object).trigger("captionsshown")}else{b(this).parent().find(".wet-boew-mediaplayer-captionsarea").hide();b(this.object).trigger("captionshidden")}},getMuted:function(){return(typeof(this.object.muted)!=="function"?this.object.muted:this.object.muted())},setMuted:function(d){this.object.muted!==undefined?this.object.muted=d:this.object.setMuted(d)},getVolume:function(){return(typeof(this.object.volume)!=="function"?this.object.volume:this.object.volume())},setVolume:function(d){this.object.volume!==undefined?this.object.volume=d:this.object.setVolume(d)}}};a.triggermediaevent=function(g,d,f){var e=b("#"+g).find("object :first-child").trigger(d)};window.pe=a;return a}(jQuery));(function(a){a.fn.captions=function(d,b){$video=a(this);var e=function(h,i,g){$area=a(h);$area.empty();for(c=0;c<g.length;c++){var f=g[c];if(i>=f.begin&&i<=f.end){$area.append(a("<div>"+f.text+"</div>"))}}};$video.on("timeupdate",{area:d,captions:b},function(f){if(f.data.captions===undefined){a(f.target).off("timeupdate")}e(f.data.area,this.currentTime,f.data.captions)})}})(jQuery);(function(a){a.fn.loadcaptions=function(b){$video=a(this);var d=function(o){if(o!==undefined){if(o.substring(o.length-1)=="s"){return parseFloat(o.substring(0,o.length-1))}else{var r=o.split(":").reverse();var q=0;for(p=0;p<r.length;p++){var n=(p==0)?parseFloat(r[p]):parseInt(r[p]);q+=n*Math.pow(60,p)}return q}}return -1};var f=function(q){var o=".wet-boew-tt";var r=q.find(o);var n=[];r.each(function(){var u=a(this).clone();u.find(o).detach();var w=-1;var t=-1;if(u.attr("data-begin")!==undefined){t=d(u.attr("data-begin"));end=u.attr("data-end")!==undefined?d(u.attr("data-end")):d(u.attr("data-dur"))+t}else{var s;if(u.attr("data")){s=u.attr("data")}else{var v=u.attr("class");s=v.substring(v.indexOf("{"))}s=s.replace(/(begin|dur|end)/gi,'"$1"').replace(/'/g,'"');s=a.parseJSON(s);t=d(s.begin);end=s.end!==undefined?d(s.end):d(s.dur)+t}n[n.length]={text:u.html(),begin:t,end:end}});return n};var e=function(q){var o="[begin]";var r=q.find(o);var n=[];r.each(function(){var u=a(this).clone();u.find(o).detach();var t=d(u.attr("begin"));var s=u.attr("end")!==undefined?d(u.attr("end")):d(u.attr("dur"))+t;n[n.length]={text:u.html(),begin:t,end:s}});return n};var m="captionsloaded";var l="captionsloadfailed";var g=function(o){var n={type:m,captions:f(o)};$video.trigger(n)};var j=function(n){a.ajax({url:n,context:$video,crossDomain:true,dataType:"html",success:function(s,o,q){var r={type:m};if(s.indexOf("<html")>-1){r.captions=f(a(s))}else{r.captions=e(a(s))}a(this).trigger(r)},error:function(q,r,o){a(this).trigger({type:l,error:o})}})};if(b!==undefined){var h=PE.url();var i=PE.url(b);if(i.absolute.replace("#"+i.anchor,"")==h.absolute.replace("#"+h.anchor,"")){var k=a("#"+i.anchor);if(k.length>0){g(k);return}a(this).trigger({type:l,error:new Error("Object with id '"+i.anchor+"' not found")});return}else{j(i.absolute);return}}a(this).trigger({type:l,error:new Error("Caption source is missing")})}})(jQuery);var pe=PE;PE.load("multimedia/wet-boew.captions.js");PE.load("multimedia/wet-boew.loadcaptions.js");PE.load("jquery.template.js");PE.triggermediaevent=function(e,a,d){var b=$("#"+e).find("object :first-child").trigger(a)};Utils.addCSSSupportFile(Utils.getSupportPath()+"/multimedia/themes/default/style.css");(function(b){var a={dictionary:{play:(PE.language==="eng")?"Play ":"Démarrer ",pause:"Pause ",closewindow:(PE.language==="eng")?"Close":"Fermer",rewind:(PE.language==="eng")?"Rewind ":"Reculer ",fastforward:(PE.language==="eng")?"Fast forward ":"Avancer ",mute_on:(PE.language==="eng")?"Unmute":"Désactiver le mode muet",mute_off:(PE.language==="eng")?"Mute":"Activer le mode muet",closedcaptions_on:(PE.language==="eng")?"Hide Closed captioning ":"Masquer le sous-titrage ",closedcaptions_off:(PE.language==="eng")?"Show Closed captioning":"Afficher le sous-titrage ",audiodescription_on:(PE.language==="eng")?"Disable Audio Description ":"Désactiver l'audiodescription ",audiodescription_off:(PE.language==="eng")?"Enable Audio Description":"Activer l'audiodescription ",novideo:(PE.language==="eng")?"Your browser does not appear to have the capabilities to play this video, please download the video below":"Votre navigateur ne semble pas avoir les capacité nécessaires pour lire cette vidéo, s'il vous plaît télécharger la vidéo ci-dessous",position:(PE.language==="eng")?"Current Position: ":"Position actuelle : ",duration:(PE.language==="eng")?"Total Time: ":"Temps total : ",buffered:(PE.language==="eng")?"Buffered: ":"Mis en mémoire-tampon : ",captionserror:(PE.language==="eng")?"Error loading captions":"Erreur dans le chargement des sous-titres"},icons:{background:Utils.getSupportPath()+"/multimedia/themes/default/images/background-toolbar.png",play:Utils.getSupportPath()+"/multimedia/themes/default/images/play-control.png",pause:Utils.getSupportPath()+"/multimedia/themes/default/images/pause-control.png",rewind:Utils.getSupportPath()+"/multimedia/themes/default/images/rewind-control.png",fastforward:Utils.getSupportPath()+"/multimedia/themes/default/images/fastforward-control.png",closedcaptions_off:Utils.getSupportPath()+"/multimedia/themes/default/images/cc-off-control.png",closedcaptions_on:Utils.getSupportPath()+"/multimedia/themes/default/images/cc-on-control.png",audiodescription_off:Utils.getSupportPath()+"/multimedia/themes/default/images/descriptive-off-control.png",audiodescription_on:Utils.getSupportPath()+"/multimedia/themes/default/images/descriptive-on-control.png",mute_on:Utils.getSupportPath()+"/multimedia/themes/default/images/mute-control.png",mute_off:Utils.getSupportPath()+"/multimedia/themes/default/images/sound-control.png"},intf:{play:function(){this.object.play()},pause:function(){this.object.pause()},getPaused:function(){return(typeof(this.object.paused)!=="function"?this.object.paused:this.object.paused())},getPlayed:function(){return(typeof(this.object.played)!=="function"?this.object.played:this.object.played())},getEnded:function(){return(typeof(this.object.ended)!=="function"?this.object.ended:this.object.ended())},getSeeking:function(){return(typeof(this.object.seeking)!=="function"?this.object.seeking:this.object.seeking())},getDuration:function(){return(typeof(this.object.duration)!=="function"?this.object.duration:this.object.duration())},getBuffered:function(){return(typeof(this.object.buffered)!=="function"?(this.object.buffered.length>0?this.object.buffered.end(0):0):this.object.buffered())},getCurrentTime:function(){return(typeof(this.object.currentTime)!=="function"?this.object.currentTime:this.object.currentTime())},setCurrentTime:function(d){this.object.pause!==undefined?this.object.currentTime=d:this.object.setCurrentTime(d)},getCaptionsVisible:function(){return b(this).parent().find(".wet-boew-mediaplayer-captionsarea").is(":visible")},setCaptionsVisible:function(d){if(d){b(this).parent().find(".wet-boew-mediaplayer-captionsarea").show();b(this.object).trigger("captionsshown")}else{b(this).parent().find(".wet-boew-mediaplayer-captionsarea").hide();b(this.object).trigger("captionshidden")}},getMuted:function(){return(typeof(this.object.muted)!=="function"?this.object.muted:this.object.muted())},setMuted:function(d){this.object.muted!==undefined?this.object.muted=d:this.object.setMuted(d)},getVolume:function(){return(typeof(this.object.volume)!=="function"?this.object.volume:this.object.volume())},setVolume:function(d){this.object.volume!==undefined?this.object.volume=d:this.object.setVolume(d)}}};b.fn.mediaPlayer=function(k){$media=this;$wrapper=$media.wrap('<div class="wet-boew-mediaplayer" />').parent();var e;if($wrapper.attr("id")!==undefined){e=$wrapper.attr("id")}else{e="wet-boew-mediaplayer"+k;$wrapper.attr("id",e)}var n={captions:$media.find('track[kind="captions"]').attr("src"),captionstype:$media.find('track[kind="captions"]').attr("data-type")};var l=true;if($media.get(0).currentSrc==""||$media.get(0).currentSrc==undefined){flash=true;var m="video/mp4";var j="audio/mpeg";var q=false;var d=b('<object type="application/x-shockwave-flash" data="'+Utils.getSupportPath()+'/multimedia/mp-jm.swf" tabindex="-1"></object>');var g=b('<param name="flashvars" value="id='+$wrapper.attr("id")+'"/>');d.append(g);if(flash&&$media.is("video")&&$media.find('source[type="'+m+'"]')){d.addClass("video");d.attr("width",$media.width()).attr("height",$media.height());d.append('<param value="always" name="allowScriptAccess"><param value="#000000" name="bgcolor"><param value="opaque" name="wmode">');g.attr("value",g.attr("value")+"&height="+$media.height()+"&width="+$media.width()+"&posterimg="+escape($media.attr("poster"))+"&media="+PE.url($media.find('source[type="'+m+'"]').attr("src")).absolute);q=true}else{if(flash&&$media.is("audio")&&$media.find('source[type="'+j+'"]')){d.addClass("audio");g.attr("value",g.attr("value")+"&media="+PE.url($media.find('source[type="'+j+'"]').attr("src")).absolute);d.append(g);q=true}else{l=false}}if(q){$media.before(d);$media.remove();$media=d}}if(l){var o="\n<!-- Autogenerated code by mediaplayer plugin -->\n\n";o+='<div class="wet-boew-toolbar"><div class="wet-boew-controls-start"><button type="button" id="${jsId}RewindButton" class="wet-boew-button rewind" title="${dictionary.rewind}" aria-controls="${jsId}"><img src="${icons.rewind}" alt="${dictionary.rewind}" /></button><button type="button" id="${jsId}PlayStopButton" class="wet-boew-button playpause" title="${dictionary.play}" aria-controls="${jsId}"><img src="${icons.play}" alt="${dictionary.play}" /></button><button type="button" id="${jsId}FastForwardButton" class="wet-boew-button fastforward" title="${dictionary.fastforward}" aria-controls="${jsId}"><img src="${icons.fastforward}" alt="${dictionary.fastforward}" /></button></div><div class="wet-boew-controls-middle"><div class="wet-boew-mediaplayer-timeline" tabindex="0"><div class="outer"><div class="inner"></div></div></div></div><div class="wet-boew-controls-end"><button type="button" id="${jsId}CaptionOnOffButton" class="wet-boew-button cc" title="${dictionary.closedcaptions_off}" aria-controls="${jsId}"><img src="${icons.closedcaptions_off}" alt="${dictionary.closedcaptions_off}" /></button><button type="button" id="${jsId}MuteUnmuteButton" class="wet-boew-button ui-button-last mute" title="${dictionary.mute_off}" aria-controls="${jsId}"><img src="${icons.mute_off}" alt="${dictionary.mute_off}" /></button></div></div>';o=o+"\n\n<!-- End of Autogenerated code by mediaplayer plugin -->\n";b.template("mpmarkup",o);var r=b.extend({id:e},a);var f=b.tmpl("mpmarkup",r);$wrapper.append(f);f.find(".wet-boew-mediaplayer-timeline").css("margin-left",f.find(".wet-boew-controls-start").width()+5).css("margin-right",f.find(".wet-boew-controls-end").width()+5);if($media.is("video, .video")){var i=b('<div class="wet-boew-mediaplayer-captionsarea" style="display:none"></div>');$media.loadcaptions(n.captions);$media.after(i)}b.extend($wrapper.get(0),{object:$media.get(0)},a.intf);$wrapper.on("click",function(x){$target=b(x.target);if($target.hasClass("playpause")||x.target==this.object){if(this.getPaused()===true){this.play()}else{this.pause()}}if($target.hasClass("cc")){this.setCaptionsVisible(!this.getCaptionsVisible())}if($target.hasClass("mute")){this.setMuted(!this.getMuted())}if($target.hasClass("wet-boew-mediaplayer-timeline")||$target.parent().is(".wet-boew-mediaplayer-timeline")){var u=b(this).find(".wet-boew-mediaplayer-timeline");var w=(x.pageX-u.offset().left)/u.width();this.setCurrentTime(this.getDuration()*w)}if($target.hasClass("rewind")||$target.hasClass("fastforward")){var v=this.getDuration()*0.05;if($target.hasClass("rewind")){v*=-1}this.setCurrentTime(this.getCurrentTime()+v)}});$wrapper.on("keypress",function(t){$target=b(t.target);$w=b(this);if((t.which==32||t.which==13)&&t.target==this.object){$w.find(".wet-boew-button.playpause").click();return false}if(t.keyCode==37){$w.find(".wet-boew-button.rewind").click();return false}if(t.keyCode==39){$w.find(".wet-boew-button.fastforward").click();return false}if(t.keyCode==38){var s=Math.round(this.getVolume()*10)/10+0.1;s=s<1?s:1;this.setVolume(s);return false}if(t.keyCode==40){var s=Math.round(this.getVolume()*10)/10-0.1;s=s>0?s:0;this.setVolume(s);return false}});var h=$media.is("object")?$media.children(":first-child"):$media;h.on("loadeddata progress timeupdate seeked canplay play volumechange pause ended captionsloaded captionsloadfailed captionsshown captionshidden",b.proxy(function(u){$w=b(this);switch(u.type){case"play":var t=$w.find(".wet-boew-button.playpause").attr("title",a.dictionary.pause);t.children("img").attr("alt",a.dictionary.pause).attr("src",a.icons.pause);break;case"pause":var t=$w.find(".wet-boew-button.playpause").attr("title",a.dictionary.play);t.children("img").attr("alt",a.dictionary.play).attr("src",a.icons.play);break;case"volumechange":if(this.getMuted()||this.getVolume()===0){var t=$w.find(".wet-boew-button.mute").attr("title",a.dictionary.mute_on);t.children("img").attr("alt",a.dictionary.mute_on).attr("src",a.icons.mute_on)}else{var t=$w.find(".wet-boew-button.mute").attr("title",a.dictionary.mute_off);t.children("img").attr("alt",a.dictionary.mute_off).attr("src",a.icons.mute_off)}break;case"timeupdate":var s=Math.round(this.getCurrentTime()/this.getDuration()*10000)/100+"%";var v=$w.find(".wet-boew-mediaplayer-timeline").children("div").stop();if(this.getSeeking()){v.css("width",s)}else{v.animate({width:s},150,"linear")}break;case"progress":break;case"captionsloaded":b(u.target).captions($w.find(".wet-boew-mediaplayer-captionsarea"),u.captions);break;case"captionsloadfailed":$w.find(".wet-boew-mediaplayer-captionsarea").empty().append("<p>"+a.dictionary.captionserror+"</p>");break;case"captionsshown":var t=$w.find(".wet-boew-button.cc").attr("title",a.dictionary.closedcaptions_on);t.children("img").attr("alt",a.dictionary.closedcaptions_on).attr("src",a.icons.closedcaptions_on);break;case"captionshidden":var t=$w.find(".wet-boew-button.cc").attr("title",a.dictionary.closedcaptions_off);t.children("img").attr("alt",a.dictionary.closedcaptions_off).attr("src",a.icons.closedcaptions_off);break}},$wrapper.get(0)))}return $media};b(document).ready(function(){b("audio, video").each(function(d){b(this).mediaPlayer(d)})})})(jQuery);(function(b){var a=window.pe||{fn:{}};a.fn.share={type:"plugin",depends:["metadata","bookmark"],_exec:function(m){var e,n,d,j,o,l,f,k,g,i,h;e={url:"",sourceTag:"",title:"",description:"",sites:[],compact:false,hint:pe.dic.get("%share-text")+pe.dic.get("%share-hint"),popup:true,popupText:pe.dic.get("%share-text"),hideText:(pe.dic.get("%hide")+" - "),addFavorite:false,favoriteText:pe.dic.get("%favourite"),addEmail:false,emailText:pe.dic.get("%email"),emailSubject:pe.dic.get("%share-email-subject"),emailBody:pe.dic.get("%share-email-body"),manualBookmark:pe.dic.get("%share-manual"),addShowAll:false,showAllText:pe.dic.get("%share-showall"),showAllTitle:pe.dic.get("%share-showall-title"),addAnalytics:false,analyticsName:"/share/{r}/{s}"};n={compact:m.hasClass("compact")?true:undefined,popup:m.hasClass("popup-none")?false:undefined,addFavorite:m.hasClass("favourite")?true:undefined,addEmail:m.hasClass("email")?true:undefined,addShowAll:m.hasClass("showall")?true:undefined,addAnalytics:m.hasClass("analytics")?true:undefined};b.metadata.setType("attr","data-wet-boew");if(typeof wet_boew_share!=="undefined"&&wet_boew_share!==null){b.extend(e,wet_boew_share,n,m.metadata())}else{b.extend(e,n,m.metadata())}m.bookmark(e);if(e.popup&&pe.cssenabled){m.attr("role","application");d=m.find(".bookmark_popup").attr("id","bookmark_popup").attr("aria-hidden","true").attr("role","menu").prepend('<p class="popup_title">'+e.popupText+"</p>");o=d.find("li").attr("role","presentation").find("a").attr("role","menuitem").attr("tabindex","-1");j=m.find(".bookmark_popup_text").off("click");j.attr("role","button").attr("aria-controls","bookmark_popup").attr("aria-pressed","false").on("click keydown",function(q){if(q.type==="keydown"&&(!(q.ctrlKey||q.altKey||q.metaKey))){switch(q.keyCode){case 13:d.trigger("open");return false;case 32:d.trigger("open");return false;case 38:d.trigger("open");return false;case 40:d.trigger("open");return false}}else{if(q.type==="click"){if(b(q.target).attr("aria-pressed")==="false"){d.trigger("open")}else{d.trigger("close")}return false}}});d.on("keydown open close",function(q){if(q.type==="keydown"){if(!(q.ctrlKey||q.altKey||q.metaKey)){switch(q.keyCode){case 9:d.trigger("close");return false;case 27:d.trigger("close");return false;case 37:l=b(q.target).closest("li").prev().find("a");if(l.length===0){l=o}pe.focus(l.last());return false;case 38:f=b(q.target).offset().left;l=b(q.target).closest("li").prevAll().find("a").filter(function(r){return(b(this).offset().left===f)});if(l.length>0){pe.focus(l.first())}else{l=o.filter(function(r){return(b(this).offset().left<f)});if(l.length>0){pe.focus(l.last())}else{f=o.last().offset().left;l=o.filter(function(r){return(b(this).offset().left>f)});if(l.length>0){pe.focus(l.last())}else{pe.focus(o.last())}}}return false;case 39:l=b(q.target).closest("li").next().find("a");if(l.length===0){l=o}pe.focus(l.first());return false;case 40:f=b(q.target).offset().left;l=b(q.target).closest("li").nextAll().find("a").filter(function(r){return(b(this).offset().left===f)});if(l.length>0){pe.focus(l.first())}else{l=o.filter(function(r){return(b(this).offset().left>f)});if(l.length>0){pe.focus(l.first())}else{pe.focus(o.first())}}return false;default:if((q.keyCode>47&&q.keyCode<58)||(q.keyCode>64&&q.keyCode<91)){k=String.fromCharCode(q.keyCode).toLowerCase();g=b(q.target).text();i=o.filter(function(r){return(b(this).text().substring(1,2).toLowerCase()===k||b(this).text()===g)});if(i.length>0){if(b(q.target).hasClass("bookmark_popup_text")){pe.focus(i.eq(0))}else{i.each(function(r){if(b(this).text()===g){h=r;return false}});if(h<(i.length-1)){pe.focus(i.eq(h+1));return false}pe.focus(i.eq(0))}}return false}}}}else{if(q.type==="open"){j.text(e.hideText+e.popupText).attr("aria-pressed","true");pe.focus(d.show().attr("aria-hidden","false").find("li a").first())}else{if(q.type==="close"){pe.focus(j.text(e.popupText).attr("aria-pressed","false").first());d.hide().attr("aria-hidden","true")}}}});b(document).on("click",function(q){if(d.attr("aria-hidden")==="false"){d.trigger("close")}})}else{m.addClass("popup-none")}return m}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.tabbedinterface={type:"plugin",depends:["metadata","easytabs","equalheights"],mobile:function(j){var e,h,g,f,d;e=j.find(".tabs li > a");h=j.find(".tabs-panel").children();g=b('<div data-role="collapsible-set"/>');for(f=0;f<e.length;f+=1){d=b('<div data-role="collapsible" data-theme="b" data-content-theme="b"/>');d.append("<h1>"+e.eq(f).text()+"</h1>");d.append(h.eq(f).html());if(e.eq(f).parent().hasClass("default")){d.attr("data-collapsed","false")}g.append(d)}j.replaceWith(g);return j},_exec:function(n){if(pe.mobile){return a.fn.tabbedinterface.mobile(n)}var l,z,o,e,i,w,q,s,r,f,d,m,x,t,y,j,k,g,h,u,v;s={panelActiveClass:"active",tabActiveClass:"active",defaultTab:"li:first-child",autoHeight:true,cycle:false,carousel:false,autoPlay:false,animate:false,animationSpeed:"normal",updateHash:false};r={defaultTab:((n.find(".default").length)?".default":undefined),autoHeight:n.hasClass("auto-height-none")?false:undefined,cycle:(n.hasClass("cycle-slow")?8000:(n.hasClass("cycle-fast")?2000:(n.hasClass("cycle")?6000:undefined))),carousel:n.hasClass("style-carousel")?true:undefined,autoPlay:n.hasClass("auto-play")?true:undefined,animate:(n.hasClass("animate")||n.hasClass("animate-slow")||n.hasClass("animate-fast"))?true:undefined,animationSpeed:(n.hasClass("animate-slow")?"slow":(n.hasClass("animate-fast")?"fast":undefined))};b.metadata.setType("attr","data-wet-boew");if(typeof wet_boew_tabbedinterface!=="undefined"&&wet_boew_tabbedinterface!==null){b.extend(s,wet_boew_tabbedinterface,r,n.metadata())}else{b.extend(s,r,n.metadata())}z=n.find(".tabs");e=z.find("li > a");o=n.find(".tabs-panel").children();l=(z.find(".default").length>0?z.find(".default"):z.find("li:first-child"));z.attr("role","tablist");z.find("li").each(function(){b(this).attr("role","presentation");return b(this).children("a").each(function(){return b(this).attr("role","tab").attr("aria-selected","false").attr("id",b(this).attr("href").substring(1)+"-link").bind("click",function(){b(this).parent().parent().children("."+s.tabActiveClass).children("a").each(function(){b(this).attr("aria-selected","false");return b("#"+b(this).attr("href").substring(1)).attr("aria-hidden","true")});b(this).attr("aria-selected","true");return b("#"+b(this).attr("href").substring(1)).attr("aria-hidden","false")})})});o.each(function(){return b(this).attr("role","tabpanel").attr("aria-hidden","true").attr("aria-labelledby",b('a[href*="#'+b(this).attr("id")+'"]').attr("id"))});l.children("a").each(function(){b(this).attr("aria-selected","true");return b("#"+b(this).attr("href").substring(1)).attr("aria-hidden","false")});z.find("li a").bind("focus",function(){o.stop(true,true);b(this).click()});z.find("li a").keydown(function(B){if(B.keyCode===13||B.keyCode===32){var A=o.filter(function(){return b(this).is("."+s.tabActiveClass)});A.attr("tabindex","0");if(B.stopPropagation){B.stopImmediatePropagation()}else{B.cancelBubble=true}return setTimeout(function(){return A.focus()},0)}});n.keydown(function(A){if(A.which===37||A.which===38){d(e,o,s,false);A.preventDefault()}else{if(A.which===39||A.which===40){f(e,o,s,false);A.preventDefault()}}});d=function(A,G,F,E){var D,B,C;G.stop(true,true);D=A.filter(function(){return b(this).is("."+F.tabActiveClass)});B=A.eq((A.index(D)-1)+A.size()%A.size());if(F.animate){G.filter("."+F.panelActiveClass).removeClass(F.panelActiveClass).attr("aria-hidden","true").fadeOut(F.animationSpeed,function(){return G.filter("#"+B.attr("href").substr(1)).fadeIn(F.animationSpeed,function(){return b(this).addClass(F.panelActiveClass).attr("aria-hidden","false")})})}else{G.removeClass(F.panelActiveClass).attr("aria-hidden","true").hide();G.filter("#"+B.attr("href").substr(1)).show().addClass(F.panelActiveClass).attr("aria-hidden","false")}A.parent().removeClass(F.tabActiveClass).children().removeClass(F.tabActiveClass).filter("a").attr("aria-selected","false");B.parent().addClass(F.tabActiveClass).children().addClass(F.tabActiveClass).filter("a").attr("aria-selected","true");C=D.parent().siblings(".tabs-toggle");if(!E&&(C.length===0||C.data("state")==="stopped")){return B.focus()}};f=function(A,G,F,E){var D,B,C;G.stop(true,true);D=A.filter(function(){return b(this).is("."+F.tabActiveClass)});B=A.eq((A.index(D)+1)%A.size());if(F.animate){G.filter("."+F.panelActiveClass).removeClass(F.panelActiveClass).attr("aria-hidden","true").fadeOut(F.animationSpeed,function(){return G.filter("#"+B.attr("href").substr(1)).fadeIn(F.animationSpeed,function(){return b(this).addClass(F.panelActiveClass).attr("aria-hidden","false")})})}else{G.removeClass(F.panelActiveClass).attr("aria-hidden","true").hide();G.filter("#"+B.attr("href").substr(1)).show().addClass(F.panelActiveClass).attr("aria-hidden","false")}A.parent().removeClass(F.tabActiveClass).children().removeClass(F.tabActiveClass).filter("a").attr("aria-selected","false");B.parent().addClass(F.tabActiveClass).children().addClass(F.tabActiveClass).filter("a").attr("aria-selected","true");C=D.parent().siblings(".tabs-toggle");if(!E&&(C.length===0||C.data("state")==="stopped")){return B.focus()}};y=function(){if(w.data("state")==="stopped"){f(e,o,s,true);q(e,o,s);i.removeClass(m["class"]).addClass(x["class"]).html(x.text+"<span class='wb-invisible'>"+x["hidden-text"]+"</span>").attr("aria-pressed",true);return b(".wb-invisible",i).text(x["hidden-text"])}if(w.data("state")==="started"){return t()}};if(s.autoHeight&&!n.hasClass("tabs-style-4")&&!n.hasClass("tabs-style-5")){o.show();b(".tabs-panel",n).equalHeights(true)}n.easytabs(b.extend({},s,{cycle:false}));if(s.cycle){q=function(A,D,C){var B,E;B=A.filter(function(){return b(this).is("."+C.tabActiveClass)});E=B.siblings(".tabs-roller");n.find(".tabs-toggle").data("state","started");return E.show().animate({width:B.parent().width()},C.cycle-200,"linear",function(){b(this).width(0).hide();f(A,D,C,true);return n.data("interval",setTimeout(function(){return q(A,D,C)},0))})};t=function(){clearTimeout(n.data("interval"));n.find(".tabs-roller").width(0).hide().stop();n.find(".tabs-toggle").data("state","stopped");i.removeClass(x["class"]).addClass(m["class"]).html(m.text+"<span class='wb-invisible'>"+m["hidden-text"]+"</span>").attr("aria-pressed",false);return b(".wb-invisible",i).text(m["hidden-text"])};j=b("<li class='tabs-toggle'>");u={"class":"tabs-prev",text:"&nbsp;&nbsp;&nbsp;","hidden-text":pe.dic.get("%previous")};g=b("<a class='"+u["class"]+"' href='javascript:;' role='button' aria-pressed='true'>"+u.text+"<span class='wb-invisible'>"+u["hidden-text"]+"</span></a>");z.append(j.append(g));g.click(function(){d(e,o,s,true)});k=b("<li class='tabs-toggle'>");v={"class":"tabs-next",text:"&nbsp;&nbsp;&nbsp;","hidden-text":pe.dic.get("%next")};h=b("<a class='"+v["class"]+"' href='javascript:;' role='button' aria-pressed='true'>"+v.text+"<span class='wb-invisible'>"+v["hidden-text"]+"</span></a>");z.append(k.append(h));h.click(function(){f(e,o,s,true)});w=b("<li class='tabs-toggle'>");x={"class":"tabs-stop",text:pe.dic.get("%stop"),"hidden-text":pe.dic.get("%tab-rotation","disable")};m={"class":"tabs-start",text:pe.dic.get("%play"),"hidden-text":pe.dic.get("%tab-rotation","enable")};i=b("<a class='"+x["class"]+"' href='javascript:;' role='button' aria-pressed='true'>"+x.text+"<span class='wb-invisible'>"+x["hidden-text"]+"</span></a>");z.append(w.append(i));w.click(y).bind("keydown",function(A){if(A.keyCode===32){y();return A.preventDefault()}});z.find("li a").not(w.find("a")).click(function(){return t()});e.each(function(){var A;A=b('<div class="tabs-roller">').hide().click(function(){return b(this).siblings("a").click()}).hover(function(){return b(this).css("cursor","text")});if(b.browser.msie&&b.browser.version<8){b(".tabs-style-2 .tabs, .tabs-style-2 .tabs li").css("filter","")}return b(this).parent().append(A)});q(e,o,s);if(!s.autoPlay){t()}}n.find('a[href^="#"]').each(function(){var A,B;B=b(this).attr("href");if(B.length>1){A=b(B,o);if(A.length){return b(this).click(function(E){var C,D;C=A.parents('[role="tabpanel"]:hidden');if(C){E.preventDefault();D=C.attr("id");C.parent().siblings(".tabs").find('a[href="#'+D+'"]').click();return A.get(0).scrollIntoView(true)}})}}});return n.attr("class",n.attr("class").replace(/\bwidget-style-/,"style-"))}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.texthighlight={type:"plugin",_exec:function(g){var f,e=pe.url(document.location).params||"";function d(k,n){var h,m,j,l=0;k=k.replace(/^\s+|\s+$/g,"");k=k.replace(/\|+/g,"");h=k.split("+");if(h.length>0){k="";for(j=0;j<h.length;j+=1){k+=h[j]+" "}k=k.replace(/^\s+|\s+$|\"|\(|\)/g,"")}k=k.replace(/\s+/g,"|");k=decodeURIComponent(k);k="(?=([^>]*<))([\\s'])?("+k+")(?!>)";m=n.html().replace(new RegExp(k,"gi"),function(r,q,o,i){return o+'<span class="texthighlight"><mark>'+i+"</mark></span>"});n.html(m);return null}if(e.texthighlight!==null){d(e.texthighlight,g)}return this}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.toolbar={scope:"plugin",_exec:function(e){var d=b('<div class="wet-boew-toolbar" role="toolbar"><ul><li class="toolbar-top-page"> <a href="#wb-tphp" role="link">'+pe.dic.get("%top-of-page")+"</a> </li></ul></div>");b("#wb-body-sec-sup, #wb-body-sec, #wb-body").add("body").first().append(d);d.hide();b(window).bind("scroll",function(){if(b(this).scrollTop()>10){d.fadeIn("normal").attr("aria-hidden","false")}else{d.fadeOut("normal").attr("aria-hidden","true")}});if(b(window).scrollTop()<10||b(window).scrollTop()==="undefined"){d.fadeOut("normal").attr("aria-hidden","true")}else{d.fadeIn("normal").attr("aria-hidden","false")}}};window.pe=b.extend(true,window.pe,a);return window.pe}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.webwidget={type:"plugin",twitter:{_parse_entries:function(e,f,k){var j,h,d,g;j=(f>0&&f<e.length?f:e.length);g=e.sort(function(l,i){return pe.date.compare(i.created_at.replace("+0000 ","")+" GMT",l.created_at.replace("+0000 ","")+" GMT")});d='<ul class="widget-content">';h=0;while(h<j){d+='<li><a class="float-left" href="http://www.twitter.com/';d+=g[h].user.name+"/status/"+g[h].user.id+'"><img class="widget-avatar" src="'+g[h].user.profile_image_url+'" /></a> ';d+=pe.string.ify.clean(g[h].text);d+=' <span class="widget-datestamp-accent">'+pe.dic.ago(g[h].created_at)+"</span></li>";h+=1}d+="</ul>";return k.replaceWith(d)},_json_request:function(d){if(d.toLowerCase().indexOf("!/search/")>-1){return d.replace("http://","https://").replace(/https:\/\/twitter.com\/#!\/search\/(.+$)/,function(h,g,f,e){return"http://search.twitter.com/search.json?q="+encodeURI(decodeURI(g))})}return d.replace("http://","https://").replace(/https:\/\/twitter.com\/#!\/(.+$)/i,function(h,g,f,e){return"http://twitter.com/status/user_timeline/"+encodeURI(decodeURI(g))+".json?callback=?"})},exec:function(k,f,l){var d,h,j,g,e;j=k.length-1;d=[];g=this._parse_entries;h=k.length-1;e=[];while(h>=0){b.getJSON(this._json_request(k[h]),function(m){var i;i=0;while(i<m.length){d.push(m[i]);i+=1}if(!j){g(d,f,l)}j-=1;return j});e.push(h-=1)}return e}},weather:{_parse_entries:function(e,f,g){var d;d='<ul class="widget-content">';d+='<li><a href="'+e[1].link+'">'+e[1].title+'</a><span class="widget-datestamp">['+pe.date.to_iso_format(e[1].publishedDate,true)+"]</span></li>";d+="</ul>";return g.replaceWith(d)},exec:function(k,f,l){var d,h,j,g,e;j=k.length-1;d=[];g=this._parse_entries;h=k.length-1;e=[];while(h>=0){b.getJSON(this._json_request(k[h]),function(m){var i;i=0;while(i<m.responseData.feed.entries.length){d.push(m.responseData.feed.entries[i]);i+=1}if(!j){g(d,f,l)}j-=1;return j});e.push(h-=1)}return e},_json_request:function(e,d){var f;e=e.replace(/^.*?\.gc\.ca\/([a-z]+).+\/(.*?)_[a-z]+_([ef])\.html/i,"http://www.weatheroffice.gc.ca/rss/$1/$2_$3.xml");f="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+encodeURI(decodeURI(e));if(d>0){f+="&num="+d}return f}},rss:{_parse_entries:function(e,f,k){var j,h,d,g;j=(f>0&&f<e.length?f:e.length);g=e.sort(function(l,i){return pe.date.compare(i.publishedDate,l.publishedDate)});d='<ul class="widget-content">';h=0;while(h<j){d+='<li><a href="'+g[h].link+'">'+g[h].title+'</a><span class="widget-datestamp">['+pe.date.to_iso_format(g[h].publishedDate,true)+"]</span></li>";h+=1}d+="</ul>";return k.replaceWith(d)},exec:function(k,f,l){var d,h,j,g,e;j=k.length-1;d=[];g=this._parse_entries;h=k.length-1;e=[];while(h>=0){b.getJSON(this._json_request(k[h]),function(m){var i;i=0;while(i<m.responseData.feed.entries.length){d.push(m.responseData.feed.entries[i]);i+=1}if(!j){g(d,f,l)}j-=1;return j});e.push(h-=1)}return e},_json_request:function(e,d){var f;f="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+encodeURI(decodeURI(e));if(d>0){f+="&num="+d}return f}},_exec:function(i,h){var g,e,d,f;g=b(i);f=pe.limit(g);d=g.find("a").map(function(){var j;j=b(this).attr("href");if(!h&&/twitter.com/i.test(j)){h="twitter"}if(!h&&/weatheroffice.gc.ca/i.test(j)){h="weather"}if(!h){h="rss"}return b(this).attr("href")});e=b('<ul class="widget-content"><li class="widget-state-loading"><img src="'+pe.add.liblocation+'/images/webfeeds/ajax-loader.gif" alt="'+pe.dic.get("%loading")+'" /></li></ul>');g.find(".widget-content").replaceWith(e);b.extend({},a.fn.webwidget[h]).exec(d,f,e);return}};window.pe=a;return window.pe}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.zebra={type:"plugin",_exec:function(g){var d,e,f;if(g.is("table")){d=(g.children("tr").add(g.children("tbody").children("tr"))).filter(function(){return b(this).children("td").length>0});d.filter(":odd").addClass("table-even");d.filter(":even").addClass("table-odd");d.on("hover focusin focusout",function(h){h.stopPropagation();b(this).toggleClass("table-hover")})}else{e=g.children("li");f=(g.parents("li").length+1)%2;e.filter(":odd").addClass(f===0?"list-odd":"list-even");e.filter(":even").addClass(f===1?"list-odd":"list-even");e.on("mouseover mouseout focusin focusout",function(h){h.stopPropagation();b(this).toggleClass("list-hover")})}}};window.pe=a;return a}(jQuery));