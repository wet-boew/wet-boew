/*!
 * Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * www.tbs.gc.ca/ws-nw/wet-boew/terms / www.sct.gc.ca/ws-nw/wet-boew/conditions
 */
(function(c){var a,b;a=(typeof window.pe!=="undefined"&&window.pe!==null)?window.pe:{fn:{}};b={language:(c("html").attr("lang").length>0?c("html").attr("lang"):"en"),touchscreen:"ontouchstart" in document.documentElement,theme:"",suffix:c('body script[src*="/pe-ap-min.js"]').length>0?"-min":"",header:c("#wb-head"),main:c("#wb-main"),secnav:c("#wb-sec"),footer:c("#wb-foot"),urlquery:"",html5:(function(){var d=false,e=/\s+(X?HTML)\s+([\d\.]+)\s*([^\/]+)*\//gi;if(typeof document.namespaces!=="undefined"){d=(document.all[0].nodeType===8)?e.test(document.all[0].nodeValue):false}else{d=(document.doctype!==null)?e.test(document.doctype.publicId):false}return(d)?false:true}()),svg:(c('<svg xmlns="http://www.w3.org/2000/svg" />').get(0).ownerSVGElement!==undefined),ie:c.browser.msie?c.browser.version:0,_init:function(){var l,i,k,h,f,j,e,g,d=false;c("html").removeClass("no-js").addClass(a.theme+((a.touchscreen)?" touchscreen":""));a.urlquery=a.url(document.location).params;k=a.main.find("a[href*='#']");f=k.filter(":not([href^='#'])");h=k.filter("[href^='#']");if(a.mobilecheck()){a.mobile=true;c("body > div").attr("data-role","page").addClass("ui-page-active");c(document).on("mobileinit",function(){c.extend(c.mobile,{ajaxEnabled:false,pushStateEnabled:false,autoInitializePage:(d?true:false)})});f.each(function(){j=c(this);e=a.url(j.attr("href"));if((j.attr("data-replace-hash")===undefined&&(e.hash.length>0&&window.location.hostname===e.host))||(j.attr("data-replace-hash")!==undefined&&j.attr("data-replace-hash")===true)){j.attr("href",e.removehash()+(e.params.length>0?"&amp;":"?")+"hashtarget="+e.hash)}});c(document).on("pageinit",function(){h.off("click vclick").on("click vclick",function(){j=c(c(this).attr("href"));j.filter(":not(a, button, input, textarea, select)").attr("tabindex","-1");if(j.length>0){c.mobile.silentScroll(a.focus(j).offset().top)}});if(a.urlquery.hashtarget!==undefined){g=a.main.find("#"+a.urlquery.hashtarget);g.filter(":not(a, button, input, textarea, select)").attr("tabindex","-1");if(g.length>0){setTimeout(function(){c.mobile.silentScroll(a.focus(g).offset().top)},0)}}});a.add.css([a.add.themecsslocation+"jquery.mobile"+a.suffix+".css"]);a.add._load([a.add.liblocation+"jquery.mobile/jquery.mobile.min.js"])}else{h.on("click vclick",function(){j=c(c(this).attr("href"));j.filter(":not(a, button, input, textarea, select)").attr("tabindex","-1");if(j.length>0){a.focus(j)}});if(window.location.hash.length>0){j=c(window.location.hash);j.filter(":not(a, button, input, textarea, select)").attr("tabindex","-1");if(j.length>0){a.focus(j)}}}c.when.apply(c,c.map(c("*[data-ajax-replace], *[data-ajax-append]"),function(p){i=c(p);var n=false,m;if(i.attr("data-ajax-replace")!==undefined){n=true;m=i.attr("data-ajax-replace")}else{if(i.attr("data-ajax-append")!==undefined){m=i.attr("data-ajax-append")}}return c.get(m,function(o){if(n){i.empty()}i.append(c(o))},"html")})).always(function(){c(document).on("languageloaded",function(){if(wet_boew_theme!==null){wet_boew_theme.init();if(a.mobile===true){c(document).on("mobileviewloaded",function(){if(c.mobile!==undefined){c.mobile.initializePage()}else{d=true}});wet_boew_theme.mobileview()}}else{if(a.mobile===true){if(c.mobile!==undefined){c.mobile.initializePage()}else{d=true}}}a.dance()});a.add.language(a.language)});a.polyfills()},depends:{_ind:[],is:function(d){return -1!==c.inArray(d,a.depends._ind)},put:function(d){a.depends._ind[a.depends._ind.length]=d},on:(function(){c(document).on("wet-boew-dependency-loaded",function(){var e,f;for(e=0,f=a.depends.on.length;e<f;e+=1){a.depends.on[e](e)}});return[]}())},mobile:false,mobilecheck:function(){return(window.innerWidth<768&&!(a.ie>0&&a.ie<9))},pagecontainer:function(){return c("#wb-body-sec-sup,#wb-body-sec,#wb-body").add("body").eq(0)},parameter:function(d,e){return(a.html5)?e.data(d):e.attr("class").replace("/.*"+d+"-([a-z0-9_]+).*/i","$1")},resize:function(d){ResizeEvents.initialise();ResizeEvents.eventElement.bind("x-text-resize x-zoom-resize x-window-resize",function(){d()});return},url:function(e){var d;d=document.createElement("a");d.href=e;return{source:d.href,protocol:d.protocol.replace(":",""),host:d.hostname,port:d.port==="0"?"80":d.port,query:d.search,params:(function(){var i,h,j,g,k,f;h={};g=d.search.replace(/^\?/,"").split("&");for(k=0,f=g.length;k<f;k+=1){i=g[k];if(i){j=i.split("=");h[j[0]]=j[1]}}return h}()),file:d.pathname.match(/\/([^\/?#]+)$/i)?d.pathname.match(/\/([^\/?#]+)$/i)[1]:"",hash:d.hash.replace("#",""),path:d.pathname.replace(/^([^\/])/,"/$1"),relative:d.href.match(/tps?:\/\/[^\/]+(.+)/)?d.href.match(/tps?:\/\/[^\/]+(.+)/)[1]:"",segments:d.pathname.replace(/^\//,"").split("/"),removehash:function(){return this.source.replace(/#([A-Za-z0-9-_=&]+)/,"")}}},_execute:function(e,f){if(e!==undefined){var d=(typeof e._exec!=="undefined")?e._exec:e.exec;if(typeof e.depends!=="undefined"){a.add.js(e.depends,function(){d(f)})}else{d(f)}}return},cssenabled:function(){return c("link").get(0).disabled},limit:function(e){var d;d=c(e).attr("class").match(/\blimit-\d+/);if(!d){return 0}return Number(d[0].replace(/limit-/i,""))},focus:function(d){setTimeout(function(){return(typeof d.jquery!=="undefined"?d.focus():c(d).focus())},0);return d},string:{ify:(function(){return{link:function(d){return d.replace(/[a-z]+:\/\/[a-z0-9-_]+\.[a-z0-9-_@:~%&\?\+#\/.=]+[^:\.,\)\s*$]/ig,function(e){return'<a href="'+e+'">'+((e.length>25)?e.substr(0,24)+"...":e)+"</a>"})},at:function(d){return d.replace(/(^|[^\w]+)\@([a-zA-Z0-9_]{1,15}(\/[a-zA-Z0-9-_]+)*)/g,function(e,g,f){return g+'@<a href="http://twitter.com/'+f+'">'+f+"</a>"})},hash:function(d){return d.replace(/(^|[^&\w'"]+)\#([a-zA-Z0-9_]+)/g,function(e,g,f){return g+'#<a href="http://search.twitter.com/search?q=%23'+f+'">'+f+"</a>"})},clean:function(d){return this.hash(this.at(this.link(d)))}}}()),pad:function(e,d){var f;f=String(e);while(f.length<d){f="0"+f}return f}},date:{convert:function(e){if(e.constructor===Date){return e}if(e.constructor===Array){return new Date(e[0],e[1],e[2])}if(e.constructor===Number){return new Date(e)}if(e.constructor===String){return new Date(e)}if(typeof e==="object"){return new Date(e.year,e.month,e.date)}return NaN},compare:function(e,d){if(isFinite(e=this.convert(e).valueOf())&&isFinite(d=this.convert(d).valueOf())){return(e>d)-(e<d)}return NaN},in_range:function(f,g,e){if(isFinite(f=this.convert(f).valueOf())&&isFinite(g=this.convert(g).valueOf())&&isFinite(e=this.convert(e).valueOf())){return g<=f&&f<=e}return NaN},to_iso_format:function(g,f){var e;e=this.convert(g);if(f){return e.getFullYear()+"-"+a.string.pad(e.getMonth()+1,2,"0")+"-"+a.string.pad(e.getDate(),2,"0")+" "+a.string.pad(e.getHours(),2,"0")+":"+a.string.pad(e.getMinutes(),2,"0")}return e.getFullYear()+"-"+a.string.pad(e.getMonth()+1,2,"0")+"-"+a.string.pad(e.getDate(),2,"0")}},menu:{navcurrent:function(d,l,e){var n,k,o,h,f=a.url(window.location.href).removehash(),m=[],g=[],j;d=(typeof d.jquery!=="undefined"?d:c(d));l=c((typeof l.jquery!=="undefined"?l:c(l)).find("a").get().reverse());e=(typeof e==="undefined")?"nav-current":e;l.each(function(i){m[i]=c(this).attr("href");g[i]=c(this).text()});c(d.find("a").get().reverse()).each(function(){n=c(this);k=n.attr("href");o=n.text();j=(k===f);for(h=0;!j&&h<m.length;h+=1){if(m[h]!=="#"&&(m[h]===k||g[h]===o)){j=true;break}}if(j){n.addClass(e);return false}});return(j?n:c())},buildmobile:function(d,p,i,e,o){var f=c('<div data-role="controlgroup"></div>'),h=(typeof d.jquery!=="undefined"?d:c(d)).find("> div, > ul, h"+p),j,g,m,l,k=(e!==undefined?e:false),n=(o!==undefined?o:false);if(h.first().is("ul")){f.append(c('<ul data-role="listview" data-theme="'+i+'"></ul>').append(h.first().children("li")))}else{h.each(function(q){var r=c(this);if(r.is("h"+p)){m=r.children("a");g=c('<div data-role="collapsible"'+(n||m.hasClass("nav-current")?' data-collapsed="false"':"")+"><h"+p+">"+r.text()+"</h"+p+"></div>");if(k){r=r.parent().find("a").eq(1).closest("ul, div, h"+p+1).first();j=r}else{j=r.next()}if(j.is("ul")){if(!k){j.append(c("<li></li>").append(r.children("a").html(a.dic.get("%all")+" - "+m.html())))}l=j.find("li ul");l.each(function(s){var t=c(this);m=t.prev("a");if((p+1+s)<7){t.attr("data-role","listview").attr("data-theme",i).wrap('<div data-role="collapsible"'+(n||m.hasClass("nav-current")?' data-collapsed="false"':"")+"></div>");t.parent().prepend("<h"+(p+1+s)+">"+m.html()+"</h"+(p+1+s)+">");t.append('<li><a href="'+m.attr("href")+'">'+a.dic.get("%all")+" - "+m.html()+"</a></li>");m.remove()}else{t.attr("data-role","listview").attr("data-theme",i)}});g.append(c('<ul data-role="listview" data-theme="'+i+'"></ul>').append(j.children("li")));g.find("ul").wrap('<div data-role="controlgroup">'+(l.length>0?'<div data-role="collapsible-set" data-theme="'+i+'"></div>':"")+"</div>")}else{g.append(a.menu.buildmobile(r.parent(),p+1,i,false,n));if(!k){g.find('div[data-role="collapsible-set"]').eq(0).append(r.children("a").html(a.dic.get("%all")+" - "+m.html()).attr("data-role","button").attr("data-theme",i).attr("data-icon","arrow-r").attr("data-iconpos","right"))}}f.append(g)}else{if(r.is("div")){f.append(r.children("a").attr("data-role","button").attr("data-theme",i).attr("data-icon","arrow-r").attr("data-iconpos","right"))}}});f.children().wrapAll('<div data-role="collapsible-set" data-theme="'+i+'"></div>')}return f},expandcollapsemobile:function(h,d,f,e){var g=c((typeof h.jquery!=="undefined"?h:c(h))).find(d);if(e){g.parents('div[data-role="collapsible"]').attr("data-collapsed",f)}else{g.closest('div[data-role="collapsible"]').attr("data-collapsed",f)}},correctmobile:function(d){c((typeof d.jquery!=="undefined"?d:c(d))).find(".ui-collapsible-set").each(function(){var e=c(this);if(e.find("> ul .ui-collapsible").length>0){e=e.children("ul")}e.children().each(function(){var g=c(this),f=g.is("a")?g:g.find("a").first();if(g.prev().length>0){f.removeClass("ui-corner-top")}else{f.addClass("ui-corner-top")}if(g.next().length>0){f.removeClass("ui-corner-bottom")}else{f.addClass("ui-corner-bottom")}})})}},polyfills:function(){var e=a.add.liblocation,d=(function(j){var h=j.createElement("details"),g,f,i;if(typeof h.open==="undefined"){return false}f=j.body||(function(){var k=j.documentElement;g=true;return k.insertBefore(j.createElement("body"),k.firstElementChild||k.firstChild)}());h.innerHTML="<summary>a</summary>b";h.style.display="block";f.appendChild(h);i=h.offsetHeight;h.open=true;i=i!==h.offsetHeight;f.removeChild(h);if(g){f.parentNode.removeChild(f)}return i}(document));if(!window.localStorage){a.add._load(e+"polyfills/localstorage"+a.suffix+".js")}if(typeof document.createElement("progress").position==="undefined"){a.add._load(e+"polyfills/progress"+a.suffix+".js");c("progress").addClass("polyfill")}if(!d){a.add._load(e+"polyfills/detailssummary"+a.suffix+".js");c("details").addClass("polyfill")}},add:(function(){return{head:document.head||document.getElementsByTagName("head"),liblocation:(function(){var d=c('body script[src*="/pe-ap"]').attr("src");return d.substr(0,d.lastIndexOf("/")+1)}()),themecsslocation:(function(){var d=c('head link[rel="stylesheet"][href*="'+wet_boew_theme.themename()+'"]');return d.length>0?d.attr("href").substr(0,d.attr("href").lastIndexOf("/")+1):"theme-not-found/"}()),staged:[],_load:function(f,e){var d=a.add.head,g=(e!==undefined?e:"wet-boew-dependency-loaded");if(c.inArray(f,this.staged)>-1){return this}setTimeout(function(){if(typeof d.item!=="undefined"){if(!d[0]){setTimeout(arguments.callee,25);return}d=d[0]}var h=document.createElement("script"),i=false;a.add.set(h,"async","async");h.onload=h.onreadystatechange=function(){if((h.readyState&&h.readyState!=="complete"&&h.readyState!=="loaded")||i){return false}h.onload=h.onreadystatechange=null;i=true;a.depends.put(f);c(document).trigger({type:g,js:f})};h.src=f;if((a.ie>0&&a.ie<9)||!d.insertBefore){c(h).appendTo(c(d)).delay(100)}else{d.insertBefore(h,d.firstChild)}},0);this.staged[this.staged.length]=f;return this},set:function(f,d,e){f.setAttribute(d,e);return this},css:function(f){var e=a.add.head,d=document.createElement("link");a.add.set(d,"rel","stylesheet").set(d,"href",f);if((a.ie>0&&a.ie<10)||!e.insertBefore){c(d).appendTo(c(e)).attr("href",f)}else{e.insertBefore(d,e.firstChild)}return this},depends:function(g){var f=a.add.liblocation,e=c.map(g,function(d){return(/^http(s)?/i.test(d))?d:f+"dependencies/"+d+a.suffix+".js"});return e},language:function(e){var d=a.add.liblocation+"i18n/"+e+a.suffix+".js";a.add._load(d)},js:function(f,e){var d;f=a.add.depends(f);for(d=0;d<f.length;d+=1){if(!a.depends.is(f[d])){a.add._load(f[d])}}a.depends.on[a.depends.on.length]=function(g){var h=true;for(d=0;d<f.length;d+=1){if(!a.depends.is(f[d])){h=false}}if(h){a.depends.on[g]=function(){};e()}};c(document).trigger("wet-boew-dependency-loaded");return this},meta:function(e,f){var d;d=document.createElement("meta");a.add.set(d,"name",e).set(d,"content",f);a.add.head.appendChild(d);return this}}}()),dance:function(){var d,e=(typeof wet_boew_properties!=="undefined"&&wet_boew_properties!==null)?wet_boew_properties:false;c('[class^="wet-boew-"]').each(function(){var g=c(this),h=g.attr("class").split(" "),f;for(f=0;f<h.length;f+=1){if(h[f].indexOf("wet-boew-")===0){h[f]=h[f].substr(9).toLowerCase();if(typeof a.fn[h[f]]!=="undefined"){a._execute(a.fn[h[f]],g)}}}});if(e){for(d=0;d<e.globals.length;d+=1){a._execute(a.fn[e.globals[d]],document)}}window.onresize=function(){if(a.mobile!==a.mobilecheck()){window.location.href=a.url(window.location.href).removehash()}}}};window.pe=c.extend(true,a,b);return window.pe}(jQuery))._init();(function(b){var a=window.pe||{fn:{}};a.fn.archived={type:"plugin",_exec:function(d){if(pe.mobile){return}var c=b('<div class="archived" role="toolbar"><a class="archived-top-page" href="#archived" role="link">'+pe.dic.get("%archived-page")+"</a></div>");b(window).on("scroll",function(){if(b(this).scrollTop()>10){c.fadeIn("normal").attr("aria-hidden","false")}else{c.fadeOut("normal").attr("aria-hidden","true")}});b(document).on("focusin",function(g){var f=b(g.target);if(c.attr("aria-hidden")==="false"&&(f.offset().top+f.outerHeight())<=(c.offset().top+c.outerHeight())){b(window).scrollTop(b(window).scrollTop()-c.outerHeight())}});if(b(window).scrollTop()<10||b(window).scrollTop()==="undefined"){c.fadeOut("normal").attr("aria-hidden","true")}else{c.fadeIn("normal").attr("aria-hidden","false")}pe.pagecontainer().append(c)}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.charts={type:"plugin",depends:["excanvas","flot"],_exec:function(i){var d,h,g,f,e,c;d=b(i);e=d.find(".chart-canvas");if(!e.hasClass("fixed-size")){e.height(Math.round(e.width()/1.61663))}c=b(i).find("table").eq(0);g=[];h=f=[];c.find("thead td, thead th").each(function(){return h.push(b(this).text())});c.find("tbody tr").each(function(){var j;j={label:"",data:[]};j.label=b(this).find("th").eq(0).text();b(this).find("td").each(function(k){return j.data.push([h[k+1],b(this).text()])});return g.push(j)});b.plot(e,g,{xaxis:{tickDecimals:0}})}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.css3ie={type:"plugin",depends:(pe.ie>0&&pe.ie<9?["pie","resize"]:[]),_exec:function(j){if(pe.mobile||!(pe.ie>0&&pe.ie<9)){return}var l=b(".rounded, .pie-enhance"),g=false,k=b("#wb-core"),d=k.children("#wb-core-in"),i=k.css("margin-bottom"),h,c,f,e;f=function(){l.each(function(){PIE.attach(this)});return true};e=function(){l.each(function(){PIE.detach(this)});return false};if(window.PIE){l.filter(function(){return b(this).css("position")==="static"}).css("position","relative");if(pe.ie===7){h=document.body;c=h.getBoundingClientRect();if((c.left-c.right)/h.offsetWidth===-1){g=f()}else{k.css("margin-bottom",(d.offset().top+d.height())-(k.offset().top+k.height()))}}else{if(pe.ie===8){g=f()}else{g=f()}}pe.resize(function(){if(pe.ie===7){var m=document.body,n=m.getBoundingClientRect();if((n.left-n.right)/m.offsetWidth!==-1){g=e(l);k.css("margin-bottom",(d.offset().top+d.height())-(k.offset().top+k.height()))}else{if(!g){f()}k.css("margin-bottom",i)}}})}return j}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.datepicker={type:"plugin",depends:["calendar","xregexp"],_exec:function(f){var o,n=a.fn.calendar,e,w=new Date(),h="YYYY-MM-DD",m,v,s,x=w.getMonth(),r,q,j=w.getFullYear(),t,p,g,i,u,c,l,k,d;e=function(y,B){var z=d.find("label[for='"+y+"']").text(),A=b('<a id="'+B+'-toggle" class="picker-toggle-hidden" href="javascript:;"><img src="'+pe.add.liblocation+'images/datepicker/icon.png" alt="'+pe.dic.get("%datepicker-show")+z+'"/></a>');A.on("click",function(){q(y,B)});f.after(A);k.slideUp(0)};o=function(C,E,D,G,B,z,F){B=n.getDateFromISOString(B);z=n.getDateFromISOString(z);var A=(E===B.getFullYear()&&D===B.getMonth()),y=(E===z.getFullYear()&&D===z.getMonth());G.each(function(H,K){if((!A&&!y)||(A===true&&H>=B.getDate())||(y===true&&H<=z.getDate())){var L=b(K).children("div"),J=b('<a href="javascript:;"></a>'),I=L.parent();I.empty();J.append(L.html());J.appendTo(I);J.bind("click",{fieldid:C,year:E,month:D,day:H+1,days:G,format:F},function(M){t(M.data.fieldid,M.data.year,M.data.month+1,M.data.day,M.data.format);r(M.data.fieldid,M.data.year,M.data.month,M.data.days,M.data.format);q(M.data.fieldid,M.data.fieldid+"-picker")})}})};r=function(A,E,C,H,G){var D,y,z,F;b(H).removeClass("datepicker-selected");b(H).find(".datepicker-selected-text").detach();G=G.replace("DD","(?<a> [0-9]{2})");G=G.replace("D","(?<a> [0-9] )");G=G.replace("MM","(?<b> [0-9]{2})");G=G.replace("M","(?<b> [0-9])");G=G.replace("YYYY","(?<c> [0-9]{4})");G=G.replace("YY","(?<c> [0-9]{2})");D="^"+G+"$";y=b("#"+A).attr("value");F=new XRegExp(D,"x");try{if(y!==""){z=b.parseJSON(y.replace(F,'{"year":"${c}", "month":"${b}", "day":"${a}"}'));if(z.year===E&&z.month===C+1){b(H[z.day-1]).addClass("datepicker-selected");b(H[z.day-1]).children("a").append('<span class="wb-invisible datepicker-selected-text"> ['+pe.dic.get("%datepicker-selected")+"]</span>")}}}catch(B){}};t=function(y,A,C,z,B){d.find("#"+y).attr("value",m(A,C,z,B))};q=function(z,B){var y=d.find("#"+B+"-toggle"),A;y.toggleClass("picker-toggle-hidden picker-toggle-visible");k.unbind("focusout.calendar");k.unbind("focusin.calendar");if(y.hasClass("picker-toggle-visible")){v(z);k.find("a").attr("tabindex",0);k.slideDown("fast",function(){s(b(this))});k.attr("aria-hidden","false");y.children("a").children("span").text(pe.dic.get("%datepicker-hide"));pe.focus(b(".cal-prevmonth a"))}else{k.find("a").attr("tabindex","-1");k.slideUp("fast",function(){s(b(this))});n.hideGoToForm(B);A=d.find("label[for='"+z+"']").text();y.children("a").children("span").text(pe.dic.get("%datepicker-show")+A);k.attr("aria-hidden","true");pe.focus(d.find("#"+z))}};v=function(y){b("#wet-boew-datepicker").each(function(D,E){var A,F,B,z,C;if(b(this).attr("id")!==y){A=b(this).attr("id");F=A+"-picker";z=d.find("#"+F+"-toggle");B.find("a").attr("tabindex","-1");B.slideUp("fast");B.attr("aria-hidden","true");n.hideGoToForm(F);C=b("label[for='"+A+"']").text();z.children("a").children("span").text(pe.dic.get("%datepicker-show")+C);z.removeClass("picker-toggle-visible");z.addClass("picker-toggle-hidden")}})};s=function(y){var z=b("#wb-main-in"),A;if(pe.ie===7){A=y.height()+y.offset().top-z.offset().top+50;if(z.height()>=A){z.css("min-height","")}else{if(z.height()<A){z.css("min-height",A)}}}else{if(pe.ie>0&&pe.ie<7){A=y.height()+y.offset().top-z.offset().top+50;if(z.height()>=A){z.css("height","")}else{if(z.height()<A){z.css("height",A)}}}}};m=function(A,C,z,B){var y=B;y=y.replace("DD",n.strPad(z,2,"0"));y=y.replace("D",z);y=y.replace("MM",n.strPad(C,2,"0"));y=y.replace("M",C);y=y.replace("YYYY",A);y=y.replace("YY",A.toString().substr(2,2));return y};if(f.attr("id")!==undefined){p=f.attr("id");if(f.attr("data-min-date")!==undefined){g=f.attr("data-min-date")}else{g="1800-01-01"}if(f.attr("data-max-date")!==undefined){i=f.attr("data-max-date")}else{i="2100-01-01"}if(f.attr("data-date-format")!==undefined){u=f.attr("data-date-format")}else{u=h}p=f.attr("id");c=f;d=f.parent();l=p+"-picker";k=b('<div id="'+l+'" class="picker-overlay" role="dialog" aria-controls="'+p+'" aria-labelledby="'+l+'-toggle"></div>');k.on("keyup",function(y){if(y.keyCode===27){v();pe.focus(f.parent().find("#"+p+"-picker-toggle"))}});c.parent().after(k);k.bind("calendarDisplayed",function(A,y,z,B){o(p,y,z,B,g,i,u);r(p,y,z,B,u);k.find("a, select").blur(function(){window.setTimeout(function(){if(k.find(":focus").length===0){v()}},1000)})});n.create(l,j,x,true,g,i);e(p,l);k.find("a").attr("tabindex","-1");c.addClass("picker-field")}}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.deselectradio={type:"plugin",depends:[],_exec:function(d){var c=b("input:radio").attr("role","radio").attr("aria-checked","false");c.filter(":checked").attr("aria-checked","true");c.closest("fieldset").attr("role","radiogroup");c.on("click vclick",function(){var e=b(this);if(e.attr("aria-checked")==="true"){e.prop("checked",false).attr("aria-checked","false")}else{e.closest("fieldset").find("input:radio").prop("checked",false).attr("aria-checked","false");e.prop("checked",true).attr("aria-checked","true")}});return d}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.equalize={type:"plugin",depends:(pe.mobile?[]:["equalheights","resize"]),_exec:function(c){if(pe.mobile){return}b(".equalize").children().css("min-height","").parent().equalHeights(true);pe.resize(function(){b(".equalize").children().css("min-height","").parent().equalHeights(true)});return c}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.eventscalendar={type:"plugin",depends:["calendar","xregexp"],_exec:function(m){var e=new Date(),j=a.fn.calendar,c=a.fn.calendar.dates,n=e.getFullYear(),l=e.getMonth(),i=m.find(".year"),g=m.find(".month"),o,q,h,k,f,d,p;k=function(u){var t=!(b(u).hasClass("event-anchoring")),s={minDate:null,maxDate:null,iCount:0,list:[{a:1}]},r=null;if(u.find("ol").length>0){r=u.find("ol")}else{if(u.find("ul").length>0){r=u.find("ul")}}if(r.length>0){r.children("li").each(function(C){var w=b(this),B=w.find("*:header:first"),G=B.text(),A=w.find("a").first(),E=A.attr("href"),x,y,v,I,H,F,D;if(!t){x=(w.attr("id")!==undefined)?w.attr("id"):f(6);w.attr("id",x);if(pe.ie>0){w.attr("tabindex","-1")}E="#"+x}y=new Date();v=w.find("time, span.datetime");if(v.size()>1){I=(b(v[0]).get(0).nodeName.toLowerCase()==="time")?b(v[0]).attr("datetime").substr(0,10).split("-"):b(v[0]).attr("class").match(/datetime\s+\{date\:\s*(\d+-\d+-\d+)\}/)[1].substr(0,10).split("-");H=(b(v[1]).get(0).nodeName.toLowerCase()==="time")?b(v[1]).attr("datetime").substr(0,10).split("-"):b(v[1]).attr("class").match(/datetime\s+\{date\:\s*(\d+-\d+-\d+)\}/)[1].substr(0,10).split("-");y.setFullYear(I[0],I[1]-1,I[2]);for(D=0;D<c.daysBetween(I,H)+1;D+=1){if(s.minDate===null||y<s.minDate){s.minDate=y}if(s.maxDate===null||y>s.maxDate){s.maxDate=y}s.list[s.iCount]={title:G,date:new Date(y.getTime()),href:E};y=new Date(y.setDate(y.getDate()+1));if(!B.hasClass("filter-"+(y.getFullYear())+"-"+j.strPad(y.getMonth()+1,2))){B.addClass("filter-"+(y.getFullYear())+"-"+j.strPad(y.getMonth()+1,2))}s.iCount+=1}}else{if(v.size()===1){F=(b(v[0]).get(0).nodeName.toLowerCase()==="time")?b(v[0]).attr("datetime").substr(0,10).split("-"):b(v[0]).attr("class").match(/datetime\s+\{date\:\s*(\d+-\d+-\d+)\}/)[1].substr(0,10).split("-");y.setFullYear(F[0],F[1]-1,F[2]);if(s.minDate===null||y<s.minDate){s.minDate=y}if(s.maxDate===null||y>s.maxDate){s.maxDate=y}s.list[s.iCount]={title:G,date:y,href:E};if(!B.hasClass("filter-"+(y.getFullYear())+"-"+j.strPad(y.getMonth()+1,2))){B.addClass("filter-"+(y.getFullYear())+"-"+j.strPad(y.getMonth()+1,2))}s.iCount+=1}}})}window.events=s;return s};f=function(u){var t="",r,v;r=function(){v=Math.floor(Math.random()*62);if(v<10){return v}if(v<36){return String.fromCharCode(v+55)}return String.fromCharCode(v+61)};while(t.length<u){t+=r()}return"id"+t};d=function(B,z,E,u,t){var r=b("#"+u),A,s,D,y,w,C,x,v;E.each(function(G,F){b(F).css("z-index",31-G)});for(A=0;A<t.length;A+=1){s=new Date(t[A].date);if(s.getMonth()===z&&s.getFullYear()===B){D=b(E[s.getDate()-1]);y=D.children("div").html();if(D.children("a").size()<1){D.empty();C=b('<a href="#ev-'+D.attr("id")+'" class="calEvent">'+y+"</a>");D.append(C);w=b('<ul class="wb-invisible"></ul>');D.bind("mouseover",{details:w},function(F){F.data.details.dequeue();F.data.details.removeClass("wb-invisible");F.data.details.addClass("ev-details")});D.bind("mouseout",{details:w},function(F){F.data.details.delay(100).queue(function(){b(this).removeClass("ev-details");b(this).addClass("wb-invisible");b(this).dequeue()})});C.bind("focus",{details:w},function(F){F.data.details.removeClass("wb-invisible");F.data.details.addClass("ev-details")});C.bind("blur",{details:w},function(F){F.data.details.removeClass("ev-details");F.data.details.addClass("wb-invisible")});D.append(w)}else{w=D.find("ul.cn-invisible")}x=b('<li><a href="'+t[A].href+'">'+t[A].title+"</a></li>");w.append(x);v=x.children("a");v.bind("blur",{details:w},function(F){F.data.details.removeClass("ev-details");F.data.details.addClass("wb-invisible")});v.bind("focus",{details:w},function(F){F.data.details.removeClass("wb-invisible");F.data.details.addClass("ev-details")})}}};p=function(s,t,r){b("."+r+" li.calendar-display-onshow").addClass("wb-invisible");b("."+r+" li.calendar-display-onshow").has(":header[class*=filter-"+s+"-"+j.strPad(parseInt(t,10)+1,2)+"]").removeClass("wb-invisible")};if(i.length>0&&g.length>0){n=i.text();if(g.hasClass("textformat")){o=b.inArray(g.text(),pe.dic.get("%calendar-monthNames"));l=o}else{l=g.text()-1}}q=k(m);h=b(m).attr("class").split(" ").slice(-1);if(b("#wb-main-in").css("padding-left")==="0px"){b("#"+h).css("margin-left","10px")}b("#"+h).bind("calendarDisplayed",function(t,r,s,u){d(r,s,u,h,q.list);p(r,s,h)});j.create(h,n,l,true,j.getISOStringFromDate(q.minDate),j.getISOStringFromDate(q.maxDate))}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.feedback={type:"plugin",depends:[],_exec:function(j){var d=j.find("#feedback"),i=j.find("#web"),h=i.find("#access"),c=i.find("#mobile"),k=i.find("#computer"),m=j.find("#contact-coord"),n=m.find("#contact1"),l=m.find("#contact2"),g=m.find("#info"),f=document.referrer,e=pe.url(document.location).params,o;d.attr("aria-controls","web").on("keyup click load",function(p){o=(p.type==="load");if(!o&&b(this).val()==="web"){i.attr("aria-hidden","false").show("slow")}else{i.attr("aria-hidden","true").hide((o?"":"slow"))}});if(e.submit===undefined&&e.feedback!==undefined){d.find('option[value="'+e.feedback+'"]').attr("selected","selected")}d.trigger("load");h.attr("aria-controls","mobile computer").on("keyup click load",function(p){o=(p.type==="load");if(!o&&h.val()==="mobile"){c.attr("aria-hidden","false").show("slow");k.attr("aria-hidden","true").hide("slow")}else{k.attr("aria-hidden","false").show((o?"":"slow"));c.attr("aria-hidden","true").hide((o?"":"slow"))}}).trigger("load");n.on("keyup click load",function(p){o=(p.type==="load");if(!o&&b(this).val()==="yes"){g.attr("aria-hidden","false").show("slow")}else{if(o||((b(this).val()==="no"||b(this).val()===null)&&(l.val()==="no"||l.val()===null))){g.attr("aria-hidden","true").hide((o?"":"slow"))}}}).trigger("click");l.on("keyup click load",function(p){o=(p.type==="load");if(!o&&b(this).val()==="yes"){g.attr("aria-hidden","false").show("slow")}else{if(o||((b(this).val()==="no"||b(this).val()===null)&&(n.val()==="no"||n.val()===null))){g.attr("aria-hidden","true").hide((o?"":"slow"))}}}).trigger("load");i.find("#page").attr("value",f);j.find("input[type=reset]").on("click",function(){d.trigger("load");h.trigger("load");n.trigger("load");l.trigger("load")});return j}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.formvalid={type:"plugin",depends:["validate","validateAdditional","metadata"],_exec:function(i){var f=i.find("form"),c=false,h=f.find("[required]").attr("aria-required","true"),e="errors-"+(f.attr("id")===undefined?"default":f.attr("id")),d;if(pe.language!=="en"){pe.add._load(pe.add.liblocation+"i18n/formvalid/messages_"+pe.language+pe.suffix+".js")}if(pe.language==="de"||pe.language==="nl"||pe.language==="pt"){pe.add._load(pe.add.liblocation+"i18n/formvalid/methods_"+pe.language+pe.suffix+".js")}h.attr("aria-required","true");f.find("label").each(function(){var j=b(this);j.html(j.html()+" ")});function g(n,l,m){var j=n.attr("class"),o=(j!==undefined?j.search(/validate\s?:\s?\{/):-1),k;if(o>-1){if(j.search("/"+l+"\\s?:/")===-1){k=j.substring(o,j.indexOf("{",o)+1);n.attr("class",j.replace(k,k+l+":"+m+", "))}}else{n.addClass("{validate:{"+l+":"+m+"}}")}return}f.find("input[pattern]").removeAttr("pattern");if(pe.ie>0&&pe.ie<9){h.removeAttr("required").each(function(){g(b(this),"required","true")});f.find('input[type="date"]').each(function(){var l=b(this),j=l.wrap("<div/>").parent(),k=b(j.html().replace("type="+l.attr("type"),"type=text"));j.replaceWith(k)})}if(pe.mobile){f.attr("data-ajax","false").find("input:checkbox").closest("fieldset").attr("data-role","controlgroup")}d=f.validate({meta:"validate",focusInvalid:false,errorElement:"strong",errorPlacement:function(j,k){j.appendTo(f.find('label[for="'+b(k).attr("id")+'"]'))},showErrors:function(m,n){this.defaultShowErrors();var o=f.find("strong.error:not(:hidden)"),l=f.find("input.error, select.error, textarea.error"),k=f.find("#"+e),j;f.find('[aria-invalid="true"]').removeAttr("aria-invalid");if(o.length>0){if(k.length===0){k=b('<div id="'+e+'" class="errorContainer" role="alert" tabindex="-1"/>').prependTo(f)}else{k.empty()}j=b("<ul></ul>");l.attr("aria-invalid","true");o.each(function(q){var s=b(this),r='<span class="prefix">'+pe.dic.get("%error")+"&#160;"+(q+1)+pe.dic.get("%colon")+" </span>",p=s.closest("label");s.find("span.prefix").detach();j.append('<li><a href="#'+p.attr("for")+'">'+r+p.find(".field-name").html()+" - "+s.html()+"</a></li>");s.prepend('<span class="prefix">'+pe.dic.get("%error")+"&#160;"+(q+1)+pe.dic.get("%colon")+" </span>")});k.append(b("<p>"+pe.dic.get("%form-not-submitted")+o.length+(o.length!==1?pe.dic.get("%errors-found"):pe.dic.get("%error-found"))+"</p>"));k.append(j);if(c){pe.focus(k)}if(pe.ie===0||pe.ie>7){f.find(".errorContainer a").on("click vclick",function(){var p=pe.focus(b(b(this).attr("href"))).prev().offset().top;if(pe.mobile){b.mobile.silentScroll(p)}else{b(document).scrollTop(p)}return false})}c=false}else{k.detach()}},invalidHandler:function(k,j){c=true}});f.find("input[type=reset]").on("click",function(){d.resetForm();var j=f.find("#"+e);if(j.length>0){j.empty()}f.find('[aria-invalid="true"]').removeAttr("aria-invalid");f.find("#"+e)});return i}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.langselect={type:"plugin",_exec:function(c){c.on("click",function(){var d=window.location.toString();if((d.search(/_f\.htm/)>-1)||(d.search(/-fra\./)>-1)){d=d.replace(/_f\./,"_e.");d=d.replace(/-fra\./,"-eng.")}else{d=d.replace(/_e\./,"_f.");d=d.replace(/-eng\./,"-fra.")}if(d.search(/lang=eng/)>-1){d=d.replace(/lang=eng/,"lang=fra")}else{d=d.replace(/lang=fra/,"lang=eng")}window.location=d;return false})}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.lightbox={type:"plugin",depends:["colorbox","metadata"],groupindex:0,_exec:function(j){var g,d,h,f,c,i,e=false;g={transition:"elastic",loop:true,current:pe.dic.get("%lb-current"),previous:pe.dic.get("%lb-prev"),next:pe.dic.get("%lb-next"),close:pe.dic.get("%close"),xhrError:pe.dic.get("%lb-xhr-error"),imgError:pe.dic.get("%lb-img-error"),maxWidth:"100%",maxHeight:"100%",slideshowStart:pe.dic.get("%start")+" "+pe.dic.get("%lb-slideshow"),slideshowStop:pe.dic.get("%stop")+" "+pe.dic.get("%lb-slideshow"),slideshow:false,slideshowAuto:false,onComplete:function(){if(!e){e=true;pe.focus(i)}},onClosed:function(){e=false}};h={transition:(j.hasClass("transition-fade")?"fade":(j.hasClass("transition-none")?"none":undefined)),loop:j.hasClass("loop-none")?false:undefined,slideshow:j.hasClass("slideshow")?true:undefined,slideshowAuto:j.hasClass("slideshow-auto")?true:undefined};b.metadata.setType("attr","data-wet-boew");if(typeof wet_boew_lightbox!=="undefined"&&wet_boew_lightbox!==null){b.extend(g,wet_boew_lightbox,h,j.metadata())}else{b.extend(g,h,j.metadata())}f=j.find(".lb-image, .lb-ajax, .lb-gallery, .lb-hidden-gallery, .lb-gallery-inline, .lb-hidden-gallery-inline").on("vclick",function(){b.colorbox.launch(this)});f.filter(".lb-image, .lb-ajax").attr("aria-haspopup","true").colorbox(g);c=f.filter(".lb-inline").attr("aria-haspopup","true");if(c.length>0){d=g;b.extend(d,{inline:"true"});c.colorbox(d)}d=g;f.filter(".lb-gallery, .lb-hidden-gallery").each(function(){b.extend(d,{rel:"group"+(pe.fn.lightbox.groupindex+=1)});b(this).find("a").attr("aria-haspopup","true").colorbox(d)});d=g;f.filter(".lb-gallery-inline, .lb-hidden-gallery-inline").each(function(){b.extend(d,{inline:"true",rel:"group"+(pe.fn.lightbox.groupindex+=1)});b(this).find("a").attr("aria-haspopup","true").colorbox(d)});i=b("body").find("#colorbox #cboxContent").attr("tabindex","0").attr("role","dialog").attr("aria-labelledby","cboxTitle cboxCurrent");i.find("#cboxNext, #cboxPrevious, #cboxClose").attr("tabindex","0").attr("role","button").attr("aria-controls","#cboxContent");i.on("keydown",function(l){var k=b(l.target);if(!(l.ctrlKey||l.altKey||l.metaKey)){if(l.keyCode===9){if((l.shiftKey&&k.attr("id")==="cboxContent")||(!l.shiftKey&&k.attr("id")==="cboxClose")){b.colorbox.close();return false}}else{if(l.keyCode===13||l.keyCode===32){if(k.attr("id")==="cboxContent"||k.attr("id")==="cboxNext"){b.colorbox.next();return false}else{if(k.attr("id")==="cboxPrevious"){b.colorbox.prev();return false}else{if(k.attr("id")==="cboxClose"){b.colorbox.close();return false}}}}}}})}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.mathlib={type:"plugin",support:(function(){var c=false,d,f,e;if(document.createElementNS){d="http://www.w3.org/1998/Math/MathML";f=document.createElement("div");f.style.position="absolute";f.style.color="#fff";e=f.appendChild(document.createElementNS(d,"math")).appendChild(document.createElementNS(d,"mfrac"));e.appendChild(document.createElementNS(d,"mi")).appendChild(document.createTextNode("xx"));e.appendChild(document.createElementNS(d,"mi")).appendChild(document.createTextNode("yy"));document.body.appendChild(f);c=f.offsetHeight>f.offsetWidth;f.style.display="none"}return c}()),_exec:function(c){if(pe.fn.mathlib.support){return}pe.add._load("http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML")}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.menubar={type:"plugin",depends:(a.mobile?[]:["resize","equalheights","hoverintent","outside"]),_exec:function(h){if(pe.mobile){return}var c,g,j=h,k,i,f,d,e;e=function(n){var m,l;m=b(n).closest("li");f();l=m.find(".mb-sm");l.attr("aria-expanded","true").attr("aria-hidden","false").toggleClass("mb-sm mb-sm-open");if((Math.floor(l.offset().left+l.width())-Math.floor(g.offset().left+g.width()))>=-1){l.css("right","0px")}m.addClass("mb-active");return};i=function(n){var m,l;m=b(n);l=m.closest("li").find(".mb-sm-open");if(pe.cssenabled){l.find("a").attr("tabindex","0")}m.trigger("item-next");return};d=function(n){var m,l;m=b(n).closest("li");l=m.find(".mb-sm-open");l.attr("aria-expanded","false").attr("aria-hidden","true").toggleClass("mb-sm mb-sm-open").css("right","auto");if(pe.cssenabled){l.find("a").attr("tabindex","-1")}m.removeClass("mb-active");return};f=function(){c.find(".mb-sm-open").each(function(){var l;l=b(this).closest("li");return d(l)});return};k=function(){var m,l;l=c.children("li:last");m=(l.offset().top+l.outerHeight())-j.offset().top;return j.css("min-height",m)};g=j.children("div");c=g.children("ul");j.attr("role","application");c.attr("role","menubar").find("a").attr("role","menuitem");pe.resize(k);j.find(".mb-sm").on("click vclick",function(l){if(l.stopPropagation){l.stopPropagation()}else{l.cancelBubble=true}}).parent().find("> :header a").on("click vclick",function(l){if(b(this).closest("li").hasClass("mb-active")){d(this)}else{e(this)}return false});j.on("keydown focusin section-next section-previous item-next item-previous close","li",function(s){var p,v=b(s.target),r=j.find(".mb-active"),u,q,t,m,o,n,l;u=b.map(/\bknav-(\d+)-(\d+)-(\d+)/.exec(v.attr("class")),function(w){return parseInt(w,10)});if(s.type==="keydown"){if(!(s.ctrlKey||s.altKey||s.metaKey)){switch(s.keyCode){case 13:if(u[2]===0&&u[3]===0){i(s.target);return false}break;case 27:v.trigger("close");return false;case 32:if(u[2]===0&&u[3]===0){i(s.target)}else{window.location=v.attr("href")}return false;case 37:v.trigger("section-previous");return false;case 38:if(u[2]===0&&u[3]===0){i(s.target)}else{v.trigger("item-previous")}return false;case 39:v.trigger("section-next");return false;case 40:if(u[2]===0&&u[3]===0){i(s.target)}else{v.trigger("item-next")}return false;default:if((s.keyCode>47&&s.keyCode<58)||(s.keyCode>64&&s.keyCode<91)){q=String.fromCharCode(s.keyCode).toLowerCase();t=(u[2]!==0||u[3]!==0);m=v.text();o=r.find(".mb-sm-open a").filter(function(){return(b(this).text().substring(0,1).toLowerCase()===q||(t&&b(this).text()===m))});if(o.length>0){if(t){o.each(function(w){if(b(this).text()===m){n=w;return false}});if(n<(o.length-1)){pe.focus(o.eq(n+1));return false}}pe.focus(o.eq(0))}return false}}}}else{if(s.type==="close"){pe.focus(r.find(".knav-"+u[1]+"-0-0"));setTimeout(function(){return f()},5)}else{if(s.type==="section-previous"){l=!!u[2]<<1|!!u[3];switch(l){case 0:case 1:p=j.find(".knav-"+(u[1]-1)+"-0-0");if(p.length>0){pe.focus(p)}else{pe.focus(j.find("ul.mb-menu > li:last").find("a:eq(0)"))}break;case 2:case 3:p=r.find(".knav-"+(u[1])+"-"+(u[2]-1)+"-0");if(p.length>0&&u[2]>1){pe.focus(p)}else{p=j.find(".knav-"+(u[1]-1)+"-0-0");if(p.length>0){pe.focus(p)}else{pe.focus(j.find("ul.mb-menu > li:last").find("a:eq(0)"))}}break}}else{if(s.type==="section-next"){l=!!u[2]<<1|!!u[3];switch(l){case 0:case 1:p=j.find(".knav-"+(u[1]+1)+"-0-0");if(p.length>0){pe.focus(p)}else{pe.focus(j.find(".knav-0-0-0"))}break;case 2:case 3:p=r.find(".knav-"+(u[1])+"-"+(u[2]+1)+"-0");if(p.length>0){pe.focus(p)}else{p=j.find(".knav-"+(u[1]+1)+"-0-0");if(p.length>0){pe.focus(p)}else{pe.focus(j.find(".knav-0-0-0"))}}break}}else{if(s.type==="item-next"){p=r.find(".knav-"+u[1]+"-"+(u[2])+"-"+(u[3]+1));if(p.length>0){pe.focus(p)}else{p=r.find(".knav-"+u[1]+"-"+(u[2]+1)+"-0");if(p.length>0){pe.focus(p)}else{pe.focus(r.find(".knav-"+u[1]+"-1-0, .knav-"+u[1]+"-0-1,"))}}}else{if(s.type==="item-previous"){p=((u[2]>0||u[3]>1)?r.find(".knav-"+u[1]+"-"+(u[2])+"-"+(u[3]-1)):"");if((u[2]>0||u[3]>1)&&p.length>0){pe.focus(p)}else{p=((u[2]>1||u[3]>0)?r.find("[class*='knav-"+u[1]+"-"+(u[2]-1)+"-']").last():"");if((u[2]>1||u[3]>0)&&p.length>0){pe.focus(p)}else{pe.focus(r.find("[class*='knav-']").last())}}}else{if(s.type==="focusin"&&u[2]===0&&u[3]===0){f();if(v.find(".expandicon").length>0){e(s.target)}}}}}}}}});b(document).on("click touchstart",function(){j.trigger("focusoutside")});j.on("focusoutside",function(){return f()});j.find("ul.mb-menu > li").find("a:eq(0)").each(function(m,o){var n,l;l=b(o);l.addClass("knav-"+m+"-0-0");n=l.closest("li").find(".mb-sm");if(n.size()>0){l.attr("aria-haspopup","true").addClass("mb-has-sm").wrapInner('<span class="expandicon"><span class="sublink"></span></span>');n.attr("role","menu").attr("aria-expanded","false").attr("aria-hidden","true").find(":has(:header) ul").attr("role","menu");l.append('<span class="wb-invisible">'+(pe.dic.get("%sub-menu-help"))+"</span>");l.closest("li").hoverIntent({over:function(){return e(this)},out:function(){return d(this)},timeout:500});n.find("h3 a, h4 a").each(function(p){b(this).addClass("knav-"+m+"-"+(p+1)+"-0");b(this).parent().next("ul").find("a").each(function(q){b(this).addClass("knav-"+m+"-"+(p+1)+"-"+(q+1));return});return});n.find("> ul a, > div > ul a").each(function(p){b(this).addClass("knav-"+m+"-0-"+(p+1))})}});if(pe.cssenabled){j.find(".mb-sm a").attr("tabindex","-1")}k();return j}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.share={type:"plugin",depends:["metadata","bookmark","outside"],_exec:function(l){var d,m,c,i,n,k,e,j,f,h,g;d={url:"",sourceTag:"",title:"",description:"",sites:[],compact:false,hint:pe.dic.get("%share-text")+pe.dic.get("%share-hint"),popup:true,popupText:pe.dic.get("%share-text"),hideText:(pe.dic.get("%hide")+" - "),addFavorite:false,favoriteText:pe.dic.get("%favourite"),addEmail:false,emailText:pe.dic.get("%email"),emailSubject:pe.dic.get("%share-email-subject"),emailBody:pe.dic.get("%share-email-body"),manualBookmark:pe.dic.get("%share-manual"),addShowAll:false,showAllText:pe.dic.get("%share-showall"),showAllTitle:pe.dic.get("%share-showall-title"),addAnalytics:false,analyticsName:"/share/{r}/{s}"};m={compact:l.hasClass("compact")?true:undefined,popup:l.hasClass("popup-none")?false:undefined,addFavorite:l.hasClass("favourite")?true:undefined,addEmail:l.hasClass("email")?true:undefined,addShowAll:l.hasClass("showall")?true:undefined,addAnalytics:l.hasClass("analytics")?true:undefined};b.metadata.setType("attr","data-wet-boew");if(typeof wet_boew_share!=="undefined"&&wet_boew_share!==null){b.extend(d,wet_boew_share,m,l.metadata())}else{b.extend(d,m,l.metadata())}l.bookmark(d);if(d.popup&&pe.cssenabled){l.attr("role","application");c=l.find(".bookmark_popup").attr("id","bookmark_popup").attr("aria-hidden","true").attr("role","menu").prepend('<p class="popup_title">'+d.popupText+"</p>");n=c.find("li").attr("role","presentation").find("a").attr("role","menuitem");i=l.find(".bookmark_popup_text").off("click vclick keydown");i.attr("role","button").attr("aria-controls","bookmark_popup").attr("aria-pressed","false").on("click vclick keydown",function(o){if(o.type==="keydown"&&(!(o.ctrlKey||o.altKey||o.metaKey))){switch(o.keyCode){case 13:c.trigger("open");return false;case 32:c.trigger("open");return false;case 38:c.trigger("open");return false;case 40:c.trigger("open");return false}}else{if(c.attr("aria-hidden")==="true"){c.trigger("open")}else{c.trigger("close")}return false}});c.on("keydown focusoutside open close closenofocus",function(o){if(o.type==="keydown"){if(!(o.ctrlKey||o.altKey||o.metaKey)){switch(o.keyCode){case 27:c.trigger("close");return false;case 37:k=b(o.target).closest("li").prev().find("a");if(k.length===0){k=n}pe.focus(k.last());return false;case 38:e=b(o.target).offset().left;k=b(o.target).closest("li").prevAll().find("a").filter(function(){return(b(this).offset().left===e)});if(k.length>0){pe.focus(k.first())}else{k=n.filter(function(){return(b(this).offset().left<e)});if(k.length>0){pe.focus(k.last())}else{e=n.last().offset().left;k=n.filter(function(){return(b(this).offset().left>e)});if(k.length>0){pe.focus(k.last())}else{pe.focus(n.last())}}}return false;case 39:k=b(o.target).closest("li").next().find("a");if(k.length===0){k=n}pe.focus(k.first());return false;case 40:e=b(o.target).offset().left;k=b(o.target).closest("li").nextAll().find("a").filter(function(){return(b(this).offset().left===e)});if(k.length>0){pe.focus(k.first())}else{k=n.filter(function(){return(b(this).offset().left>e)});if(k.length>0){pe.focus(k.first())}else{pe.focus(n.first())}}return false;default:if((o.keyCode>47&&o.keyCode<58)||(o.keyCode>64&&o.keyCode<91)){j=String.fromCharCode(o.keyCode).toLowerCase();f=b(o.target).text();h=n.filter(function(){return(b(this).text().substring(1,2).toLowerCase()===j||b(this).text()===f)});if(h.length>0){if(b(o.target).hasClass("bookmark_popup_text")){pe.focus(h.eq(0))}else{h.each(function(p){if(b(this).text()===f){g=p;return false}});if(g<(h.length-1)){pe.focus(h.eq(g+1));return false}pe.focus(h.eq(0))}}return false}}}}else{if(o.type==="focusoutside"){c.trigger("closenofocus")}else{if(o.type==="open"){i.attr("aria-pressed","true").text(d.hideText+d.popupText);c.attr("aria-hidden","false").show();pe.focus(c.show().find("li a").first())}else{if(o.type==="close"||o.type==="closenofocus"){i.attr("aria-pressed","false").text(d.popupText);c.attr("aria-hidden","true").hide();if(o.type==="close"){pe.focus(i.first())}}}}}});b(document).on("click touchstart",function(o){if(c.attr("aria-hidden")==="false"&&!b(o.target).is(c)&&!b(o.target).is(i)&&b(o.target).closest(c).length===0){c.trigger("close")}})}else{l.addClass("popup-none")}return l}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.slideout={type:"plugin",depends:["resize"],opened:false,_exec:function(h){var t=10,s=pe.dic.get("%hide")+'<span class="wb-invisible">'+pe.dic.get("%table-contents")+"</span>",q=2,p={path:pe.add.liblocation+"images/slideout/"+pe.dic.get("%show-image"),height:147,width:30,alt:pe.dic.get("%show-toc")+pe.dic.get("%table-contents")},j={path:pe.add.liblocation+"images/slideout/"+pe.dic.get("%hide-image"),height:147,width:30,alt:pe.dic.get("%hide")+pe.dic.get("%table-contents")},r=false,m,i=true,c=true,l,n,d,o=0,g,k,e,f;f=b('<div style="display: none;">').appendTo("body");if(f.css("display")!=="none"){return}f.remove();g=h.wrap('<div id="slideoutWrapper" role="application" />').parent();h.wrap('<div id="slideoutInnerWrapper" />');h.attr("role","menu").find("li").attr("role","presentation");if(i){h.find('a[href="'+window.location.href+'"]').replaceWith('<span class="so-active">'+b(this).text()+"</span>")}e=h.find("a").attr("role","menuitem");m=function(){if(!r){var u=b("#wb-core-in").offset().left;if(u<=t){u=0}g.css("top",b("#wb-core-in").offset().top);g.css("right",u)}};l=function(){n.off("click vclick");d.off("click vclick");if(!r){var u=g.position();if(pe.ie===0||document.documentMode!==undefined){g.removeClass("slideoutWrapper").addClass("slideoutWrapperRel").css({top:u.top-b("#wb-core-in").offset().top,right:t-10})}h.show();pe.focus(e.eq(0))}r=!r;g.animate({width:parseInt(g.css("width"),10)===(p.width+q)?h.outerWidth()+(p.width+q):(p.width+q)+"px"},function(){if(!r){h.hide();g.find("#slideoutInnerWrapper").css("width",j.width);if(pe.ie===0||document.documentMode!==undefined){g.addClass("slideoutWrapper");g.removeClass("slideoutWrapperRel");g.css("width",(p.width+q)+"px").css("top",b("#wb-core-in").offset().top);m()}}else{if(pe.ie===7&&document.documentMode===undefined){h.find("ul").html(h.find("ul").html())}}n.on("click vclick",l);d.on("click vclick",l)});if(r){g.find("#slideoutToggle a img").attr({src:j.path,title:j.alt,alt:j.alt});g.find("#slideoutToggle a").attr("aria-pressed","true");h.attr("aria-hidden","false");g.find("#slideoutInnerWrapper").css("width","")}else{g.find("#slideoutToggle a img").attr({src:p.path,title:p.alt,alt:p.alt});g.find("#slideoutToggle a").attr("aria-pressed","false");h.attr("aria-hidden","true")}return false};k=function(A){var z=b(A.target),y=z.is('[role="menuitem"]'),u,B,x,v,w;if(y){e.each(function(C){if(b(this).is(z)){u=C;return false}})}if(!(A.ctrlKey||A.altKey||A.metaKey)){switch(A.keyCode){case 9:if(r&&((A.shiftKey&&z.is(n))||(!A.shiftKey&&z.is(d)))){n.trigger("click");pe.focus(n);return false}break;case 13:z.trigger("click");if(z.is(d)){pe.focus(n)}return false;case 27:if(r){l();pe.focus(n);return false}break;case 32:z.trigger("click");if(z.is(d)){pe.focus(n)}return false;case 38:if(!y){if(r){pe.focus(e.eq(e.length-1))}else{n.trigger("click")}}else{if(u===0){pe.focus(e.eq(e.length-1))}else{pe.focus(e.eq(u-1))}}return false;case 40:if(!y){if(r){pe.focus(e.eq(0))}else{n.trigger("click")}}else{if(u===e.length-1){pe.focus(e.eq(0))}else{pe.focus(e.eq(u+1))}}return false;default:if((A.keyCode>47&&A.keyCode<58)||(A.keyCode>64&&A.keyCode<91)){B=String.fromCharCode(A.keyCode).toLowerCase();x=b(A.target).text();w=h.find("a").filter(function(){return(b(this).text().substring(0,1).toLowerCase()===B||b(this).text()===x)});if(w.length>0){w.each(function(C){if(b(this).text()===x){v=C;return false}});if(v<(w.length-1)){pe.focus(w.eq(v+1));return false}pe.focus(w.eq(0))}return false}}}else{if(A.metaKey&&A.keycode===9){if(z.is(n)){n.trigger("click");return false}}}};e.on("click vclick",function(){l(h)});g.on("keydown",k);h.on("keydown",k);b(document).on("click touchstart",function(u){if(r&&!b(u.target).is(h)&&!b(u.target).is(g)&&b(u.target).closest(h).length===0){l()}});h.append('<a href="#" id="slideoutClose">'+s+"</a>");d=h.find("#slideoutClose");g.find("#slideoutInnerWrapper").css("padding",(q/2)+"px").prepend('<div id="slideoutToggle" class="slideoutToggle"><a id="toggleLink" role="button" aria-pressed="false" aria-controls="slideout" href="#" onclick="return false;"><img width="'+p.width+'px" height="'+p.height+'px" src="'+p.path+'" alt="'+p.alt+'" title="'+p.alt+'" /></a></div>');n=g.find("#toggleLink");g.find("#slideoutToggle").css({width:p.width,height:p.height});h.addClass("tabbedSlideout");o=h.outerHeight();g.css("width",(p.width+q)+"px").css("top",b("#wb-core-in").offset().top);h.hide().attr("aria-hidden","true");g.find("#slideoutInnerWrapper").css("width",j.width);if(pe.ie>0&&pe.ie<8&&document.documentMode===undefined){c=false}if(c){g.addClass("slideoutWrapper");pe.resize(m);m()}else{g.addClass("so-ie7");g.addClass("slideoutWrapperRel").css({right:t-10,top:"0"})}n.on("click vclick",l);d.on("click vclick",l);if(pe.ie===7){b("html").css("overflowY","auto")}}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.tabbedinterface={type:"plugin",depends:(pe.mobile?[]:["metadata","easytabs","equalheights"]),mobile:function(g){var f=g.find(".tabs > li"),d=g.find(".tabs-panel > div"),c=b('<div data-role="collapsible-set" data-content-theme="b" data-theme="b"/>'),i,h=(g.hasClass("tabs-style-4")||g.hasClass("tabs-style-5")),j,k,e=false;g.removeClass();if(h){j=g.closest("section").find(":header:first");k=(j.length>0?(parseInt(j.prop("tagName").substr(1),10)+1):3)}d.each(function(l){i=b('<div data-role="collapsible"/>');if(h){i.append("<h"+k+">"+f.eq(l).children("a").html()+"</h"+k+">"+b(this).html())}else{i.append(b(this).find(":header:first").parent().html())}if(f.eq(l).hasClass("default")){i.attr("data-collapsed","false");e=true}c.append(i)});if(!e){c.children().eq(0).attr("data-collapsed","false")}f.remove();g.empty().append(c);return g},_exec:function(m){if(pe.mobile){return a.fn.tabbedinterface.mobile(m).trigger("create")}var j,x=m.find(".tabs"),d=x.find("a:not(.tabs-toggle)"),c=m.find(".tabs-panel"),n=c.children(),h,u,o,q,p,k,y,z,l,v,r,w,g,i,e,f,s,t,A="-link";q={panelActiveClass:"active",tabActiveClass:"active",defaultTab:"li:first-child",autoHeight:true,cycle:false,carousel:false,autoPlay:false,animate:false,animationSpeed:"normal",updateHash:false};p={defaultTab:((m.find(".default").length)?".default":undefined),autoHeight:m.hasClass("auto-height-none")?false:undefined,cycle:(m.hasClass("cycle-slow")?8000:(m.hasClass("cycle-fast")?2000:(m.hasClass("cycle")?6000:undefined))),carousel:m.hasClass("style-carousel")?true:undefined,autoPlay:m.hasClass("auto-play")?true:undefined,animate:(m.hasClass("animate")||m.hasClass("animate-slow")||m.hasClass("animate-fast"))?true:undefined,animationSpeed:(m.hasClass("animate-slow")?"slow":(m.hasClass("animate-fast")?"fast":undefined))};b.metadata.setType("attr","data-wet-boew");if(typeof wet_boew_tabbedinterface!=="undefined"&&wet_boew_tabbedinterface!==null){b.extend(q,wet_boew_tabbedinterface,p,m.metadata())}else{b.extend(q,p,m.metadata())}x.attr("role","tablist").children("li").attr("role","presentation");d.attr("role","tab").attr("aria-selected","false").each(function(){var C=b(this),B=C.attr("href").substring(1);C.attr("aria-controls",B).attr("id",B+A)});c.attr("id",n.eq(0).attr("id")+"-parent");n.attr("tabindex","-1").attr("role","tabpanel").attr("aria-hidden","true").each(function(){var B=b(this);if(pe.ie>0){B.attr("aria-labelledby",B.attr("id")+A)}});j=(x.find(".default").length>0?x.find(".default"):x.find("li:first-child"));d.on("keydown",function(C){var B=b(C.target);if(C.keyCode===13||C.keyCode===32){if(C.stopPropagation){C.stopImmediatePropagation()}else{C.cancelBubble=true}C.preventDefault();if(!B.is(d.filter("."+q.tabActiveClass))){z(B,d,n,q,false)}else{pe.focus(n.filter(B.attr("href")))}}else{if(C.keyCode===37||C.keyCode===38){z(y(d),d,n,q,false);C.preventDefault()}else{if(C.keyCode===39||C.keyCode===40){z(k(d),d,n,q,false);C.preventDefault()}}}});j.children("a").each(function(){b(this).attr("aria-selected","true");return b("#"+b(this).attr("href").substring(1)).attr("aria-hidden","false")});k=function(B){var C=B.filter("."+q.tabActiveClass).parent().next(":not(.tabs-toggle)");return(C.length===0?B.first():C.children())};y=function(B){var C=B.filter("."+q.tabActiveClass).parent().prev();return(C.length===0?B.last():C.children())};z=function(C,B,G,F,E){var D;G.stop(true,true);if(F.animate){G.filter("."+F.panelActiveClass).removeClass(F.panelActiveClass).attr("aria-hidden","true").fadeOut(F.animationSpeed,function(){return G.filter("#"+C.attr("href").substr(1)).fadeIn(F.animationSpeed,function(){return b(this).addClass(F.panelActiveClass).attr("aria-hidden","false")})})}else{G.removeClass(F.panelActiveClass).attr("aria-hidden","true").hide();G.filter("#"+C.attr("href").substr(1)).show().addClass(F.panelActiveClass).attr("aria-hidden","false")}B.parent().removeClass(F.tabActiveClass).children().removeClass(F.tabActiveClass).filter("a").attr("aria-selected","false");C.parent().addClass(F.tabActiveClass).children().addClass(F.tabActiveClass).filter("a").attr("aria-selected","true");D=C.parent().siblings(".tabs-toggle");if(!E&&(D.length===0||D.data("state")==="stopped")){return pe.focus(C)}};w=function(){if(u.data("state")==="stopped"){z(k(d),d,n,q,true);o(d,n,q);h.removeClass(l["class"]).addClass(v["class"]).html(v.text+'<span class="wb-invisible">'+v["hidden-text"]+"</span>").attr("aria-pressed",true);return b(".wb-invisible",h).text(v["hidden-text"])}if(u.data("state")==="started"){return r()}};if(q.autoHeight&&!m.hasClass("tabs-style-4")&&!m.hasClass("tabs-style-5")){n.show();b(".tabs-panel",m).equalHeights(true)}m.easytabs(b.extend({},q,{cycle:false}));if(q.cycle){o=function(B,E,D){var C,F;C=B.filter(function(){return b(this).is("."+D.tabActiveClass)});c.attr("aria-live","polite");F=C.siblings(".tabs-roller");m.find(".tabs-toggle").data("state","started");return F.show().animate({width:C.parent().width()},D.cycle-200,"linear",function(){b(this).width(0).hide();z(k(B),B,E,D,true);return m.data("interval",setTimeout(function(){return o(B,E,D)},0))})};r=function(){clearTimeout(m.data("interval"));c.attr("aria-live","off");m.find(".tabs-roller").width(0).hide().stop();m.find(".tabs-toggle").data("state","stopped");h.removeClass(v["class"]).addClass(l["class"]).html(l.text+'<span class="wb-invisible">'+l["hidden-text"]+"</span>").attr("aria-pressed",false);return b(".wb-invisible",h).text(l["hidden-text"])};c.attr("role","marquee").attr("aria-live","off");g=b('<li class="tabs-toggle">');s={"class":"tabs-prev",text:"&nbsp;&nbsp;&nbsp;","hidden-text":pe.dic.get("%previous")};e=b('<a class="'+s["class"]+'" href="javascript:;" role="button" aria-controls="'+c.attr("id")+'">'+s.text+'<span class="wb-invisible">'+s["hidden-text"]+"</span></a>");x.append(g.append(e));e.on("click",function(){z(y(d),d,n,q,true)});i=b("<li class='tabs-toggle'>");t={"class":"tabs-next",text:"&nbsp;&nbsp;&nbsp;","hidden-text":pe.dic.get("%next")};f=b('<a class="'+t["class"]+'" href="javascript:;" role="button" aria-controls="'+c.attr("id")+'">'+t.text+'<span class="wb-invisible">'+t["hidden-text"]+"</span></a>");x.append(i.append(f));f.on("click",function(){z(k(d),d,n,q,true)});u=b('<li class="tabs-toggle">');v={"class":"tabs-stop",text:pe.dic.get("%pause"),"hidden-text":pe.dic.get("%tab-rotation","disable")};l={"class":"tabs-start",text:pe.dic.get("%play"),"hidden-text":pe.dic.get("%tab-rotation","enable")};h=b('<a class="'+v["class"]+'" href="javascript:;" role="button" aria-pressed="true" aria-controls="'+c.attr("id")+'">'+v.text+'<span class="wb-invisible">'+v["hidden-text"]+"</span></a>");x.append(u.append(h));u.click(w).on("keydown",function(B){if(B.keyCode===32){w();return B.preventDefault()}});x.find("li a").not(u.find("a")).click(function(){return r()});d.each(function(){var B;B=b('<div class="tabs-roller">').hide().click(function(){return b(this).siblings("a").click()}).hover(function(){return b(this).css("cursor","text")});if(pe.ie>0&&pe.ie<8){b(".tabs-style-2 .tabs, .tabs-style-2 .tabs li").css("filter","")}return b(this).parent().append(B)});o(d,n,q);if(!q.autoPlay){r()}}m.find('a[href^="#"]').each(function(){var B,C;C=b(this).attr("href");if(C.length>1){B=b(C,n);if(B.length){return b(this).click(function(F){var D,E;D=B.parents('[role="tabpanel"]:hidden');if(D){F.preventDefault();E=D.attr("id");D.parent().siblings(".tabs").find('a[href="#'+E+'"]').trigger("click");return B.get(0).scrollIntoView(true)}})}}});return m.attr("class",m.attr("class").replace(/\bwidget-style-/,"style-"))}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.texthighlight={type:"plugin",_exec:function(d){function c(g,j){var e,h,f;g=g.replace(/^\s+|\s+$/g,"");g=g.replace(/\|+/g,"");e=g.split("+");if(e.length>0){g="";for(f=0;f<e.length;f+=1){g+=e[f]+" "}g=g.replace(/^\s+|\s+$|\"|\(|\)/g,"")}g=g.replace(/\s+/g,"|");g=decodeURIComponent(g);g="(?=([^>]*<))([\\s'])?("+g+")(?!>)";h=j.html().replace(new RegExp(g,"gi"),function(m,l,k,i){return(typeof k==="undefined"?"":k)+'<span class="texthighlight"><mark>'+i+"</mark></span>"});j.html(h);return null}if(pe.urlquery.texthighlight!==undefined){c(pe.urlquery.texthighlight,d)}return this}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.toolbar={scope:"plugin",_exec:function(d){var c=b('<div class="wet-boew-toolbar" role="toolbar"><ul><li class="toolbar-top-page"> <a href="#wb-tphp" role="link">'+pe.dic.get("%top-of-page")+"</a> </li></ul></div>");b("#wb-body-sec-sup, #wb-body-sec, #wb-body").add("body").first().append(c);c.hide();b(window).bind("scroll",function(){if(b(this).scrollTop()>10){c.fadeIn("normal").attr("aria-hidden","false")}else{c.fadeOut("normal").attr("aria-hidden","true")}});if(b(window).scrollTop()<10||b(window).scrollTop()==="undefined"){c.fadeOut("normal").attr("aria-hidden","true")}else{c.fadeIn("normal").attr("aria-hidden","false")}}};window.pe=b.extend(true,window.pe,a);return window.pe}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.webwidget={type:"plugin",twitter:{_parse_entries:function(d,e,j){var h,g,c,f;h=(e>0&&e<d.length?e:d.length);f=d.sort(function(k,i){return pe.date.compare(i.created_at.replace("+0000 ","")+" GMT",k.created_at.replace("+0000 ","")+" GMT")});c='<ul class="widget-content">';g=0;while(g<h){c+='<li><a class="float-left" href="http://www.twitter.com/';c+=f[g].user.name+"/status/"+f[g].user.id+'"><img class="widget-avatar" src="'+f[g].user.profile_image_url+'" alt="'+f[g].user.name+'" /></a> ';c+=pe.string.ify.clean(f[g].text);c+=' <span class="widget-datestamp-accent">'+pe.dic.ago(f[g].created_at)+"</span></li>";g+=1}c+="</ul>";return j.replaceWith(c)},_json_request:function(c){if(c.toLowerCase().indexOf("!/search/")>-1){return c.replace("http://","https://").replace(/https:\/\/twitter.com\/#!\/search\/(.+$)/,function(g,f,e,d){return"http://search.twitter.com/search.json?q="+encodeURI(decodeURI(f))})}return c.replace("http://","https://").replace(/https:\/\/twitter.com\/#!\/(.+$)/i,function(g,f,e,d){return"http://twitter.com/status/user_timeline/"+encodeURI(decodeURI(f))+".json?callback=?"})},exec:function(j,e,k){var c,g,h,f,d;h=j.length-1;c=[];f=this._parse_entries;g=j.length-1;d=[];while(g>=0){b.getJSON(this._json_request(j[g]),function(l){var i;i=0;while(i<l.length){c.push(l[i]);i+=1}if(!h){f(c,e,k)}h-=1;return h});d.push(g-=1)}return d}},weather:{_parse_entries:function(d,e,f){var c;c='<ul class="widget-content">';c+='<li><a href="'+d[1].link+'">'+d[1].title+'</a><span class="widget-datestamp">['+pe.date.to_iso_format(d[1].publishedDate,true)+"]</span></li>";c+="</ul>";return f.replaceWith(c)},exec:function(j,e,k){var c,g,h,f,d;h=j.length-1;c=[];f=this._parse_entries;g=j.length-1;d=[];while(g>=0){b.getJSON(this._json_request(j[g]),function(l){var i;i=0;while(i<l.responseData.feed.entries.length){c.push(l.responseData.feed.entries[i]);i+=1}if(!h){f(c,e,k)}h-=1;return h});d.push(g-=1)}return d},_json_request:function(d,c){var e;d=d.replace(/^.*?\.gc\.ca\/([a-z]+).+\/(.*?)_[a-z]+_([ef])\.html/i,"http://www.weatheroffice.gc.ca/rss/$1/$2_$3.xml");e="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+encodeURI(decodeURI(d));if(c>0){e+="&num="+c}return e}},rss:{_parse_entries:function(d,e,j){var h,g,c,f;h=(e>0&&e<d.length?e:d.length);f=d.sort(function(k,i){return pe.date.compare(i.publishedDate,k.publishedDate)});c='<ul class="widget-content">';g=0;while(g<h){c+='<li><a href="'+f[g].link+'">'+f[g].title+'</a><span class="widget-datestamp">['+pe.date.to_iso_format(f[g].publishedDate,true)+"]</span></li>";g+=1}c+="</ul>";return j.replaceWith(c)},exec:function(j,e,k){var c,g,h,f,d;h=j.length-1;c=[];f=this._parse_entries;g=j.length-1;d=[];while(g>=0){b.getJSON(this._json_request(j[g]),function(l){var i;i=0;while(i<l.responseData.feed.entries.length){c.push(l.responseData.feed.entries[i]);i+=1}if(!h){f(c,e,k)}h-=1;return h});d.push(g-=1)}return d},_json_request:function(d,c){var e;e="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+encodeURI(decodeURI(d));if(c>0){e+="&num="+c}return e}},_exec:function(h,g){var f,d,c,e;f=b(h);e=pe.limit(f);c=f.find("a").map(function(){var i;i=b(this).attr("href");if(!g&&/twitter.com/i.test(i)){g="twitter"}if(!g&&/weatheroffice.gc.ca/i.test(i)){g="weather"}if(!g){g="rss"}return b(this).attr("href")});d=b('<ul class="widget-content"><li class="widget-state-loading"><img src="'+pe.add.liblocation+'/images/webfeeds/ajax-loader.gif" alt="'+pe.dic.get("%loading")+'" /></li></ul>');f.find(".widget-content").replaceWith(d);b.extend({},a.fn.webwidget[g]).exec(c,e,d);return}};window.pe=a;return window.pe}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.zebra={type:"plugin",_exec:function(f){var c,d,e;if(f.is("table")){c=(f.children("tr").add(f.children("tbody").children("tr"))).filter(function(){return b(this).children("td").length>0});c.filter(":odd").addClass("table-even");c.filter(":even").addClass("table-odd");c.on("hover focusin focusout",function(g){g.stopPropagation();b(this).toggleClass("table-hover")})}else{d=f.children("li");e=(f.parents("li").length+1)%2;d.filter(":odd").addClass(e===0?"list-odd":"list-even");d.filter(":even").addClass(e===1?"list-odd":"list-even");d.on("mouseover mouseout focusin focusout",function(g){g.stopPropagation();b(this).toggleClass("list-hover")})}}};window.pe=a;return a}(jQuery));