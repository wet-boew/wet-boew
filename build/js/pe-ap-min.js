/*!
 * Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * www.tbs.gc.ca/ws-nw/wet-boew/terms / www.sct.gc.ca/ws-nw/wet-boew/conditions
 */
(function(c){var a,b;a=(typeof window.pe!=="undefined"&&window.pe!==null)?window.pe:{fn:{}};b={language:(c("html").attr("lang").length>0?c("html").attr("lang"):"en"),touchscreen:"ontouchstart" in document.documentElement,theme:"",suffix:c('body script[src*="/pe-ap-min.js"]').length>0?"-min":"",header:c("#wb-head"),menubar:c(".wet-boew-menubar"),secnav:c("#wb-sec"),footer:c("#wb-foot"),html5:(function(){var d=false,e=/\s+(X?HTML)\s+([\d\.]+)\s*([^\/]+)*\//gi;if(typeof document.namespaces!=="undefined"){d=(document.all[0].nodeType===8)?e.test(document.all[0].nodeValue):false}else{d=(document.doctype!==null)?e.test(document.doctype.publicId):false}return(d)?false:true}()),ie:c.browser.msie?c.browser.version:0,_init:function(){var e,d;c("html").removeClass("no-js").addClass(a.theme+((a.touchscreen)?" touchscreen":""));if(a.mobilecheck()){a.mobile=true;c("body > div").attr("data-role","page")}c.when.apply(c,c.map(c("*[data-ajax-replace], *[data-ajax-append]"),function(h){d=c(h);var g=false,f;if(d.attr("data-ajax-replace")!==undefined){g=true;f=d.attr("data-ajax-replace")}else{if(d.attr("data-ajax-append")!==undefined){f=d.attr("data-ajax-append")}}return c.get(f,function(i){if(g){d.empty()}d.append(c(i))},"html")})).always(function(){c(document).bind("languageloaded",function(){if(wet_boew_theme!==null){wet_boew_theme.init();if(a.mobile===true){if(wet_boew_theme!==null){wet_boew_theme.mobileview()}c(document).on("mobileinit",function(){c.mobile.ajaxEnabled=false;c.mobile.pushStateEnabled=false});c(document).on("pageinit",function(){})}}a.dance()});a.add.language(a.language)});a.polyfills()},depends:{_ind:[],is:function(d){return -1!==c.inArray(d,a.depends._ind)},put:function(d){a.depends._ind[a.depends._ind.length]=d},on:(function(){c(document).on("wet-boew-dependency-loaded",function(){var e,f;for(e=0,f=a.depends.on.length;e<f;e+=1){a.depends.on[e](e)}});return[]}())},mobile:false,mobilecheck:function(){return(window.innerWidth<768&&!(a.ie>0&&a.ie<9))},pagecontainer:function(){return c("#wb-body-sec-sup,#wb-body-sec,#wb-body").add("body").eq(0)},parameter:function(d,e){return(a.html5)?e.data(d):e.attr("class").replace("/.*"+d+"-([a-z0-9_]+).*/i","$1")},resize:function(d){ResizeEvents.initialise();ResizeEvents.eventElement.bind("x-text-resize x-zoom-resize x-window-resize",function(){d()});return},url:function(e){var d;d=document.createElement("a");d.href=e;return{source:d.href,protocol:d.protocol.replace(":",""),host:d.hostname,port:d.port==="0"?"80":d.port,query:d.search,params:(function(){var i,h,j,g,k,f;h={};g=d.search.replace(/^\?/,"").split("&");for(k=0,f=g.length;k<f;k+=1){i=g[k];if(i){j=i.split("=");h[j[0]]=j[1]}}return h}()),file:d.pathname.match(/\/([^\/?#]+)$/i)?d.pathname.match(/\/([^\/?#]+)$/i)[1]:"",hash:d.hash.replace("#",""),path:d.pathname.replace(/^([^\/])/,"/$1"),relative:d.href.match(/tps?:\/\/[^\/]+(.+)/)?d.href.match(/tps?:\/\/[^\/]+(.+)/)[1]:"",segments:d.pathname.replace(/^\//,"").split("/"),removehash:function(){return this.source.replace(/#([A-Za-z0-9-_=&]+)/,"")}}},_execute:function(e,f){var d=(typeof e._exec!=="undefined")?e._exec:e.exec;if(typeof e.depends!=="undefined"){a.add.js(e.depends,function(){d(f)})}else{d(f)}return},cssenabled:function(){return c("link").get(0).disabled},limit:function(e){var d;d=c(e).attr("class").match(/\blimit-\d+/);if(!d){return 0}return Number(d[0].replace(/limit-/i,""))},focus:function(d){setTimeout(function(){return(typeof d.jquery!=="undefined"?d.focus():c(d).focus())},0);return d},string:{ify:(function(){return{link:function(d){return d.replace(/[a-z]+:\/\/[a-z0-9-_]+\.[a-z0-9-_@:~%&\?\+#\/.=]+[^:\.,\)\s*$]/ig,function(e){return'<a href="'+e+'">'+((e.length>25)?e.substr(0,24)+"...":e)+"</a>"})},at:function(d){return d.replace(/(^|[^\w]+)\@([a-zA-Z0-9_]{1,15}(\/[a-zA-Z0-9-_]+)*)/g,function(e,g,f){return g+'@<a href="http://twitter.com/'+f+'">'+f+"</a>"})},hash:function(d){return d.replace(/(^|[^&\w'"]+)\#([a-zA-Z0-9_]+)/g,function(e,g,f){return g+'#<a href="http://search.twitter.com/search?q=%23'+f+'">'+f+"</a>"})},clean:function(d){return this.hash(this.at(this.link(d)))}}}()),pad:function(e,d){var f;f=String(e);while(f.length<d){f="0"+f}return f}},date:{convert:function(e){if(e.constructor===Date){return e}if(e.constructor===Array){return new Date(e[0],e[1],e[2])}if(e.constructor===Number){return new Date(e)}if(e.constructor===String){return new Date(e)}if(typeof e==="object"){return new Date(e.year,e.month,e.date)}return NaN},compare:function(e,d){if(isFinite(e=this.convert(e).valueOf())&&isFinite(d=this.convert(d).valueOf())){return(e>d)-(e<d)}return NaN},in_range:function(f,g,e){if(isFinite(f=this.convert(f).valueOf())&&isFinite(g=this.convert(g).valueOf())&&isFinite(e=this.convert(e).valueOf())){return g<=f&&f<=e}return NaN},to_iso_format:function(g,f){var e;e=this.convert(g);if(f){return e.getFullYear()+"-"+a.string.pad(e.getMonth()+1,2,"0")+"-"+a.string.pad(e.getDate(),2,"0")+" "+a.string.pad(e.getHours(),2,"0")+":"+a.string.pad(e.getMinutes(),2,"0")}return e.getFullYear()+"-"+a.string.pad(e.getMonth()+1,2,"0")+"-"+a.string.pad(e.getDate(),2,"0")}},menu:{navcurrent:function(d,l,e){var n,k,o,h,f=a.url(window.location.href).removehash(),m=[],g=[],j;d=(typeof d.jquery!=="undefined"?d:c(d));l=c((typeof l.jquery!=="undefined"?l:c(l)).find("a").get().reverse());e=(typeof e==="undefined")?"nav-current":e;l.each(function(i){m[i]=c(this).attr("href");g[i]=c(this).text()});c(d.find("a").get().reverse()).each(function(){n=c(this);k=n.attr("href");o=n.text();j=(k===f);for(h=0;!j&&h<m.length;h+=1){if(m[h]!=="#"&&(m[h]===k||g[h]===o)){j=true;break}}if(j){n.addClass(e);return false}});return(j?n:c())},buildmobile:function(d,m,h,j){var e=c('<div data-role="controlgroup"></div>'),g=(typeof d.jquery!=="undefined"?d:c(d)).find("> div, > ul, h"+m),i,f,l,k;if(g.first().is("ul")){e.append(c('<ul data-role="listview" data-theme="'+h+'"></ul>').append(g.first().children("li")))}else{g.each(function(n){var o=c(this);if(o.is("h"+m)){l=o.children("a");f=c('<div data-role="collapsible"'+(l.hasClass("nav-current")?' data-collapsed="false"':"")+"><h"+m+">"+o.text()+"</h"+m+"></div>");if(j){o=o.parent().find("a").eq(1).closest("ul, div, h"+m+1).first();i=o}else{i=o.next()}if(i.is("ul")){if(!j){i.prepend(c("<li></li>").append(o.children("a").html(l.html()+" - "+a.dic.get("%home"))))}k=i.find("li ul");k.each(function(p){var q=c(this);l=q.prev("a");if((m+1+p)<7){q.attr("data-role","listview").attr("data-theme",h).wrap('<div data-role="collapsible"></div>');q.parent().prepend("<h"+(m+1+p)+">"+l.html()+"</h"+(m+1+p)+">");q.prepend('<li><a href="'+l.attr("href")+'">'+l.html()+" - "+a.dic.get("%home")+"</a></li>");l.remove()}else{q.attr("data-role","listview").attr("data-theme",h)}});f.append(c('<ul data-role="listview" data-theme="'+h+'"></ul>').append(i.children("li")));f.find("ul").wrap('<div data-role="controlgroup">'+(k.length>0?'<div data-role="collapsible-set" data-theme="'+h+'"></div>':"")+"</div>")}else{f.append(a.menu.buildmobile(o.parent(),m+1,h));if(!j){f.find('div[data-role="collapsible-set"]').eq(0).prepend(o.children("a").html(l.html()+" - "+a.dic.get("%home")).attr("data-role","button").attr("data-theme",h).attr("data-icon","arrow-r").attr("data-iconpos","right"))}}e.append(f)}else{if(o.is("div")){e.append(o.children("a").attr("data-role","button").attr("data-theme",h).attr("data-icon","arrow-r").attr("data-iconpos","right"))}}});e.children().wrapAll('<div data-role="collapsible-set" data-theme="'+h+'"></div>')}return e},expandmobile:function(e,d){c((typeof e.jquery!=="undefined"?e:c(e))).find((typeof d==="undefined")?".nav-current":d).parents('div[data-role="collapsible"]').attr("data-collapsed","false")},correctmobile:function(d){c((typeof d.jquery!=="undefined"?d:c(d))).find(".ui-collapsible-set").each(function(){var e=c(this);if(e.find("> ul .ui-collapsible").length>0){e=e.children("ul")}e.children().each(function(){var g=c(this),f=g.is("a")?g:g.find("a").first();if(g.prev().length>0){f.removeClass("ui-corner-top")}if(g.next().length>0){f.removeClass("ui-corner-bottom")}})})}},polyfills:function(){var e=a.add.liblocation,d=(function(j){var h=j.createElement("details"),g,f,i;if(typeof h.open==="undefined"){return false}f=j.body||(function(){var k=j.documentElement;g=true;return k.insertBefore(j.createElement("body"),k.firstElementChild||k.firstChild)}());h.innerHTML="<summary>a</summary>b";h.style.display="block";f.appendChild(h);i=h.offsetHeight;h.open=true;i=i!==h.offsetHeight;f.removeChild(h);if(g){f.parentNode.removeChild(f)}return i}(document));if(!window.localStorage){a.add._load(e+"polyfills/localstorage"+a.suffix+".js")}if(typeof document.createElement("progress").position==="undefined"){a.add._load(e+"polyfills/progress"+a.suffix+".js")}if(!d){a.add._load(e+"polyfills/detailsummary"+a.suffix+".js")}},add:(function(){return{head:document.head||document.getElementsByTagName("head"),liblocation:(function(){var d=c('body script[src*="/pe-ap"]').attr("src");return d.substr(0,d.lastIndexOf("/")+1)}()),themecsslocation:(function(){var d=c('head link[rel="stylesheet"][href*="'+wet_boew_theme.themename()+'"]');return d.length>0?d.attr("href").substr(0,d.attr("href").lastIndexOf("/")+1):"theme-not-found/"}()),staged:[],_load:function(e){var d=a.add.head;if(c.inArray(e,this.staged)>-1){return this}setTimeout(function(){if(typeof d.item!=="undefined"){if(!d[0]){setTimeout(arguments.callee,25);return}d=d[0]}var f=document.createElement("script"),g=false;a.add.set(f,"async","async");f.onload=f.onreadystatechange=function(){if((f.readyState&&f.readyState!=="complete"&&f.readyState!=="loaded")||g){return false}f.onload=f.onreadystatechange=null;g=true;a.depends.put(e);c(document).trigger({type:"wet-boew-dependency-loaded",js:e})};f.src=e;if((a.ie>0&&a.ie<9)||!d.insertBefore){c(f).appendTo(c(d)).delay(100)}else{d.insertBefore(f,d.firstChild)}},0);this.staged[this.staged.length]=e;return this},set:function(f,d,e){f.setAttribute(d,e);return this},css:function(f){var e=a.add.head,d=document.createElement("link");a.add.set(d,"rel","stylesheet").set(d,"href",f);if((a.ie>0&&a.ie<10)||!e.insertBefore){c(d).appendTo(c(e)).attr("href",f)}else{e.insertBefore(d,e.firstChild)}return this},depends:function(g){var f=a.add.liblocation,e=c.map(g,function(d){return(/^http(s)?/i.test(d))?d:f+"dependencies/"+d+a.suffix+".js"});return e},language:function(e){var d=a.add.liblocation+"i18n/"+e+a.suffix+".js";a.add._load(d)},js:function(f,e){var d;f=a.add.depends(f);for(d=0;d<f.length;d+=1){if(!a.depends.is(f[d])){a.add._load(f[d])}}a.depends.on[a.depends.on.length]=function(g){var h=true;for(d=0;d<f.length;d+=1){if(!a.depends.is(f[d])){h=false}}if(h){a.depends.on[g]=function(){};e()}};c(document).trigger("wet-boew-dependency-loaded");return this},meta:function(e,f){var d;d=document.createElement("meta");a.add.set(d,"name",e).set(d,"content",f);a.add.head.appendChild(d);return this}}}()),dance:function(){var e,d=":not(a[href], input, button, textarea)",f=(typeof wet_boew_properties!=="undefined"&&wet_boew_properties!==null)?wet_boew_properties:false;c('[class^="wet-boew-"]').each(function(){var h,g;g=c(this);h=g.attr("class").replace(/^wet-boew-(\S*).*/i,"$1".toLowerCase());if(typeof a.fn[h]!=="undefined"){a._execute(a.fn[h],g)}});if(f){for(e=0;e<f.globals.length;e+=1){a._execute(a.fn[f.globals[e]],document)}}if(a.mobile){c("#wb-main a[href^='#']").on("click",function(){c("#"+c(this).attr("href").slice(1)+d).attr("tabindex","-1").focus()});a.add.css([a.add.themecsslocation+"jquery.mobile"+a.suffix+".css"]);a.add._load([a.add.liblocation+"jquery.mobile/jquery.mobile.min.js"])}else{c("#wb-skip a").on("click",function(){a.focus(c(c(this).attr("href")+d).attr("tabindex","-1"))})}window.onresize=function(){if(a.mobile!==a.mobilecheck()){window.location.href=a.url(window.location.href).removehash()}}}};window.pe=c.extend(true,a,b);return window.pe}(jQuery))._init();(function(b){var a=window.pe||{fn:{}};a.fn.archived={type:"plugin",_exec:function(d){if(pe.mobile){return}var c=b('<div class="archived" role="toolbar"><a class="archived-top-page" href="#archived" role="link">'+pe.dic.get("%archived-page")+"</a></div>");b(window).on("scroll",function(){if(b(this).scrollTop()>10){c.fadeIn("normal").attr("aria-hidden","false")}else{c.fadeOut("normal").attr("aria-hidden","true")}});if(b(window).scrollTop()<10||b(window).scrollTop()==="undefined"){c.fadeOut("normal").attr("aria-hidden","true")}else{c.fadeIn("normal").attr("aria-hidden","false")}pe.pagecontainer().append(c)}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.charts={type:"plugin",depends:["excanvas","flot"],_exec:function(i){var d,h,g,f,e,c;d=b(i);e=d.find(".chart-canvas");if(!e.hasClass("fixed-size")){e.height(Math.round(e.width()/1.61663))}c=b(i).find("table").eq(0);g=[];h=f=[];c.find("thead td, thead th").each(function(){return h.push(b(this).text())});c.find("tbody tr").each(function(){var j;j={label:"",data:[]};j.label=b(this).find("th").eq(0).text();b(this).find("td").each(function(k){return j.data.push([h[k+1],b(this).text()])});return g.push(j)});b.plot(e,g,{xaxis:{tickDecimals:0}})}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.datepicker={type:"plugin",depends:["calendar","xregexp"],_exec:function(e){var m,d,u,g,l,t,q,v,p,o,i,r;u=(new Date);i=u.getFullYear();v=u.getMonth();g="YYYY-MM-DD";d=function(w,A){var y=b("label[for='"+w+"']").text();objToggle=b('<a id="'+A+'-toggle" class="picker-toggle-hidden" href="javascript:;"><img src="'+pe.add.liblocation+'images/datepicker/icon.png" alt="'+pe.dic.get("%datepicker-show")+y+'"/></a>');objToggle.click(function(){pe.fn.datepicker.toggle(w,A)});var z=b("#"+w);z.after(objToggle);var x=b("#"+A);x.slideUp(0)};if(e.attr("id")){var f;if(e.attr("data-min-date")!=null){f=e.attr("data-min-date")}else{f="1800-01-01"}var h;if(e.attr("data-max-date")!=null){h=e.attr("data-max-date")}else{h="2100-01-01"}var s;if(e.attr("data-date-format")!=null){s=e.attr("data-date-format")}else{s=g}var n=e.attr("id");var c=e;var k=n+"-picker";var j=b('<div id="'+k+'" class="picker-overlay" role="dialog" aria-controls="'+n+'" aria-labelledby="'+k+'-toggle"></div>');j.bind("keyup",function(w){if(w.keyCode==27){pe.fn.datepicker.hideAll();b("#"+n+"-picker-toggle").focus()}});c.parent().after(j);j.bind("calendarDisplayed",function(y,w,x,z){pe.fn.datepicker.addLinksToCalendar(n,w,x,z,f,h,s);pe.fn.datepicker.setSelectedDate(n,w,x,z,s);j.find("a, select").blur(function(){window.setTimeout(function(){if(j.find(":focus").length===0){pe.fn.datepicker.hideAll()}},1000)})});calendar.create(k,i,v,true,f,h);d(n,k);j.find("a").attr("tabindex",-1);c.addClass("picker-field")}},addLinksToCalendar:function(g,i,h,k,f,d,j){f=calendar.getDateFromISOString(f);d=calendar.getDateFromISOString(d);var e=(i==f.getFullYear()&&h==f.getMonth())?true:false;var c=(i==d.getFullYear()&&h==d.getMonth())?true:false;k.each(function(l,o){if((!e&&!c)||(e==true&&l>=f.getDate())||(c==true&&l<=d.getDate())){var p=b(o).children("div");var n=b('<a href="javascript:;"></a>');var m=p.parent();m.empty();n.append(p.html());n.appendTo(m);n.bind("click",{fieldid:g,year:i,month:h,day:l+1,days:k,format:j},function(q){pe.fn.datepicker.addSelectedDateToField(q.data.fieldid,q.data.year,q.data.month+1,q.data.day,q.data.format);pe.fn.datepicker.setSelectedDate(q.data.fieldid,q.data.year,q.data.month,q.data.days,q.data.format);pe.fn.datepicker.toggle(q.data.fieldid,q.data.fieldid+"-picker")})}})},setSelectedDate:function(f,j,h,l,k){b(l).removeClass("datepicker-selected");b(l).find(".datepicker-selected-text").detach();k=k.replace("DD","(?<a> [0-9]{2})");k=k.replace("D","(?<a> [0-9] )");k=k.replace("MM","(?<b> [0-9]{2})");k=k.replace("M","(?<b> [0-9])");k=k.replace("YYYY","(?<c> [0-9]{4})");k=k.replace("YY","(?<c> [0-9]{2})");var i="^"+k+"$";var c=b("#"+f).attr("value");regex=XRegExp(i,"x");try{if(c!=""){var d=b.parseJSON(c.replace(regex,'{"year":"${c}", "month":"${b}", "day":"${a}"}'));if(d.year==j&&d.month==h+1){b(l[d.day-1]).addClass("datepicker-selected");b(l[d.day-1]).children("a").append('<span class="cn-invisible datepicker-selected-text"> ['+pe.dic.get("%datepicker-selected")+"]</span>")}}}catch(g){}},addSelectedDateToField:function(c,e,g,d,f){b("#"+c).attr("value",this.formatDate(e,g,d,f))},toggle:function(d,g){var c=b("#"+g+"-toggle");c.toggleClass("picker-toggle-hidden picker-toggle-visible");var e=b("#"+g);e.unbind("focusout.calendar");e.unbind("focusin.calendar");if(c.hasClass("picker-toggle-visible")){pe.fn.datepicker.hideAll(d);e.find("a").attr("tabindex",0);e.slideDown("fast",function(){pe.fn.datepicker.ieFix(b(this))});e.attr("aria-hidden","false");c.children("a").children("span").text(pe.dic.get("%datepicker-hide"));b(".cal-prevmonth a").focus()}else{e.find("a").attr("tabindex",-1);e.slideUp("fast",function(){pe.fn.datepicker.ieFix(b(this))});calendar.hideGoToForm(g);var f=b("label[for='"+d+"']").text();c.children("a").children("span").text(pe.dic.get("%datepicker-show")+f);e.attr("aria-hidden","true");b("#"+d).focus()}},hideAll:function(c){b(".date-picker").each(function(h,i){if(b(this).attr("id")!=c){var e=b(this).attr("id");var j=e+"-picker";var f=b("#"+j);var d=b("#"+j+"-toggle");f.find("a").attr("tabindex",-1);f.slideUp("fast");f.attr("aria-hidden","true");calendar.hideGoToForm(j);var g=b("label[for='"+e+"']").text();d.children("a").children("span").text(pe.dic.get("%datepicker-show")+g);d.removeClass("picker-toggle-visible");d.addClass("picker-toggle-hidden")}})},ieFix:function(c){if(/MSIE 7/.test(navigator.userAgent)){var d=c.height()+c.offset().top-b("#cn-centre-col-inner").offset().top+50;if(b("#cn-centre-col-inner").height()>=d){b("#cn-centre-col-inner").css("min-height","")}else{if(b("#cn-centre-col-inner").height()<d){b("#cn-centre-col-inner").css("min-height",d)}}}else{if(/MSIE ((5\.5)|6)/.test(navigator.userAgent)){var d=c.height()+c.offset().top-b("#cn-centre-col-inner").offset().top;+50;if(b("#cn-centre-col-inner").height()>=d){b("#cn-centre-col-inner").css("height","")}else{if(b("#cn-centre-col-inner").height()<d){b("#cn-centre-col-inner").css("height",d)}}}}},formatDate:function(d,f,c,e){output=e;output=output.replace("DD",calendar.strPad(c,2,"0"));output=output.replace("D",c);output=output.replace("MM",calendar.strPad(f,2,"0"));output=output.replace("M",f);output=output.replace("YYYY",d);output=output.replace("YY",d.toString().substr(2,2));return output}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.eventscalendar={type:"plugin",depends:["calendar","xregexp"],_exec:function(i){var c=(new Date);var e=c.getFullYear();var f=c.getMonth();if(b(".year",i)&&b(".month",i)){e=b(".year",i).text();if(b(".month",i).hasClass("textformat")){var h=b.inArray(b(".month",i).text(),pe.dic.get("%calendar-monthNames"));f=h}else{f=b(".month",i).text()-1}}var d=a.fn.eventscalendar.getEvents(i);var g=b(i).attr("class").split(" ").slice(-1);if(b("#cn-centre-col-inner").css("padding-left")=="0px"){b("#"+g).css("margin-left","10px")}b("#"+g).bind("calendarDisplayed",function(l,j,k,m){a.fn.eventscalendar.addEvents(j,k,m,g,d.list);a.fn.eventscalendar.showOnlyEventsFor(j,k,g)});calendar.create(g,e,f,true,calendar.getISOStringFromDate(d.minDate),calendar.getISOStringFromDate(d.maxDate))},getEvents:function(f){var e=(b(f).hasClass("event-anchoring"))?false:true;var d={minDate:null,maxDate:null,iCount:0,list:[{a:1}]};var c=null;if(b("ol",f).length>0){c=b("ol",f)}else{if(b("ul",f).length>0){c=b("ul",f)}}if(c!=null){c.children("li").each(function(m){var h=b(this);var l=h.find("*:header:first");var q=l.text();var k=h.find("a").first();var o=k.attr("href");if(!e){var i=(h.attr("id"))?h.attr("id"):a.fn.eventscalendar.randomId(6);h.attr("id",i);if(/MSIE/.test(navigator.userAgent)){h.attr("tabindex","-1")}o="#"+i}var j=(new Date);var g=h.find("time, span.datetime");if(g.size()>1){var s=(b(g[0]).get(0).nodeName.toLowerCase()=="time")?b(g[0]).attr("datetime").substr(0,10).split("-"):b(g[0]).attr("class").match(/datetime\s+\{date\:\s*(\d+-\d+-\d+)\}/)[1].substr(0,10).split("-");var r=(b(g[1]).get(0).nodeName.toLowerCase()=="time")?b(g[1]).attr("datetime").substr(0,10).split("-"):b(g[1]).attr("class").match(/datetime\s+\{date\:\s*(\d+-\d+-\d+)\}/)[1].substr(0,10).split("-");j.setFullYear(s[0],s[1]-1,s[2]);for(var n=0;n<dates.daysBetween(s,r)+1;n++){if(d.minDate==null||j<d.minDate){d.minDate=j}if(d.maxDate==null||j>d.maxDate){d.maxDate=j}d.list[d.iCount]={title:q,date:new Date(j.getTime()),href:o};j=new Date(j.setDate(j.getDate()+1));if(!l.hasClass("filter-"+(j.getFullYear())+"-"+calendar.strPad(j.getMonth()+1,2))){l.addClass("filter-"+(j.getFullYear())+"-"+calendar.strPad(j.getMonth()+1,2))}d.iCount++}}else{if(g.size()===1){var p=(b(g[0]).get(0).nodeName.toLowerCase()=="time")?b(g[0]).attr("datetime").substr(0,10).split("-"):b(g[0]).attr("class").match(/datetime\s+\{date\:\s*(\d+-\d+-\d+)\}/)[1].substr(0,10).split("-");j.setFullYear(p[0],p[1]-1,p[2]);if(d.minDate==null||j<d.minDate){d.minDate=j}if(d.maxDate==null||j>d.maxDate){d.maxDate=j}d.list[d.iCount]={title:q,date:j,href:o};if(!l.hasClass("filter-"+(j.getFullYear())+"-"+calendar.strPad(j.getMonth()+1,2))){l.addClass("filter-"+(j.getFullYear())+"-"+calendar.strPad(j.getMonth()+1,2))}d.iCount++}}})}window.events=d;return d},randomId:function(e){var d="";var c=function(){var f=Math.floor(Math.random()*62);if(f<10){return f}if(f<36){return String.fromCharCode(f+55)}return String.fromCharCode(f+61)};while(d.length<e){d+=c()}return"id"+d},addEvents:function(n,l,q,g,f){var c=b("#"+g);q.each(function(r,e){b(e).css("z-index",31-r);b(e).css("z-index",31-r)});for(var m=0;m<f.length;m++){var d=new Date(f[m].date);if(d.getMonth()==l&&d.getFullYear()==n){var p=b(q[d.getDate()-1]);var k=p.children("div").html();var i;if(p.children("a").size()<1){p.empty();var o=b('<a href="#ev-'+p.attr("id")+'" class="calEvent">'+k+"</a>");p.append(o);i=b('<ul class="cn-invisible"></ul>');p.bind("mouseover",{details:i},function(e){e.data.details.dequeue();e.data.details.removeClass("cn-invisible");e.data.details.addClass("ev-details")});p.bind("mouseout",{details:i},function(e){e.data.details.delay(100).queue(function(){b(this).removeClass("ev-details");b(this).addClass("cn-invisible");b(this).dequeue()})});o.bind("focus",{details:i},function(e){e.data.details.removeClass("cn-invisible");e.data.details.addClass("ev-details")});o.bind("blur",{details:i},function(e){e.data.details.removeClass("ev-details");e.data.details.addClass("cn-invisible")});p.append(i)}else{i=p.find("ul.cn-invisible")}var j=b('<li><a href="'+f[m].href+'">'+f[m].title+"</a></li>");i.append(j);var h=j.children("a");h.bind("blur",{details:i},function(e){e.data.details.removeClass("ev-details");e.data.details.addClass("cn-invisible")});h.bind("focus",{details:i},function(e){e.data.details.removeClass("cn-invisible");e.data.details.addClass("ev-details")})}}},showOnlyEventsFor:function(d,e,c){b("."+c+" li.calendar-display-onshow").addClass("cn-invisible");b("."+c+" li.calendar-display-onshow").has(":header[class*=filter-"+d+"-"+calendar.strPad(parseInt(e)+1,2)+"]").removeClass("cn-invisible")}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.formvalid={type:"plugin",depends:["validate","validateAdditional","metadata"],_exec:function(e){var d=e.find("form"),c=false;if(pe.language!=="en"){pe.add._load(pe.add.liblocation+"i18n/formvalid/messages_"+pe.language+pe.suffix+".js")}if(pe.language==="de"||pe.language==="nl"||pe.language==="pt"){pe.add._load(pe.add.liblocation+"i18n/formvalid/methods_"+pe.language+pe.suffix+".js")}d.find("input:text, input:password").attr("role","textbox").attr("aria-multiline","false");if(pe.ie>0&&pe.ie<8){d.find(".required").attr("aria-required","true").attr("required","required")}else{d.find(".required").attr("aria-required","true")}d.find("input:submit").attr("role","button");d.validate({meta:"validate",focusInvalid:false,errorElement:"strong",errorPlacement:function(f,g){f.appendTo(d.find('label[for="'+b(g).attr("id")+'"]'))},showErrors:function(h,j){this.defaultShowErrors();var k=d.find("strong.error:not(:hidden)"),i="errors-"+d.attr("id"),g=d.find("#"+i),f;if(k.length>0){if(g.length===0){g=b('<div id="'+i+'" class="errorContainer" role="alert" tabindex="-1"/>').prependTo(d)}else{g.empty()}f=b("<ul></ul>");k.each(function(m){var o=b(this),n='<span class="prefix">'+pe.dic.get("%error")+"&#160;"+(m+1)+pe.dic.get("%colon")+" </span>",l=o.closest("label");o.find("span.prefix").detach();f.append('<li><a href="#'+l.attr("for")+'">'+n+l.find(".field-name").html()+" - "+o.html()+"</a></li>");o.attr("role","alert").removeAttr("for").prepend('<span class="prefix">'+pe.dic.get("%error")+"&#160;"+(m+1)+pe.dic.get("%colon")+" </span>")});g.append(b("<p>"+pe.dic.get("%form-not-submitted")+this.numberOfInvalids()+(this.numberOfInvalids()!==1?pe.dic.get("%errors-found"):pe.dic.get("%error-found"))+"</p>"));pe.focus(g.append(f));if(pe.ie===0||pe.ie>7){d.find(".errorContainer a").on("click",function(){pe.focus(b(b(this).attr("href")).focus())})}c=false}else{g.detach()}},invalidHandler:function(g,f){c=true},onkeyup:function(f,g){if((g.keyCode<9||g.keyCode>45)&&!g.shiftKey&&(f.name in this.submitted||f===this.lastElement)){this.element(f)}}});return e}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.mathlib={type:"plugin",support:(function(){var c=false,d,f,e;if(document.createElementNS){d="http://www.w3.org/1998/Math/MathML";f=document.createElement("div");f.style.position="absolute";f.style.color="#fff";e=f.appendChild(document.createElementNS(d,"math")).appendChild(document.createElementNS(d,"mfrac"));e.appendChild(document.createElementNS(d,"mi")).appendChild(document.createTextNode("xx"));e.appendChild(document.createElementNS(d,"mi")).appendChild(document.createTextNode("yy"));document.body.appendChild(f);c=f.offsetHeight>f.offsetWidth;f.style.display="none"}return c}()),_exec:function(c){if(pe.fn.mathlib.support){return}pe.add._load("http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=MML_HTMLorMML")}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.menubar={type:"plugin",depends:["resize","equalheights","hoverintent","outside"],_exec:function(h){var c,g,j,k,i,f,d,e;j=b(h);e=function(n){var m,l;m=b(n).closest("li");f();l=m.find(".mb-sm");l.attr("aria-expanded","true").attr("aria-hidden","false").toggleClass("mb-sm mb-sm-open");if((Math.floor(l.offset().left+l.width())-Math.floor(g.offset().left+g.width()))>=-1){l.css("right","0px")}m.addClass("mb-active");return};i=function(n){var m,l;e(n);m=b(n);l=m.closest("li").find(".mb-sm-open");pe.focus(l.find("a[href]:first"));return};d=function(n){var m,l;m=b(n).closest("li");l=m.find(".mb-sm-open");l.attr("aria-expanded","false").attr("aria-hidden","true").toggleClass("mb-sm mb-sm-open").css("right","auto");m.removeClass("mb-active");return};f=function(){c.find(".mb-sm-open").each(function(){var l;l=b(this).closest("li");return d(l)});return};k=function(){var m,l;l=c.children("li:last");m=(l.offset().top+l.outerHeight())-j.offset().top;return j.css("min-height",m)};g=j.children("div");c=g.children("ul");j.attr("role","application");c.attr("role","menubar");pe.resize(k);j.find(".mb-sm").parent().find("> :header a").on("click",function(l){if(b(this).closest("li").hasClass("mb-active")){d(this)}else{e(this)}return false});j.on("keydown focus section-next section-previous item-next item-previous close","li",function(r){var p,u,t,q,s,m,o,n,l;u=b(r.target);t=b.map(/\bknav-(\d+)-(\d+)-(\d+)/.exec(u.attr("class")),function(v){return parseInt(v,10)});if(r.type==="keydown"){if(!(r.ctrlKey||r.altKey||r.metaKey)){switch(r.keyCode){case 13:if(t[2]===0&&t[3]===0){u.trigger("item-next");return false}break;case 27:u.trigger("close");return false;case 32:if(t[2]===0&&t[3]===0){u.trigger("item-next")}else{window.location=u.attr("href")}return false;case 37:u.trigger("section-previous");return false;case 38:u.trigger("item-previous");return false;case 39:u.trigger("section-next");return false;case 40:u.trigger("item-next");return false;default:if((r.keyCode>47&&r.keyCode<58)||(r.keyCode>64&&r.keyCode<91)){q=String.fromCharCode(r.keyCode).toLowerCase();s=(t[2]!==0||t[3]!==0);m=u.text();o=c.find(".mb-sm-open a").filter(function(v){return(b(this).text().substring(0,1).toLowerCase()===q||(s&&b(this).text()===m))});if(o.length>0){if(s){o.each(function(v){if(b(this).text()===m){n=v;return false}});if(n<(o.length-1)){pe.focus(o.eq(n+1));return false}}pe.focus(o.eq(0))}return false}}}}else{if(r.type==="close"){pe.focus(j.find(".knav-"+t[1]+"-0-0"));setTimeout(function(){return f()},5)}else{if(r.type==="section-previous"){l=!!t[2]<<1|!!t[3];switch(l){case 0:case 1:p=j.find(".knav-"+(t[1]-1)+"-0-0");if(p.length>0){pe.focus(p)}else{pe.focus(j.find("ul.mb-menu > li:last").find("a:eq(0)"))}break;case 2:case 3:p=j.find(".knav-"+(t[1])+"-"+(t[2]-1)+"-0");if(p.length>0&&t[2]>1){pe.focus(p)}else{p=j.find(".knav-"+(t[1]-1)+"-0-0");if(p.length>0){pe.focus(p)}else{pe.focus(j.find("ul.mb-menu > li:last").find("a:eq(0)"))}}break}}else{if(r.type==="section-next"){l=!!t[2]<<1|!!t[3];switch(l){case 0:case 1:p=j.find(".knav-"+(t[1]+1)+"-0-0");if(p.length>0){pe.focus(p)}else{pe.focus(j.find(".knav-0-0-0"))}break;case 2:case 3:p=j.find(".knav-"+(t[1])+"-"+(t[2]+1)+"-0");if(p.length>0){pe.focus(p)}else{p=j.find(".knav-"+(t[1]+1)+"-0-0");if(p.length>0){pe.focus(p)}else{pe.focus(j.find(".knav-0-0-0"))}}break}}else{if(r.type==="item-next"){p=j.find(".knav-"+t[1]+"-"+(t[2])+"-"+(t[3]+1));if(p.length>0){pe.focus(p)}else{p=j.find(".knav-"+t[1]+"-"+(t[2]+1)+"-0");if(p.length>0){pe.focus(p)}else{pe.focus(j.find(".knav-"+t[1]+"-0-0"))}}}else{if(r.type==="item-previous"){p=j.find(".knav-"+t[1]+"-"+(t[2])+"-"+(t[3]-1));if(p.length>0){pe.focus(p)}else{p=j.find(".knav-"+t[1]+"-"+(t[2]-1)+"-0");if(p.length>0){pe.focus(p)}else{pe.focus(j.find(".knav-"+t[1]+"-0-0"))}}}else{if(r.type==="focusin"&&t[2]===0&&t[3]===0){f();if(u.find(".expandicon").length>0){e(r.target)}return}}}}}}}});b(document).on("click",function(){j.trigger("focusoutside")});j.on("focusoutside",function(){return f()});j.find("ul.mb-menu > li").find("a:eq(0)").each(function(m,o){var n,l;l=b(o);l.addClass("knav-"+m+"-0-0");n=l.closest("li").find(".mb-sm");if(n.size()>0){l.attr("aria-haspopup","true").addClass("mb-has-sm").wrapInner('<span class="expandicon"><span class="sublink"></span></span>');n.attr("role","menu").attr("aria-expanded","false").attr("aria-hidden","true").find(":has(:header) ul").attr("role","menu");l.append('<span class="wb-invisible">'+(pe.dic.get("%sub-menu-help"))+"</span>");l.closest("li").hoverIntent(function(){return e(this)},function(){return d(this)});n.find("h4 a").each(function(p){b(this).addClass("knav-"+m+"-"+(p+1)+"-0");b(this).parent().next("ul").find("a").each(function(q){b(this).addClass("knav-"+m+"-"+(p+1)+"-"+(q+1));return});return});n.find("ul").not(function(){return(b(this).prev("h4").length?true:false)}).find("a").each(function(p){b(this).addClass("knav-"+m+"-0-"+(p+1))})}});if(pe.cssenabled){c.find("a").attr("role","menuitem").attr("tabindex","-1").filter(".knav-0-0-0").attr("tabindex","0")}k();return j}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.share={type:"plugin",depends:["metadata","bookmark"],_exec:function(l){var d,m,c,i,n,k,e,j,f,h,g;d={url:"",sourceTag:"",title:"",description:"",sites:[],compact:false,hint:pe.dic.get("%share-text")+pe.dic.get("%share-hint"),popup:true,popupText:pe.dic.get("%share-text"),hideText:(pe.dic.get("%hide")+" - "),addFavorite:false,favoriteText:pe.dic.get("%favourite"),addEmail:false,emailText:pe.dic.get("%email"),emailSubject:pe.dic.get("%share-email-subject"),emailBody:pe.dic.get("%share-email-body"),manualBookmark:pe.dic.get("%share-manual"),addShowAll:false,showAllText:pe.dic.get("%share-showall"),showAllTitle:pe.dic.get("%share-showall-title"),addAnalytics:false,analyticsName:"/share/{r}/{s}"};m={compact:l.hasClass("compact")?true:undefined,popup:l.hasClass("popup-none")?false:undefined,addFavorite:l.hasClass("favourite")?true:undefined,addEmail:l.hasClass("email")?true:undefined,addShowAll:l.hasClass("showall")?true:undefined,addAnalytics:l.hasClass("analytics")?true:undefined};b.metadata.setType("attr","data-wet-boew");if(typeof wet_boew_share!=="undefined"&&wet_boew_share!==null){b.extend(d,wet_boew_share,m,l.metadata())}else{b.extend(d,m,l.metadata())}l.bookmark(d);if(d.popup&&pe.cssenabled){l.attr("role","application");c=l.find(".bookmark_popup").attr("id","bookmark_popup").attr("aria-hidden","true").attr("role","menu").prepend('<p class="popup_title">'+d.popupText+"</p>");n=c.find("li").attr("role","presentation").find("a").attr("role","menuitem").attr("tabindex","-1");i=l.find(".bookmark_popup_text").off("click");i.attr("role","button").attr("aria-controls","bookmark_popup").attr("aria-pressed","false").on("click keydown",function(o){if(o.type==="keydown"&&(!(o.ctrlKey||o.altKey||o.metaKey))){switch(o.keyCode){case 13:c.trigger("open");return false;case 32:c.trigger("open");return false;case 38:c.trigger("open");return false;case 40:c.trigger("open");return false}}else{if(o.type==="click"){if(b(o.target).attr("aria-pressed")==="false"){c.trigger("open")}else{c.trigger("close")}return false}}});c.on("keydown open close",function(o){if(o.type==="keydown"){if(!(o.ctrlKey||o.altKey||o.metaKey)){switch(o.keyCode){case 9:c.trigger("close");return false;case 27:c.trigger("close");return false;case 37:k=b(o.target).closest("li").prev().find("a");if(k.length===0){k=n}pe.focus(k.last());return false;case 38:e=b(o.target).offset().left;k=b(o.target).closest("li").prevAll().find("a").filter(function(p){return(b(this).offset().left===e)});if(k.length>0){pe.focus(k.first())}else{k=n.filter(function(p){return(b(this).offset().left<e)});if(k.length>0){pe.focus(k.last())}else{e=n.last().offset().left;k=n.filter(function(p){return(b(this).offset().left>e)});if(k.length>0){pe.focus(k.last())}else{pe.focus(n.last())}}}return false;case 39:k=b(o.target).closest("li").next().find("a");if(k.length===0){k=n}pe.focus(k.first());return false;case 40:e=b(o.target).offset().left;k=b(o.target).closest("li").nextAll().find("a").filter(function(p){return(b(this).offset().left===e)});if(k.length>0){pe.focus(k.first())}else{k=n.filter(function(p){return(b(this).offset().left>e)});if(k.length>0){pe.focus(k.first())}else{pe.focus(n.first())}}return false;default:if((o.keyCode>47&&o.keyCode<58)||(o.keyCode>64&&o.keyCode<91)){j=String.fromCharCode(o.keyCode).toLowerCase();f=b(o.target).text();h=n.filter(function(p){return(b(this).text().substring(1,2).toLowerCase()===j||b(this).text()===f)});if(h.length>0){if(b(o.target).hasClass("bookmark_popup_text")){pe.focus(h.eq(0))}else{h.each(function(p){if(b(this).text()===f){g=p;return false}});if(g<(h.length-1)){pe.focus(h.eq(g+1));return false}pe.focus(h.eq(0))}}return false}}}}else{if(o.type==="open"){i.text(d.hideText+d.popupText).attr("aria-pressed","true");pe.focus(c.show().attr("aria-hidden","false").find("li a").first())}else{if(o.type==="close"){pe.focus(i.text(d.popupText).attr("aria-pressed","false").first());c.hide().attr("aria-hidden","true")}}}});b(document).on("click",function(o){if(c.attr("aria-hidden")==="false"){c.trigger("close")}})}else{l.addClass("popup-none")}return l}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.tabbedinterface={type:"plugin",depends:["metadata","easytabs","equalheights"],mobile:function(h){var d,g,f,e,c;d=h.find(".tabs li > a");g=h.find(".tabs-panel").children();f=b('<div data-role="collapsible-set" data-content-theme="b" data-theme="b"/>');for(e=0;e<d.length;e+=1){c=b('<div data-role="collapsible"/>');c.append("<h2>"+d.eq(e).text()+"</h2>");c.append(g.eq(e).html());if(d.eq(e).parent().hasClass("default")){c.attr("data-collapsed","false")}f.append(c)}h.replaceWith(f);return h},_exec:function(m){if(pe.mobile){return a.fn.tabbedinterface.mobile(m)}var k,x,n,d,h,u,o,q,p,e,c,l,v,r,w,i,j,f,g,s,t;q={panelActiveClass:"active",tabActiveClass:"active",defaultTab:"li:first-child",autoHeight:true,cycle:false,carousel:false,autoPlay:false,animate:false,animationSpeed:"normal",updateHash:false};p={defaultTab:((m.find(".default").length)?".default":undefined),autoHeight:m.hasClass("auto-height-none")?false:undefined,cycle:(m.hasClass("cycle-slow")?8000:(m.hasClass("cycle-fast")?2000:(m.hasClass("cycle")?6000:undefined))),carousel:m.hasClass("style-carousel")?true:undefined,autoPlay:m.hasClass("auto-play")?true:undefined,animate:(m.hasClass("animate")||m.hasClass("animate-slow")||m.hasClass("animate-fast"))?true:undefined,animationSpeed:(m.hasClass("animate-slow")?"slow":(m.hasClass("animate-fast")?"fast":undefined))};b.metadata.setType("attr","data-wet-boew");if(typeof wet_boew_tabbedinterface!=="undefined"&&wet_boew_tabbedinterface!==null){b.extend(q,wet_boew_tabbedinterface,p,m.metadata())}else{b.extend(q,p,m.metadata())}x=m.find(".tabs");d=x.find("li > a");n=m.find(".tabs-panel").children();k=(x.find(".default").length>0?x.find(".default"):x.find("li:first-child"));x.attr("role","tablist");x.find("li").each(function(){b(this).attr("role","presentation");return b(this).children("a").each(function(){return b(this).attr("role","tab").attr("aria-selected","false").attr("id",b(this).attr("href").substring(1)+"-link").bind("click",function(){b(this).parent().parent().children("."+q.tabActiveClass).children("a").each(function(){b(this).attr("aria-selected","false");return b("#"+b(this).attr("href").substring(1)).attr("aria-hidden","true")});b(this).attr("aria-selected","true");return b("#"+b(this).attr("href").substring(1)).attr("aria-hidden","false")})})});n.each(function(){return b(this).attr("role","tabpanel").attr("aria-hidden","true").attr("aria-labelledby",b('a[href*="#'+b(this).attr("id")+'"]').attr("id"))});k.children("a").each(function(){b(this).attr("aria-selected","true");return b("#"+b(this).attr("href").substring(1)).attr("aria-hidden","false")});x.find("li a").bind("focus",function(){n.stop(true,true);b(this).click()});x.find("li a").keydown(function(z){if(z.keyCode===13||z.keyCode===32){var y=n.filter(function(){return b(this).is("."+q.tabActiveClass)});y.attr("tabindex","0");if(z.stopPropagation){z.stopImmediatePropagation()}else{z.cancelBubble=true}return setTimeout(function(){return y.focus()},0)}});m.keydown(function(y){if(y.which===37||y.which===38){c(d,n,q,false);y.preventDefault()}else{if(y.which===39||y.which===40){e(d,n,q,false);y.preventDefault()}}});c=function(y,E,D,C){var B,z,A;E.stop(true,true);B=y.filter(function(){return b(this).is("."+D.tabActiveClass)});z=y.eq((y.index(B)-1)+y.size()%y.size());if(D.animate){E.filter("."+D.panelActiveClass).removeClass(D.panelActiveClass).attr("aria-hidden","true").fadeOut(D.animationSpeed,function(){return E.filter("#"+z.attr("href").substr(1)).fadeIn(D.animationSpeed,function(){return b(this).addClass(D.panelActiveClass).attr("aria-hidden","false")})})}else{E.removeClass(D.panelActiveClass).attr("aria-hidden","true").hide();E.filter("#"+z.attr("href").substr(1)).show().addClass(D.panelActiveClass).attr("aria-hidden","false")}y.parent().removeClass(D.tabActiveClass).children().removeClass(D.tabActiveClass).filter("a").attr("aria-selected","false");z.parent().addClass(D.tabActiveClass).children().addClass(D.tabActiveClass).filter("a").attr("aria-selected","true");A=B.parent().siblings(".tabs-toggle");if(!C&&(A.length===0||A.data("state")==="stopped")){return z.focus()}};e=function(y,E,D,C){var B,z,A;E.stop(true,true);B=y.filter(function(){return b(this).is("."+D.tabActiveClass)});z=y.eq((y.index(B)+1)%y.size());if(D.animate){E.filter("."+D.panelActiveClass).removeClass(D.panelActiveClass).attr("aria-hidden","true").fadeOut(D.animationSpeed,function(){return E.filter("#"+z.attr("href").substr(1)).fadeIn(D.animationSpeed,function(){return b(this).addClass(D.panelActiveClass).attr("aria-hidden","false")})})}else{E.removeClass(D.panelActiveClass).attr("aria-hidden","true").hide();E.filter("#"+z.attr("href").substr(1)).show().addClass(D.panelActiveClass).attr("aria-hidden","false")}y.parent().removeClass(D.tabActiveClass).children().removeClass(D.tabActiveClass).filter("a").attr("aria-selected","false");z.parent().addClass(D.tabActiveClass).children().addClass(D.tabActiveClass).filter("a").attr("aria-selected","true");A=B.parent().siblings(".tabs-toggle");if(!C&&(A.length===0||A.data("state")==="stopped")){return z.focus()}};w=function(){if(u.data("state")==="stopped"){e(d,n,q,true);o(d,n,q);h.removeClass(l["class"]).addClass(v["class"]).html(v.text+"<span class='wb-invisible'>"+v["hidden-text"]+"</span>").attr("aria-pressed",true);return b(".wb-invisible",h).text(v["hidden-text"])}if(u.data("state")==="started"){return r()}};if(q.autoHeight&&!m.hasClass("tabs-style-4")&&!m.hasClass("tabs-style-5")){n.show();b(".tabs-panel",m).equalHeights(true)}m.easytabs(b.extend({},q,{cycle:false}));if(q.cycle){o=function(y,B,A){var z,C;z=y.filter(function(){return b(this).is("."+A.tabActiveClass)});C=z.siblings(".tabs-roller");m.find(".tabs-toggle").data("state","started");return C.show().animate({width:z.parent().width()},A.cycle-200,"linear",function(){b(this).width(0).hide();e(y,B,A,true);return m.data("interval",setTimeout(function(){return o(y,B,A)},0))})};r=function(){clearTimeout(m.data("interval"));m.find(".tabs-roller").width(0).hide().stop();m.find(".tabs-toggle").data("state","stopped");h.removeClass(v["class"]).addClass(l["class"]).html(l.text+"<span class='wb-invisible'>"+l["hidden-text"]+"</span>").attr("aria-pressed",false);return b(".wb-invisible",h).text(l["hidden-text"])};i=b("<li class='tabs-toggle'>");s={"class":"tabs-prev",text:"&nbsp;&nbsp;&nbsp;","hidden-text":pe.dic.get("%previous")};f=b("<a class='"+s["class"]+"' href='javascript:;' role='button' aria-pressed='true'>"+s.text+"<span class='wb-invisible'>"+s["hidden-text"]+"</span></a>");x.append(i.append(f));f.click(function(){c(d,n,q,true)});j=b("<li class='tabs-toggle'>");t={"class":"tabs-next",text:"&nbsp;&nbsp;&nbsp;","hidden-text":pe.dic.get("%next")};g=b("<a class='"+t["class"]+"' href='javascript:;' role='button' aria-pressed='true'>"+t.text+"<span class='wb-invisible'>"+t["hidden-text"]+"</span></a>");x.append(j.append(g));g.click(function(){e(d,n,q,true)});u=b("<li class='tabs-toggle'>");v={"class":"tabs-stop",text:pe.dic.get("%stop"),"hidden-text":pe.dic.get("%tab-rotation","disable")};l={"class":"tabs-start",text:pe.dic.get("%play"),"hidden-text":pe.dic.get("%tab-rotation","enable")};h=b("<a class='"+v["class"]+"' href='javascript:;' role='button' aria-pressed='true'>"+v.text+"<span class='wb-invisible'>"+v["hidden-text"]+"</span></a>");x.append(u.append(h));u.click(w).bind("keydown",function(y){if(y.keyCode===32){w();return y.preventDefault()}});x.find("li a").not(u.find("a")).click(function(){return r()});d.each(function(){var y;y=b('<div class="tabs-roller">').hide().click(function(){return b(this).siblings("a").click()}).hover(function(){return b(this).css("cursor","text")});if(b.browser.msie&&b.browser.version<8){b(".tabs-style-2 .tabs, .tabs-style-2 .tabs li").css("filter","")}return b(this).parent().append(y)});o(d,n,q);if(!q.autoPlay){r()}}m.find('a[href^="#"]').each(function(){var y,z;z=b(this).attr("href");if(z.length>1){y=b(z,n);if(y.length){return b(this).click(function(C){var A,B;A=y.parents('[role="tabpanel"]:hidden');if(A){C.preventDefault();B=A.attr("id");A.parent().siblings(".tabs").find('a[href="#'+B+'"]').click();return y.get(0).scrollIntoView(true)}})}}});return m.attr("class",m.attr("class").replace(/\bwidget-style-/,"style-"))}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.texthighlight={type:"plugin",_exec:function(f){var e,d=pe.url(document.location).params||"";function c(j,m){var g,l,h,k=0;j=j.replace(/^\s+|\s+$/g,"");j=j.replace(/\|+/g,"");g=j.split("+");if(g.length>0){j="";for(h=0;h<g.length;h+=1){j+=g[h]+" "}j=j.replace(/^\s+|\s+$|\"|\(|\)/g,"")}j=j.replace(/\s+/g,"|");j=decodeURIComponent(j);j="(?=([^>]*<))([\\s'])?("+j+")(?!>)";l=m.html().replace(new RegExp(j,"gi"),function(p,o,n,i){return n+'<span class="texthighlight"><mark>'+i+"</mark></span>"});m.html(l);return null}if(d.texthighlight!==null){c(d.texthighlight,f)}return this}};window.pe=a;return a}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.toolbar={scope:"plugin",_exec:function(d){var c=b('<div class="wet-boew-toolbar" role="toolbar"><ul><li class="toolbar-top-page"> <a href="#wb-tphp" role="link">'+pe.dic.get("%top-of-page")+"</a> </li></ul></div>");b("#wb-body-sec-sup, #wb-body-sec, #wb-body").add("body").first().append(c);c.hide();b(window).bind("scroll",function(){if(b(this).scrollTop()>10){c.fadeIn("normal").attr("aria-hidden","false")}else{c.fadeOut("normal").attr("aria-hidden","true")}});if(b(window).scrollTop()<10||b(window).scrollTop()==="undefined"){c.fadeOut("normal").attr("aria-hidden","true")}else{c.fadeIn("normal").attr("aria-hidden","false")}}};window.pe=b.extend(true,window.pe,a);return window.pe}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.webwidget={type:"plugin",twitter:{_parse_entries:function(d,e,j){var h,g,c,f;h=(e>0&&e<d.length?e:d.length);f=d.sort(function(k,i){return pe.date.compare(i.created_at.replace("+0000 ","")+" GMT",k.created_at.replace("+0000 ","")+" GMT")});c='<ul class="widget-content">';g=0;while(g<h){c+='<li><a class="float-left" href="http://www.twitter.com/';c+=f[g].user.name+"/status/"+f[g].user.id+'"><img class="widget-avatar" src="'+f[g].user.profile_image_url+'" /></a> ';c+=pe.string.ify.clean(f[g].text);c+=' <span class="widget-datestamp-accent">'+pe.dic.ago(f[g].created_at)+"</span></li>";g+=1}c+="</ul>";return j.replaceWith(c)},_json_request:function(c){if(c.toLowerCase().indexOf("!/search/")>-1){return c.replace("http://","https://").replace(/https:\/\/twitter.com\/#!\/search\/(.+$)/,function(g,f,e,d){return"http://search.twitter.com/search.json?q="+encodeURI(decodeURI(f))})}return c.replace("http://","https://").replace(/https:\/\/twitter.com\/#!\/(.+$)/i,function(g,f,e,d){return"http://twitter.com/status/user_timeline/"+encodeURI(decodeURI(f))+".json?callback=?"})},exec:function(j,e,k){var c,g,h,f,d;h=j.length-1;c=[];f=this._parse_entries;g=j.length-1;d=[];while(g>=0){b.getJSON(this._json_request(j[g]),function(l){var i;i=0;while(i<l.length){c.push(l[i]);i+=1}if(!h){f(c,e,k)}h-=1;return h});d.push(g-=1)}return d}},weather:{_parse_entries:function(d,e,f){var c;c='<ul class="widget-content">';c+='<li><a href="'+d[1].link+'">'+d[1].title+'</a><span class="widget-datestamp">['+pe.date.to_iso_format(d[1].publishedDate,true)+"]</span></li>";c+="</ul>";return f.replaceWith(c)},exec:function(j,e,k){var c,g,h,f,d;h=j.length-1;c=[];f=this._parse_entries;g=j.length-1;d=[];while(g>=0){b.getJSON(this._json_request(j[g]),function(l){var i;i=0;while(i<l.responseData.feed.entries.length){c.push(l.responseData.feed.entries[i]);i+=1}if(!h){f(c,e,k)}h-=1;return h});d.push(g-=1)}return d},_json_request:function(d,c){var e;d=d.replace(/^.*?\.gc\.ca\/([a-z]+).+\/(.*?)_[a-z]+_([ef])\.html/i,"http://www.weatheroffice.gc.ca/rss/$1/$2_$3.xml");e="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+encodeURI(decodeURI(d));if(c>0){e+="&num="+c}return e}},rss:{_parse_entries:function(d,e,j){var h,g,c,f;h=(e>0&&e<d.length?e:d.length);f=d.sort(function(k,i){return pe.date.compare(i.publishedDate,k.publishedDate)});c='<ul class="widget-content">';g=0;while(g<h){c+='<li><a href="'+f[g].link+'">'+f[g].title+'</a><span class="widget-datestamp">['+pe.date.to_iso_format(f[g].publishedDate,true)+"]</span></li>";g+=1}c+="</ul>";return j.replaceWith(c)},exec:function(j,e,k){var c,g,h,f,d;h=j.length-1;c=[];f=this._parse_entries;g=j.length-1;d=[];while(g>=0){b.getJSON(this._json_request(j[g]),function(l){var i;i=0;while(i<l.responseData.feed.entries.length){c.push(l.responseData.feed.entries[i]);i+=1}if(!h){f(c,e,k)}h-=1;return h});d.push(g-=1)}return d},_json_request:function(d,c){var e;e="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+encodeURI(decodeURI(d));if(c>0){e+="&num="+c}return e}},_exec:function(h,g){var f,d,c,e;f=b(h);e=pe.limit(f);c=f.find("a").map(function(){var i;i=b(this).attr("href");if(!g&&/twitter.com/i.test(i)){g="twitter"}if(!g&&/weatheroffice.gc.ca/i.test(i)){g="weather"}if(!g){g="rss"}return b(this).attr("href")});d=b('<ul class="widget-content"><li class="widget-state-loading"><img src="'+pe.add.liblocation+'/images/webfeeds/ajax-loader.gif" alt="'+pe.dic.get("%loading")+'" /></li></ul>');f.find(".widget-content").replaceWith(d);b.extend({},a.fn.webwidget[g]).exec(c,e,d);return}};window.pe=a;return window.pe}(jQuery));(function(b){var a=window.pe||{fn:{}};a.fn.zebra={type:"plugin",_exec:function(f){var c,d,e;if(f.is("table")){c=(f.children("tr").add(f.children("tbody").children("tr"))).filter(function(){return b(this).children("td").length>0});c.filter(":odd").addClass("table-even");c.filter(":even").addClass("table-odd");c.on("hover focusin focusout",function(g){g.stopPropagation();b(this).toggleClass("table-hover")})}else{d=f.children("li");e=(f.parents("li").length+1)%2;d.filter(":odd").addClass(e===0?"list-odd":"list-even");d.filter(":even").addClass(e===1?"list-odd":"list-even");d.on("mouseover mouseout focusin focusout",function(g){g.stopPropagation();b(this).toggleClass("list-hover")})}}};window.pe=a;return a}(jQuery));